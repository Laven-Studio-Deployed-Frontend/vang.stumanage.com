{"version":3,"sources":["styles/resources/Logo.png","serviceWorker.js","functions/Api.jsx","functions/Global.jsx","components/DatePicker/index.jsx","components/Header_bar.jsx","components/Spiners.jsx","components/Table.jsx","views/Home.jsx","components/Modals.jsx","components/Cards.jsx","components/Forms.jsx","views/Bill_Edit.jsx","views/BillPrint.jsx","components/Calendar/functions.jsx","components/Calendar/Calendar.jsx","views/Calendar.jsx","views/Customers.jsx","views/Take_Photo_Packages.jsx","views/Services.jsx","views/Products.jsx","views/TotalAnalytics.jsx","views/RealtimeAnalytics.jsx","views/Settings.jsx","views/Staff.jsx","views/Staff_Edit.jsx","views/Permission.jsx","views/Branch.jsx","views/Login.jsx","views/Status.jsx","views/Logout.jsx","views/Salary.jsx","views/SalaryEdit.jsx","views/Backup.jsx","views/Trash.jsx","views/Spending.jsx","components/Side_bar.jsx","components/ChamCongTable.jsx","views/ChamCong.jsx","views/ChamCongList.jsx","views/ChamCongManagement.jsx","views/Personnel.jsx","App.js","index.js"],"names":["module","exports","Boolean","window","location","hostname","match","createService","data","callback","Axios","post","API","then","res","getServices","APIs","action","params","result","createGoiChup","getGoiChup","createSpending","getSpending","getBill","getSingleBill","id","removeStaff","createStaff","console","log","updateStaff","getStaff","getSingleStaff","createPermission","updatePermission","getPermissions","getStatus","updateBranch","getBranch","getSalaryHistory","get","updateSalaryHistory","LINK","APP_VERSION_LABEL","numberWithCommas","x","toString","replace","findWithAttr","array","attr","value","i","length","transDate","date","n_date","split","removeVietnameseTones","str","trim","salaryLoad","staff_data","year","month","user_id","_id","cham_cong_data","tong_ngay_cong","salary_history","date_filter","parseInt","date_now","Date","getFullYear","getMonth","salary_data","filter","date_created","luong_thang","Math","round","luong_co_ban","parseFloat","ngay_cong","dich_vu","goi_chup","bills","deleted","ngay_chup","total_photo","total_service","total_photoshop","map","photo","products","product","e","ten_goi","indexOf","gia","so_luong","giam_gia","phan_tram_thuong_goi_chup_photo","support","phan_tram_thuong_goi_chup_tu_van","photoshop","phan_tram_thuong_photoshop","phan_tram_thuong_dich_vu_tu_van","ho_ten","email","total","thuc_lanh","salaryCalculate","calendar","daysOfMonth","months","days","push","setDate","getDate","getDaysInMonth","getDay","year_data","LavenDatePicker","props","handleUpdateCalendar","setState","calendar_data","handleNavigate","type","state","focus_month","focus_year","handleChange","handleFocusDate","focus_date","is_visible","handleFocusMonth","handleFocusYear","date_str","format","onChange","handleClickOutside","event","wrapperRef","current","contains","target","hasDate","hasMonth","hasYear","dates","tab","month_data","React","createRef","document","addEventListener","this","removeEventListener","className","style","onClick","readOnly","disabled","display","ref","key","Component","FilterDropDown","handleClick","onHideDropDown","goi_chup_data","staff","branch","status","refs","chi_nhanh","tinh_trang","onFilter","Array","from","val","index","visible","handleSalaryFilter","bind","selected","ten_chi_nhanh","ten_tinh_trang","handleFilter","SideBar","pathname","perms","localStorage","getItem","permisisons","onClose","bill","to","customers","spending","services","total_analytics","realtime_analytics","FullSearchBox","placeholder","onKeyUp","undefined","autocomplete_data","title","gio_chup","HeaderBar","handleShowFilterDropdown","setTimeout","filter_dropdown_visible","handleHideFilterDropdown","handleSearch","onSearchKeyPress","sidebar_visible","searching","isMobile","href","onDropdownFilterBtnClick","TakePhotoPackagesHeader","handleOpenModal","ServicesHeader","SettingsHeader","DefaultHeaderBar","back_link","onGoBack","opacity","fontSize","fontWeight","marginRight","customTitle","onDropdownFilterSalaryBtnClick","handleEdit","create_btn_link","handleCreate","handleAddProduct","handlePrintBill","handleSave","handleRestore","handleRemove","handleCalendarFilter","HashSpiner","BillTableContainer","status_color","ngay_giao_hinh","birth_day","getHours","getMinutes","getSeconds","ngay_sinh_be","isDelete","ten_khach_hang","so_dien_thoai","ho_ten_be","tong","dat_coc_1","thanh_toan_l1_1","thanh_toan_l2_1","thanh_toan_l3_1","color","ghi_chu","CustomersTableContainer","width","dia_chi","BillEditProductTable","flex","onEdit","chiet_khau","TakePicturePackageTable","SpendingTable","noi_dung","so_tien","user","SpendingTableAnalytics","margin","ngay_chi","ServicesTable","StaffTable","ngay_sinh","chuc_vu","ten_nhom","SalaryTable","perm","staff_salary","defaultValue","onInputChange","ChamCongTable","BranchTable","StatusTable","AnalyticsTable","sort","a","b","colors","thu_trong_ngay","Home","search_value","typingTimeout","clearTimeout","self","typing","search","filtered_data","toLowerCase","default_bill_data","TakePhotoPackageModal","onLoading","handleCloseModal","loading","is_open","TakePhotoPackageEditModal","updateGoiChup","edit_id","SpendingModal","alert","SpendingEditModal","updateSpending","date_edit","handleChangeDate","onChangeDate","ServicesModal","ten_dich_vu","ServicesEditModal","updateService","PermissionModal","onCreateNew","PermissionEditModal","BillServicesModal","ten_san_pham","new_data","onSave","concat","min","BillServicesEditModal","onRemove","StatusModal","createStatus","handleChangeColor","StatusEditModal","BranchModal","createBranch","BranchEditModal","CalendarModal","class","MobileCalendarModal","SalaryTableCard","history","AnalyticsCard","cursor","chuyen_khoan_num","tien_mat_num","ProductCard","sub_title","background","image","BillForm","birthday","gioi_tinh_be","so_tuoi","onTagsChange","handleChangeBirthday","new_date","age","fromdate","todate","y","ydiff","m","mdiff","d","ddiff","setMonth","getAge","handleChangeNgayGiaoHinh","ProductListForm","dat_coc_2","thanh_toan_l1_2","thanh_toan_l2_2","thanh_toan_l3_2","dat_coc_1_time","dat_coc_1_des","thanh_toan_l1_1_time","thanh_toan_l1_1_des","thanh_toan_l2_1_time","thanh_toan_l2_1_des","thanh_toan_l3_1_time","thanh_toan_l3_1_des","con_no_1","handleChangeInput","element","date_des","handleUpdateConNo","handleUpdateConNoAfterChangeProduct","old_data","abs","dateNow","product_total","StaffForm","password","StaffSalaryForm","handleLoadBonus","dich_vu_data","redirect","tong_doanh_thu","thuong_dich_vu","tong_thuong","SalaryTableCalculate","socket","socketIOClient","BillEdit","handleSaveOnclick","product_list_form","bill_form","bill_data","handleSubmit","handleSaveProduct","product_data","handleSaveProductTab","handleCloseAddProductModal","handleUpdateProductTab","handleRemoveProductTab","datas","data_2","Object","assign","is_editting","editing_id","updateBill","emit","createBill","handleOpenAddProductModal","is_modal_open","handleOpenEditProductModal","bill_services_edit_modal","is_edit_modal_open","edit_data","print_bill","user_edited_name","user_edited_id","goBack","trash","marginTop","marginLeft","BillPrint","handlePrint","view_header","print","textDecoration","textAlign","marginBottom","whiteSpace","compare","time1","time2","CalendarHeader","onNavigate","CalendarBlock","events","onBlockClick","CalendarActionButtons","LavenCalendar","componentDidMount","handleFocusBlock","onClickDate","date_check","events_num","CalendarView","on","gioi_tinh","event_data","splice","handleEventClick","modal_visible","modal_data","modal_date","ngay_chup_a","ngay_chup_b","forEach","old_events","link","m_modal_visible","m_modal_data","Customers","TakePhotoPackages","updateData","modal_is_open","handleOpenEditModal","getSingleGoiChup","edit_modal_is_open","data_goi_chup","reverse","Services","getSingleService","data_dich_vu","Products","TotalAnalytics","handleChangeFromDate","fromDate","handleChangeToDate","toDate","total_num","total_da_thu_chuyen_khoan","total_da_thu_tien_mat","total_da_thu","total_con_no","startDate","endDate","list","photos","filter_by_attributes","total_bill","total_da_thu_ck","total_da_thu_tm","handleDateTotalFilter","RealtimeAnalytics","total_spending","total_spending_chuyen_khoan","total_spending_tien_mat","start_date","end_date","spending_data","total_con_giu","total_con_giu_chuyen_khoan","total_con_giu_tien_mat","is_spending","thanh_toan_l1_ho_ten","thanh_toan_l2_ho_ten","thanh_toan_l3_ho_ten","dat_coc_ho_ten","dat_coc_time","thanh_toan_l1_time","thanh_toan_l2_time","thanh_toan_l3_time","filter_by_dat_coc","filter_by_thanh_toan_l1","filter_by_thanh_toan_l2","filter_by_thanh_toan_l3","filter_all","total_spending_ck","total_spending_tm","total_con_giu_ck","total_con_giu_tm","spending_analytics","Settings","backup","Staff","StaffEdit","staff_form","saveStaff","TabBar","handleChangeTab","tab_active","onChangeTab","TabContentContainer","empty","onTickBox","defaultChecked","cham_cong","Permission","onTabChange","tab_data","handleOpenCreateModal","handleTickBox","permission_data","element_data","checked","handleUpdate","handleUpdateData","Branch","getSingleBranch","Login","preventDefault","response","msg","chuc_vu_name","setItem","JWT","logged_time","reload","loginSuccess","loginMsg","method","onSubmit","Status","getSingleStatus","status_edit_modal","Logout","componentWillUnmount","handleLogout","removeItem","success","Salary","default_salary_data","salary_calc_data","s_data","Backup","formData","FormData","backupFile","files","append","headers","htmlFor","name","Trash","Spending","getSingleSpending","data_spending","date_trans","handleToggleSideBar","side_bar","handleChamCong","sang","chieu","counts_sang","counts_chieu","num","ngay_cong_sang","ngay_cong_chieu","today","monthNow","ChamCong","ChamCongManagement","Personnel","PrivateRoute","component","rest","render","Version","Main","exact","path","ChamCongList","SalaryEdit","App","useState","auth","ReactDOM","basename","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.b259c2f3.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Logo.cac831bc.png\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import Axios from 'axios';\nimport {API} from './Global';\n\n//SERVICES API\n//#region\n//CREATE \nfunction createService(data, callback) {\n    Axios.post(API + '/create_service', {data: data}).then((res) => {\n        return callback(res);\n    });\n}\n\n//GET\nfunction getServices(callback) {\n    Axios.post(API + '/get_services', {}).then((res) => {\n        return callback(res.data.data);\n    });\n}\n\n//GET SINGLE\nfunction getSingleService(id, callback) {\n    Axios.post(API + '/get_single_service/' + id, {}).then((res) => {\n        return callback(res.data.data[0]);\n    });\n}\n\n//UPDATE\nfunction updateService(data, callback) {\n    Axios.post(API + '/update_service', {data:data}).then((res) => {\n        return callback(res);\n    });\n}\n\n//REMOVE\nfunction removeService(id, callback) {\n    Axios.post(API + '/remove_service', {id:id}).then((res) => {\n        return callback(res);\n    });\n}\n\n//#endregion\n\n//GLOBAL API\nconst APIs = {\n    get: (action, callback) => {\n        Axios.get(`${API}${action}`).then((result) => {\n            return callback(result.data);\n        })\n    },\n    post: (action, params, data, callback) => {\n        Axios.post(`${API}${action}${params}`,data).then((result) => {\n            return callback(result.data);\n        })\n    }\n}\n\n//GOI CHUP API\n//#region\n//CREATE GOI CHUP\nfunction createGoiChup(data, callback) {\n    Axios.post(API + '/create_goi_chup', {data: data}).then((res) => {\n        return callback(res);\n    });\n}\n\n//GET GOI CHUP\nfunction getGoiChup(callback) {\n    Axios.post(API + '/get_goi_chup', {}).then((res) => {\n        return callback(res.data.data);\n    });\n}\n\n//GET SINGLE\nfunction getSingleGoiChup(id, callback) {\n    Axios.post(API + '/get_single_goi_chup/' + id, {}).then((res) => {\n        return callback(res.data.data[0]);\n    });\n}\n\n//UPDATE\nfunction updateGoiChup(data, callback) {\n    Axios.post(API + '/update_goi_chup', {data:data}).then((res) => {\n        return callback(res);\n    });\n}\n\n//REMOVE\nfunction removeGoiChup(id, callback) {\n    Axios.post(API + '/remove_goi_chup', {id:id}).then((res) => {\n        return callback(res);\n    });\n}\n\n//#endregion\n\n//CHI API\n//#region\n//CREATE CHI\nfunction createSpending(data, callback) {\n    Axios.post(API + '/create_spending', {data: data}).then((res) => {\n        return callback(res);\n    });\n}\n\n//GET CHI\nfunction getSpending(callback) {\n    Axios.post(API + '/get_spending', {}).then((res) => {\n        return callback(res.data.data);\n    });\n}\n\n//GET CHI\nfunction getSingleSpending(id, callback) {\n    Axios.post(API + '/get_single_spending/' + id, {}).then((res) => {\n        return callback(res.data.data[0]);\n    });\n}\n\n//UPDATE\nfunction updateSpending(data, callback) {\n    Axios.post(API + '/update_spending', {data:data}).then((res) => {\n        return callback(res);\n    });\n}\n\n//REMOVE\nfunction removeSpending(id, callback) {\n    Axios.post(API + '/remove_spending', {id:id}).then((res) => {\n        return callback(res);\n    });\n}\n\n//#endregion\n\n//BILL API\n//#region\n//CREATE BILL\n\nfunction removeBill(id, callback) {\n    Axios.post(API + '/remove_bill', {id: id}).then((res) => {\n        return callback(res);\n    });\n}\n\nfunction restoreBill(id, callback) {\n    Axios.post(API + '/restore_bill', {id: id}).then((res) => {\n        return callback(res);\n    });\n}\n\nfunction createBill(data, callback) {\n    Axios.post(API + '/create_bill', {data: data}).then((res) => {\n        return callback(res);\n    });\n}\n\n//UPDATE BILL\nfunction updateBill(data, callback) {\n    Axios.post(API + '/update_bill', {data:data}).then((res) => {\n        return callback(res);\n    });\n}\n\n//GET BILL\nfunction getBill(callback) {\n    Axios.post(API + '/get_bill', {}).then((res) => {\n        return callback(res.data.data);\n    });\n}\n\n//GET SINGLE BILL\nfunction getSingleBill(id, callback) {\n    Axios.post(API + '/get_single_bill/' + id, {}).then((res) => {\n        return callback(res.data.data);\n    });\n}\n\n//#endregion\n\n//STAFF API\n//#region\n//REMOVE\nfunction removeStaff(id, callback) {\n    Axios.post(API + '/remove_staff', {id:id}).then((res) => {\n        return callback(res);\n    });\n}\n//CREATE STAFF\n\nfunction createStaff(data, callback) {\n    Axios.post(API + '/register', {data: data}).then((res) => {\n        console.log(res);\n        return callback(res);\n    });\n}\n\n//UPDATE STAFF\nfunction updateStaff(data, id, callback) {\n    Axios.post(API + '/update_staff/' + id, {data:data}).then((res) => {\n        return callback(res);\n    });\n}\n\n//GET STAFF\nfunction getStaff(callback) {\n    Axios.post(API + '/get_staff', {}).then((res) => {\n        return callback(res.data.data);\n    });\n}\n\n//GET SINGLE STAFF\nfunction getSingleStaff(id, callback) {\n    Axios.post(API + '/get_single_staff/' + id, {}).then((res) => {\n        return callback(res.data.data);\n    });\n}\n\n//GET SINGLE STAFF\nfunction getSingleStaffFromEmail(email, callback) {\n    Axios.post(API + '/get_single_staff_from_email/' + email, {}).then((res) => {\n        return callback(res.data.data);\n    });\n}\n\n//#endregion\n\n//PERMISSIONS API\n//#region\n//CREATE BILL\n\nfunction createPermission(data, callback) {\n    Axios.post(API + '/create_permission', {data: data}).then((res) => {\n        return callback(res);\n    });\n}\n\n//UPDATE BILL\nfunction updatePermission(data, callback) {\n    Axios.post(API + '/update_permission', {data:data}).then((res) => {\n        return callback(res);\n    });\n}\n\n//GET BILL\nfunction getPermissions(callback) {\n    Axios.post(API + '/get_permissions', {}).then((res) => {\n        return callback(res.data.data);\n    });\n}\n\n//GET SINGLE BILL\nfunction getSinglePermission(id, callback) {\n    Axios.post(API + '/get_single_permission/' + id, {}).then((res) => {\n        return callback(res.data.data[0]);\n    });\n}\n\n//#endregion\n\n//LOGOUT API\nfunction logout(data, callback) {\n    Axios.post(API + '/logout', {data: data}).then((res) => {\n        return callback(res);\n    });\n}\n\n//STATUS API\n//#region\n//CREATE STATUS\nfunction createStatus(data, callback) {\n    Axios.post(API + '/create_status', {data: data}).then((res) => {\n        return callback(res);\n    });\n}\n\n//UPDATE STATUS\nfunction updateStatus(data, callback) {\n    Axios.post(API + '/update_status/' + data.id, {ten_tinh_trang:data.ten_tinh_trang, color: data.color}).then((res) => {\n        return callback(res);\n    });\n}\n\n//GET STATUS\nfunction getStatus(callback) {\n    Axios.post(API + '/get_status', {}).then((res) => {\n        return callback(res.data.data);\n    });\n}\n\n//GET SINGLE STATUS\nfunction getSingleStatus(id, callback) {\n    Axios.post(API + '/get_single_status/' + id, {}).then((res) => {\n        return callback(res.data.data);\n    });\n}\n//REMOVE SINGLE STATUS\nfunction removeStatus(id, callback) {\n    Axios.post(API + '/remove_status/' + id, {}).then((res) => {\n        return callback(res.data.data[0]);\n    });\n}\n//#endregion\n\n//BRANCH API\n//#region\n//CREATE BRANCH\n\nfunction createBranch(data, callback) {\n    Axios.post(API + '/create_branch', {data: data}).then((res) => {\n        return callback(res);\n    });\n}\n\n//UPDATE BRANCH\nfunction updateBranch(data, callback) {\n    Axios.post(API + '/update_branch', {data:data}).then((res) => {\n        return callback(res);\n    });\n}\n\n//GET BRANCH\nfunction getBranch(callback) {\n    Axios.post(API + '/get_branch', {}).then((res) => {\n        return callback(res.data.data);\n    });\n}\n\n//GET SINGLE BRANCH\nfunction getSingleBranch(id, callback) {\n    Axios.post(API + '/get_single_branch/' + id, {}).then((res) => {\n        return callback(res.data.data[0]);\n    });\n}\n\n//#endregion\n\n//SALARY HISTORY API\nfunction getSalaryHistory(callback) {\n    Axios.get(API + '/get_salary').then((res) => {\n        return callback(res);\n    });\n}\n\nfunction updateSalaryHistory(id ,data, callback) {\n    Axios.post(API + '/update_salary/'+id, data).then((res) => {\n        return callback(res);\n    });\n}\n\nexport {\n    createService,\n    getServices,\n    getSingleService,\n    updateService,\n    createBill,\n    getBill,\n    getSingleBill,\n    updateBill,\n    createGoiChup,\n    getSingleGoiChup,\n    updateGoiChup,\n    getGoiChup,\n    getSingleSpending,\n    updateSpending,\n    getSpending,\n    getSingleStaffFromEmail,\n    removeSpending,\n    createSpending,\n    createStaff,\n    getStaff,\n    getSingleStaff,\n    updateStaff,\n    createPermission,\n    getPermissions,\n    getSinglePermission,\n    updatePermission,\n    createBranch,\n    updateBranch,\n    getBranch,\n    getSingleBranch,\n    removeBill,\n    removeService,\n    removeGoiChup,\n    getSalaryHistory,\n    removeStaff,\n    createStatus,\n    updateStatus,\n    getStatus,\n    getSingleStatus,\n    removeStatus,\n    logout,\n    updateSalaryHistory,\n    restoreBill,\n    APIs\n}","import { isCompositeComponentWithType } from 'react-dom/test-utils';\nimport {\n    getBill,\n    getGoiChup,\n    getServices,\n    getSalaryHistory,\n    APIs\n} from './Api';\n\nconst DEBUG = false;\nconst TYPE = \"vang\"; // vang || hethong || demo\nconst LINK = DEBUG ? `http://localhost:${TYPE == 'hethong' ? 8005 :  TYPE == 'vang' ? 8004 : 8006}` : `http://server.mohome.vn:${TYPE == 'hethong' ? 8005 :  TYPE == 'vang' ? 8004 : 8006}`;\nconst API = DEBUG ? `http://localhost:${TYPE == 'hethong' ? 8005 :  TYPE == 'vang' ? 8004 : 8006}/api/v1` : `http://server.mohome.vn:${TYPE == 'hethong' ? 8005 :  TYPE == 'vang' ? 8004 : 8006}/api/v1`;\n\nexport const APP_VERSION = \"3.20.50\"\nexport const APP_VERSION_LABEL = `Beta [ ${APP_VERSION} ]`\n\nfunction numberWithCommas(x) {\n    if(x) {\n        return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n    }\n\n    return 0;\n}\n\nfunction findWithAttr(array, attr, value) {\n    if(array) {\n        for (var i = 0; i < array.length; i += 1) {\n            if (array[i][attr] === value) {\n                return i;\n            }\n        }\n    }\n    return -1;\n}\n\n//ĐỔI ĐỊNH DẠNG NGÀY MỚI SANG CŨ\nexport const transDate = {\n    toOld: ((date) => {\n        let n_date = date.split(\"-\");\n        n_date = n_date[0].length == 2 ? n_date[2] + '-' + n_date[1] + '-' + n_date[0] : n_date[0] + '-' + n_date[1] + '-' + n_date[2]\n\n        return n_date;\n    }),\n    toNew: ((date) => {\n        let o_date = date.split(\"-\");\n        o_date = o_date[0].length == 2 ? o_date[0] + '-' + o_date[1] + '-' + o_date[2] : o_date[2] + '-' + o_date[1] + '-' + o_date[0]\n\n        return o_date;\n    })\n}\n\n//TÍNH TUỔI \nfunction getAge(fromdate){ \n    let todate= new Date(); \n\n    var age= [], fromdate= new Date(fromdate), \n    y= [todate.getFullYear(), fromdate.getFullYear()], \n    ydiff= y[0]-y[1], \n    m= [todate.getMonth(), fromdate.getMonth()], \n    mdiff= m[0]-m[1], \n    d= [todate.getDate(), fromdate.getDate()], \n    ddiff= d[0]-d[1]; \n\n    //if(mdiff < 0 || (mdiff=== 0 && ddiff<0))--ydiff; \n    if(mdiff<0) mdiff+= 12; \n    if(ddiff<0){ \n     fromdate.setMonth(m[1]+1, 0); \n     ddiff= fromdate.getDate()-d[1]+d[0]; \n     --mdiff; \n    } \n\n    if(ydiff> 0) age = ydiff + ' tuổi'; \n    else if(mdiff> 0) age = mdiff + ' tháng'; \n    else if(ddiff> 0) age = ddiff + ' ngày'; \n\n    return age; \n} \n\nfunction removeVietnameseTones(str) {\n    str = str.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g, \"a\");\n    str = str.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g, \"e\");\n    str = str.replace(/ì|í|ị|ỉ|ĩ/g, \"i\");\n    str = str.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g, \"o\");\n    str = str.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g, \"u\");\n    str = str.replace(/ỳ|ý|ỵ|ỷ|ỹ/g, \"y\");\n    str = str.replace(/đ/g, \"d\");\n    str = str.replace(/À|Á|Ạ|Ả|Ã|Â|Ầ|Ấ|Ậ|Ẩ|Ẫ|Ă|Ằ|Ắ|Ặ|Ẳ|Ẵ/g, \"A\");\n    str = str.replace(/È|É|Ẹ|Ẻ|Ẽ|Ê|Ề|Ế|Ệ|Ể|Ễ/g, \"E\");\n    str = str.replace(/Ì|Í|Ị|Ỉ|Ĩ/g, \"I\");\n    str = str.replace(/Ò|Ó|Ọ|Ỏ|Õ|Ô|Ồ|Ố|Ộ|Ổ|Ỗ|Ơ|Ờ|Ớ|Ợ|Ở|Ỡ/g, \"O\");\n    str = str.replace(/Ù|Ú|Ụ|Ủ|Ũ|Ư|Ừ|Ứ|Ự|Ử|Ữ/g, \"U\");\n    str = str.replace(/Ỳ|Ý|Ỵ|Ỷ|Ỹ/g, \"Y\");\n    str = str.replace(/Đ/g, \"D\");\n    // Some system encode vietnamese combining accent as individual utf-8 characters\n    // Một vài bộ encode coi các dấu mũ, dấu chữ như một kí tự riêng biệt nên thêm hai dòng này\n    str = str.replace(/\\u0300|\\u0301|\\u0303|\\u0309|\\u0323/g, \"\"); // ̀ ́ ̃ ̉ ̣  huyền, sắc, ngã, hỏi, nặng\n    str = str.replace(/\\u02C6|\\u0306|\\u031B/g, \"\"); // ˆ ̆ ̛  Â, Ê, Ă, Ơ, Ư\n    // Remove extra spaces\n    // Bỏ các khoảng trắng liền nhau\n    str = str.replace(/ + /g, \" \");\n    str = str.trim();\n    // Remove punctuations\n    // Bỏ dấu câu, kí tự đặc biệt\n    str = str.replace(/!|@|%|\\^|\\*|\\(|\\)|\\+|\\=|\\<|\\>|\\?|\\/|,|\\.|\\:|\\;|\\'|\\\"|\\&|\\#|\\[|\\]|~|\\$|_|`|-|{|}|\\||\\\\/g, \" \");\n    return str;\n}\n\n//FUNCITON TÍNH BẢNG LƯƠNG\nfunction salaryLoad(staff_data, year, month, callback) {\n    //GET TONG NGAY CONG\n    APIs.post('/get_cham_cong', '', {user_id: staff_data._id, month: (month + 1), year: year}, (cham_cong_data) => {\n        let tong_ngay_cong = cham_cong_data.tong_ngay_cong;\n\n        //GET SALARY TABLE HISTORY\n        getSalaryHistory((salary_history) => {\n            let date_filter = year + '-' + ((parseInt(month) + 1) <= 9 ? '0' + (parseInt(month) + 1) : (parseInt(month) + 1));\n            let date_now = new Date().getFullYear() + '-' + (new Date().getMonth() + 1 <= 9 ? '0' + (new Date().getMonth() + 1) : new Date().getMonth() + 1);\n    \n            //Lọc bảng lương theo tháng và tên nhân viên\n            let salary_data = salary_history.data.filter((data, i) => {\n                let date_created  = data.date_created.split(\"T\");\n                date_created = date_created[0].split(\"-\");\n                date_created = date_created[0] + '-' + date_created[1];\n    \n                if(staff_data._id !== data.user_id) return false;\n    \n                return date_created == date_filter;\n            })\n    \n            const luong_thang = Math.round(salary_data.length > 0 ? (parseInt(salary_data[0].luong_co_ban) / 28 * parseFloat(tong_ngay_cong ? tong_ngay_cong : salary_data[0].ngay_cong)) : \n                                date_filter==date_now ? (parseInt(staff_data.luong_co_ban) / 28 * (tong_ngay_cong ? tong_ngay_cong : staff_data.ngay_cong)) : 0);\n\n            //GET BILLS\n            getBill((res) => {\n                if(res) {\n                    getServices((dich_vu) => {\n                        if(dich_vu) {\n                            getGoiChup((goi_chup) => {\n    \n                                //Lọc thời gian của bill\n                                let bills = res.filter((data, i) => {\n                                    if(data.deleted) return false;\n    \n                                    if(data.ngay_chup) {\n                                        let ngay_chup = data.ngay_chup.split(\"-\");\n                                        ngay_chup = ngay_chup[0].length !== 2 ? ngay_chup[0] + '-' + ngay_chup[1] : ngay_chup[2] + '-' + ngay_chup[1];\n            \n                                        return ngay_chup == date_filter;\n                                    }\n                                });\n            \n                                let total_photo = 0;\n                                let total_service = 0;\n                                let total_photoshop = 0;\n                    \n                                //Tính tổng thưởng photo và support & photosohp\n                                bills.map((data, i) => {\n                                    if(data.photo === staff_data._id) {\n                                        data.products.map((product, i) => {\n                                            let goi_chup_filter = goi_chup.map(function(e) { return e.ten_goi; }).indexOf(product.ten_goi);\n                                            if(goi_chup_filter > -1) total_photo += (parseInt(product.gia) * parseInt(product.so_luong) - (product.giam_gia ? parseInt(product.giam_gia) : 0)) * (staff_data.phan_tram_thuong_goi_chup_photo) / 100\n                                        });\n                                    }\n\n                                    if(data.support === staff_data._id) {\n                                        data.products.map((product, i) => {\n                                            let goi_chup_filter = goi_chup.map(function(e) { return e.ten_goi; }).indexOf(product.ten_goi);\n                                            if(goi_chup_filter > -1) total_photo += (parseInt(product.gia) * parseInt(product.so_luong) - (product.giam_gia ? parseInt(product.giam_gia) : 0)) * (staff_data.phan_tram_thuong_goi_chup_tu_van) / 100\n                                        });\n                                    }\n\n                                    if(data.photoshop === staff_data._id) {\n                                        data.products.map((product, i) => {\n                                            let goi_chup_filter = goi_chup.map(function(e) { return e.ten_goi; }).indexOf(product.ten_goi);\n                                            if(goi_chup_filter > -1) total_photoshop += (parseInt(product.gia) * parseInt(product.so_luong) - (product.giam_gia ? parseInt(product.giam_gia) : 0)) * (staff_data.phan_tram_thuong_photoshop) / 100\n                                        });\n                                    }\n                                })\n\n                                //Tính tổng thưởng dịch vụ\n                                bills.map((data, i) => {\n                                    if(data.support === staff_data._id) {\n                                        data.products.map((product, i) => {\n                                            let goi_chup_filter = dich_vu.map(function(e) { return e.ten_goi; }).indexOf(product.ten_goi);\n                                            if(goi_chup_filter > -1) total_service += (parseInt(product.gia) * parseInt(product.so_luong) - (product.giam_gia ? parseInt(product.giam_gia) : 0)) * (staff_data.phan_tram_thuong_dich_vu_tu_van) / 100\n                                        });\n                                    }\n                                })\n                            \n                                return callback({\n                                    _id: staff_data._id,\n                                    ho_ten: staff_data.ho_ten,\n                                    email: staff_data.email,\n                                    phan_tram_thuong_goi_chup_tu_van: salary_data.length > 0 ? salary_data[0].phan_tram_thuong_goi_chup_tu_van : date_filter==date_now ? staff_data.phan_tram_thuong_goi_chup_tu_van : 0,\n                                    phan_tram_thuong_goi_chup_photo: salary_data.length > 0 ? salary_data[0].phan_tram_thuong_goi_chup_photo : date_filter==date_now ? staff_data.phan_tram_thuong_goi_chup_photo : 0,\n                                    phan_tram_thuong_photoshop: salary_data.length > 0 ? salary_data[0].phan_tram_thuong_photoshop : date_filter==date_now ? staff_data.phan_tram_thuong_photoshop : 0,\n                                    phan_tram_thuong_dich_vu_tu_van: salary_data.length > 0 ? salary_data[0].phan_tram_thuong_dich_vu_tu_van : date_filter==date_now ? staff_data.phan_tram_thuong_dich_vu_tu_van : 0,\n                                    ngay_cong: salary_data.length > 0 ? tong_ngay_cong ? tong_ngay_cong : salary_data[0].ngay_cong : date_filter==date_now ? tong_ngay_cong ? tong_ngay_cong : staff_data.ngay_cong : 0,\n                                    luong_co_ban: salary_data.length > 0 ? salary_data[0].luong_co_ban : date_filter==date_now ? staff_data.luong_co_ban : 0,\n                                    total_photo: total_photo,\n                                    total_service: total_service,\n                                    total_photoshop: total_photoshop,\n                                    total: total_photo + total_service + total_photoshop,\n                                    thuc_lanh: luong_thang + (total_photo + total_service + total_photoshop),\n                                    luong_thang: luong_thang,\n                                    date_created: date_filter\n                                })\n                            })\n                        }\n                    })\n                }\n            })\n    \n        })\n    })\n}\n\n\n//FUNCITON TÍNH BẢNG LƯƠNG ĐÃ LOADLOAD\nfunction salaryCalculate(staff_data, year, month, callback) {\n    getSalaryHistory((salary_history) => {\n        \n        const luong_thang = Math.round((parseInt(staff_data.luong_co_ban) / 28 * staff_data.ngay_cong));\n        let date_filter = year + '-' + ((parseInt(month) + 1) <= 9 ? '0' + (parseInt(month) + 1) : (parseInt(month) + 1));\n        \n        getBill((res) => {\n            if(res) {\n                \n                getServices((dich_vu) => {\n                    if(dich_vu) {\n                        \n                getGoiChup((goi_chup) => {\n\n                    //Lọc thời gian của bill\n                    let bills = res.filter((data, i) => {\n                        if(data.deleted) return false;\n\n                        if(data.ngay_chup) {\n                            let ngay_chup = data.ngay_chup.split(\"-\");\n                            ngay_chup = ngay_chup[0].length == 2 ? ngay_chup[2] + \"-\" + ngay_chup[1] : ngay_chup[0] + '-' + ngay_chup[1]\n                            return ngay_chup == date_filter;\n                        }\n                    });\n\n                    let total_photo = 0;\n                    let total_service = 0;\n                    let total_photoshop = 0;\n                    \n                    //Tính tổng thưởng photo và support\n                    bills.map((data, i) => {\n                        if(data.photo === staff_data._id) {\n                            data.products.map((product, i) => {\n                                let goi_chup_filter = goi_chup.map(function(e) { return e.ten_goi; }).indexOf(product.ten_goi);\n                                if(goi_chup_filter > -1) total_photo += (parseInt(product.gia) * parseInt(product.so_luong) - (product.giam_gia ? parseInt(product.giam_gia) : 0)) * (staff_data.phan_tram_thuong_goi_chup_photo) / 100\n                            });\n                        }\n\n                        if(data.photoshop === staff_data._id) {\n                            data.products.map((product, i) => {\n                                let goi_chup_filter = goi_chup.map(function(e) { return e.ten_goi; }).indexOf(product.ten_goi);\n                                if(goi_chup_filter > -1) total_photo += (parseInt(product.gia) * parseInt(product.so_luong) - (product.giam_gia ? parseInt(product.giam_gia) : 0)) * (staff_data.phan_tram_thuong_photoshop) / 100\n                            });\n                        }\n\n                        if(data.support === staff_data._id) {\n                            data.products.map((product, i) => {\n                                let goi_chup_filter = goi_chup.map(function(e) { return e.ten_goi; }).indexOf(product.ten_goi);\n                                if(goi_chup_filter > -1) total_photo += (parseInt(product.gia) * parseInt(product.so_luong) - (product.giam_gia ? parseInt(product.giam_gia) : 0)) * (staff_data.phan_tram_thuong_goi_chup_tu_van) / 100\n                            });\n                        }\n                    })\n\n                    //Tính tổng thưởng dịch vụ\n                    bills.map((data, i) => {\n                        if(data.support === staff_data._id) {\n                            data.products.map((product, i) => {\n                                let goi_chup_filter = dich_vu.map(function(e) { return e.ten_goi; }).indexOf(product.ten_goi);\n                                if(goi_chup_filter > -1) total_service += (parseInt(product.gia) * parseInt(product.so_luong) - (product.giam_gia ? parseInt(product.giam_gia) : 0)) * (staff_data.phan_tram_thuong_dich_vu_tu_van) / 100\n                            });\n                        }\n                    })\n                \n                    return callback({\n                        _id: staff_data._id,\n                        ho_ten: staff_data.ho_ten,\n                        email: staff_data.email,\n                        phan_tram_thuong_goi_chup_tu_van: staff_data.phan_tram_thuong_goi_chup_tu_van,\n                        phan_tram_thuong_goi_chup_photo: staff_data.phan_tram_thuong_goi_chup_photo,\n                        phan_tram_thuong_photoshop:staff_data.phan_tram_thuong_photoshop,\n                        phan_tram_thuong_dich_vu_tu_van: staff_data.phan_tram_thuong_dich_vu_tu_van,\n                        ngay_cong: staff_data.ngay_cong,\n                        luong_co_ban: staff_data.luong_co_ban,\n                        total_photo: total_photo,\n                        total_service: total_service,\n                        total_photoshop: total_photoshop,\n                        total: total_photo + total_service,\n                        thuc_lanh: luong_thang + (total_photo + total_service + total_photoshop),\n                        luong_thang: luong_thang,\n                        date_created: date_filter\n                    })\n                })\n                    }\n                })\n        \n            }\n        })\n\n    })\n}\n\nexport {\n    API,\n    LINK,\n    numberWithCommas,\n    removeVietnameseTones,\n    findWithAttr,\n    salaryCalculate,\n    salaryLoad,\n    getAge\n}","import React, {Component} from 'react';\nimport \"./styles.scss\";\nimport {IoChevronBack, IoChevronForward} from 'react-icons/io5';\n\n//Lấy ngày trong tháng\nfunction getDaysInMonth(month, year, callback) {\n    let months = parseInt(month) - 1;\n    var date = new Date(year, months, 1);\n    var days = [];\n    while (date.getMonth() === months) {\n      days.push(new Date(date));\n      date.setDate(date.getDate() + 1);\n    }\n    return callback(days);\n  }\n\n//Xây dựng lịch tháng\nfunction calendar(month, year, callback) {\n    let daysOfMonth = []\n    getDaysInMonth(month, year, (res) => {\n        //Thêm số 0 vào các ngày trống\n        for(var i = 1; i < res[0].getDay(); i++) {\n            daysOfMonth.push(0)\n        }\n\n        //Nếu ngày đầu tiên rơi vào CN\n        if(res[0].getDay() === 0) daysOfMonth = [0,0,0,0,0,0];\n\n        //Thêm ngày vào mảng\n        for(const date of res) {\n            daysOfMonth.push(date.getDate());\n        }\n\n        //Thêm số 0 vào các ngày trống ở cuối\n        for(var i = res[res.length - 1].getDay();i <= 6; i++) {\n            daysOfMonth.push(0)\n        }\n    \n        return callback({date: daysOfMonth, month: month, year: year});\n    })\n}\n\nlet year_data = [];\n\nfor(var i = (new Date().getFullYear() - 20); i <= (new Date().getFullYear() + 20); i++) {\n    year_data.push(i);\n}\n\nexport class LavenDatePicker extends Component {\n    constructor(props) {\n        super(props);\n\n        let format = this.props.format;\n        let date = this.props.date ? this.props.date.split(\"-\") : null;\n        const hasDate = format.indexOf(\"DD\") > -1 ? true : false;\n        const hasMonth = format.indexOf(\"MM\") > -1 ? true : false;\n        const hasYear = format.indexOf(\"YYYY\") > -1 ? true : false;\n        \n        format = this.props.format.split(\"-\");\n        let dates = hasDate ? date ? parseInt(date[format.indexOf(\"DD\")]) : -1 : -1;\n        let month = hasMonth ? date ? parseInt(date[format.indexOf(\"MM\")]) : -1 : -1;\n        let year = hasYear ? date ? parseInt(date[format.indexOf(\"YYYY\")]) : -1 : -1;\n\n        this.state = {\n            is_visible: false,\n            calendar_data: null,\n            date: dates !== -1 ? dates : new Date().getDate(),\n            month: month !== -1 ? month : new Date().getMonth() + 1,\n            year: year !== -1 ? year : new Date().getFullYear(),\n            focus_date: dates,\n            focus_month: month,\n            focus_year: year,\n            year_data: year_data,\n            tab: hasDate ? 0 : hasMonth ? 1 : 2,\n            month_data: [1,2,3,4,5,6,7,8,9,10,11,12]\n        }\n\n        this.wrapperRef = React.createRef();\n    }\n\n    componentDidMount() {\n        document.addEventListener('mousedown', this.handleClickOutside);\n        this.handleUpdateCalendar(this.state.month, this.state.year)\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('mousedown', this.handleClickOutside);\n    }\n\n    handleUpdateCalendar = (month, year) => {\n        calendar(month, year, (result) => {\n            this.setState({\n                calendar_data: result.date,\n                month: result.month,\n                year: result.year\n            })\n        });\n    }\n\n    //NEXT & PREV MONTH\n    handleNavigate = (type) => {\n        if(type === 'next') {\n            if(this.state.month === 12) {\n                this.setState({\n                    month: 1,\n                    focus_month: 1,\n                    year: parseInt(this.state.year) + 1,\n                    focus_year: parseInt(this.state.year) + 1\n                })\n\n                this.handleUpdateCalendar(1, parseInt(this.state.year) + 1);\n                this.handleChange(this.state.date, 1, parseInt(this.state.year) + 1);\n            }else{\n                this.setState({\n                    month: parseInt(this.state.month) + 1,\n                    focus_month: parseInt(this.state.month) + 1\n                })\n\n                this.handleUpdateCalendar(parseInt(this.state.month) + 1, this.state.year);\n                this.handleChange(this.state.date, parseInt(this.state.month) + 1, this.state.year);\n            }\n        }else {\n            if(this.state.month === 1) {\n                this.setState({\n                    month: 12,\n                    focus_month: 12,\n                    year: parseInt(this.state.year) - 1,\n                    focus_year: parseInt(this.state.year) - 1\n                })\n\n                this.handleUpdateCalendar(12, parseInt(this.state.year) - 1);\n                this.handleChange(this.state.date, 12, parseInt(this.state.year) - 1);\n            }else{\n                this.setState({\n                    month: parseInt(this.state.month) - 1,\n                    focus_month: parseInt(this.state.month) - 1\n                })\n\n                this.handleUpdateCalendar(parseInt(this.state.month) - 1, this.state.year);\n                this.handleChange(this.state.date, parseInt(this.state.month) - 1, this.state.year);\n            }\n        }\n    } \n\n    //FOCUS DATE\n    handleFocusDate = (date) => {\n        if(date !== 0) {\n            this.setState({\n                focus_date: date,\n                date: date,\n                is_visible: false\n            })\n            this.handleChange(date, this.state.month, this.state.year);\n        }\n    }\n\n    //FOCUS MONTH\n    handleFocusMonth = (month) => {\n        this.setState({\n            focus_month: month,\n            month: month,\n            is_visible: false\n        })\n\n        this.handleUpdateCalendar(month, this.state.year);\n        this.handleChange(this.state.date, month, this.state.year);\n    }\n\n    //FOCUS YEAR\n    handleFocusYear = (year) => {\n        this.setState({\n            focus_year: year,\n            year: year,\n            is_visible: false\n        })\n\n        this.handleUpdateCalendar(this.state.month, year);\n        this.handleChange(this.state.date, this.state.month, year);\n    }\n\n    //ONCHANGE\n    handleChange = (date, month, year) => {\n        let date_str = this.props.format;\n        date_str = date_str.replace(/DD/g, date <= 9 ? '0' + date : date);\n        date_str = date_str.replace(/MM/g, month <= 9 ? '0' + month : month);\n        date_str = date_str.replace(/YYYY/g, year);\n    \n        this.props.onChange(date_str);\n    }\n\n    //CLICK OUTSIDE POPUP\n    handleClickOutside = (event) => {\n        if (this.wrapperRef && !this.wrapperRef.current.contains(event.target)) {\n            this.setState({\n                is_visible: false\n            })\n        }\n    }\n\n    render() {\n        if(!this.state.calendar_data || !this.state.year_data) {\n            return <div></div>\n        }\n\n        const format = this.props.format;\n        const hasDate = format.indexOf(\"DD\") > -1 ? true : false;\n        const hasMonth = format.indexOf(\"MM\") > -1 ? true : false;\n        const hasYear = format.indexOf(\"YYYY\") > -1 ? true : false;\n        \n        return(\n            <div className=\"laven date_picker\" style={this.props.style}>\n                <input className={this.props.className} value={this.props.date} onClick={() => this.setState({is_visible: true})} readOnly disabled={this.props.disabled}/>\n                \n                <div className=\"date_picker_popup\" style={{display: this.state.is_visible ? 'block' : 'none'}} ref={this.wrapperRef}>\n                    <div className=\"control_container\">\n                        <button className=\"control prev\" onClick={() => this.handleNavigate('prev')}><IoChevronBack className=\"icon\"/></button>\n                        {hasDate ? <span className={this.state.tab == 0 ? \"date active\" : \"date\"} onClick={() => this.setState({tab: 0})}>{this.state.date}</span> : null}\n                        {hasMonth ? <span className={this.state.tab == 1 ? \"date active\" : \"date\"} onClick={() => this.setState({tab: 1})}>Tháng {this.state.month}</span> : null}\n                        {hasYear ? <span className={this.state.tab == 2 ? \"date active\" : \"date\"} onClick={() => this.setState({tab: 2})}>{this.state.year}</span> : null }\n                        <button className=\"control next\" onClick={() => this.handleNavigate('next')}><IoChevronForward className=\"icon\"/></button>\n                    </div>\n\n                    {this.state.tab == 0 ?\n                        <div className=\"calendar_container\">\n                            <div className=\"calendar_header\">\n                                <div className=\"date\">Th 2</div>\n                                <div className=\"date\">Th 3</div>\n                                <div className=\"date\">Th 4</div>\n                                <div className=\"date\">Th 5</div>\n                                <div className=\"date\">Th 6</div>\n                                <div className=\"date\">Th 7</div>\n                                <div className=\"date\">CN</div>\n                            </div>\n                            <div className=\"calendar_dates\">\n                                {this.state.calendar_data.map((data, i) => {\n                                    return <div className={this.state.focus_date == data ? \"date focused\" : new Date().getDate() == data && (new Date().getMonth() + 1) == this.state.month && new Date().getFullYear() == this.state.year ? \"date active\" : \"date\"} onClick={() => this.handleFocusDate(data)} key={i}>{data !== 0 ? data : ''}</div>\n                                })}\n                            </div>\n                        </div> : null}\n\n                    {this.state.tab == 1 ? \n                        <div className=\"month_container\">\n                            <div className=\"calendar_months\">\n                                {this.state.month_data.map((month) => {\n                                    return <div className={this.state.focus_month == month ? \"month focused\" : (new Date().getMonth() + 1) == month ? \"month active\" : \"month\"} onClick={() => this.handleFocusMonth(month)}>{month}</div>\n                                })}\n                            </div>\n                        </div> : null}\n\n                    {this.state.tab == 2 ?\n                        <div className=\"year_container\">\n                            <div className=\"calendar_years\">\n                                {this.state.year_data.map((year) => {\n                                    return <div className={this.state.focus_year == year ? \"year focused\" : (new Date().getFullYear()) == year ? \"year active\" : \"year\"} onClick={() => this.handleFocusYear(year)}>{year}</div>\n                                })}\n                            </div> \n                        </div> : null}\n                </div>\n            </div>\n        )\n    }\n}","import React, {Component} from 'react';\nimport {Link} from 'react-router-dom';\nimport {BsPlus, BsBoxArrowInDown} from 'react-icons/bs';\nimport {RiFilter3Line, RiSearchLine, RiPrinterLine, RiSaveLine, RiArrowLeftSLine, RiPencilLine, RiDeleteBinLine} from 'react-icons/ri';\nimport {AiOutlineMenu} from 'react-icons/ai';\nimport {isMobile} from 'react-device-detect';\nimport {MdClose, MdRestore} from 'react-icons/md';\nimport {API, findWithAttr} from '../functions/Global';\nimport {LavenDatePicker} from '../components/DatePicker';\nimport {getGoiChup, getPermissions, getStaff, getBranch, getStatus} from '../functions/Api';\nimport '../styles/components/Header_bar.scss';\n\n\nclass FilterDropDown extends Component {\n    constructor(props) {\n        super(props);\n        this.wrapperRef = React.createRef()\n\n        this.state = {\n            goi_chup_data: null,\n            staff: null,\n            branch: null,\n            status: null,\n            date: new Date().getFullYear() + '-' + ((new Date().getMonth() + 1) <= 9 ? '0' + (new Date().getMonth() + 1) : (new Date().getMonth() + 1)),\n            month: [1,2,3,4,5,6,7,8,9,10,11,12]\n        }\n\n        getGoiChup((res) => {\n            this.setState ({\n                goi_chup_data: res\n            })\n        });\n\n        getStaff((res) => {\n            this.setState({\n                staff: res\n            })\n        })\n\n        getBranch((res) => {\n            this.setState({\n                branch: res\n            })\n        })\n\n        getStatus((res) => {\n            this.setState({\n                status: res\n            })\n        });\n    }\n\n    handleFilter() {\n        let branch = this.refs.chi_nhanh.value;\n        let photo = this.refs.photo.value;\n        let photoshop = this.refs.photoshop.value;\n        let support = this.refs.support.value;\n        let tinh_trang = this.refs.tinh_trang.value;\n        let month = this.state.date.split(\"-\")[1];\n        let year =  this.state.date.split(\"-\")[0];\n\n        this.props.onFilter(branch, photo, support, tinh_trang, month, year, photoshop);\n    }\n\n    handleSalaryFilter() {\n        let date = this.state.date;\n\n        this.props.onFilter(date)\n    }\n\n    componentDidMount() {\n      document.addEventListener('click', this.handleClick)\n    }\n    \n    componentWillUnmount() {\n      // important\n      document.removeEventListener('click', this.handleClick)\n    }\n    \n    handleClick = (event) => {\n        const { target } = event\n        try {\n            if (!this.wrapperRef.current.contains(target)) {\n                this.props.onHideDropDown();\n            }\n        } catch (e) {\n            console.log(e);\n        } \n    }\n\n    handleChange = (date) => {\n        this.setState({\n          date: date\n        });\n    }\n\n    render() {\n        if(!this.state.branch || !this.state.staff || !this.state.goi_chup_data || !this.state.status) {\n            return(\n                <div></div>\n            )\n        }\n        \n        const year = (new Date()).getFullYear();\n        const years = Array.from(new Array(20),( val, index) => index - year);\n\n        if(this.props.type == '1') {\n            return(\n                <div className=\"dropdown filter\" ref={this.wrapperRef} style={this.props.visible ? {display: \"block\"} : {display: \"none\"}}>\n                    <div className=\"box\">\n                        <span className=\"title\">Ngày cần tìm:</span>\n                        <LavenDatePicker format={'YYYY-MM'} date={this.state.date} ref=\"date\" className=\"textbox calendar\" onChange={this.handleChange}/>\n                    </div>\n    \n                    <div className=\"box\">\n                        <button className=\"btn blue\" onClick={this.handleSalaryFilter.bind(this)}>LỌC</button>\n                    </div>\n                </div>\n            )\n        }\n\n        return(\n            <div className=\"dropdown filter\" ref={this.wrapperRef} style={this.props.visible ? {display: \"block\"} : {display: \"none\"}}>\n                <div className=\"box\">\n                    <span className=\"title\">Chi nhánh:</span>\n                    <select ref=\"chi_nhanh\">\n                        <option value=\"all\" selected=\"selected\" >Tất cả</option>\n                        {this.state.branch.map((data, i) => {\n                            return (\n                                <option value={data._id} key={i}>{data.ten_chi_nhanh}</option>\n                            )\n                        })}\n                    </select>\n                </div>\n                <div className=\"box\">\n                    <span className=\"title\">Photo:</span>\n                    <select ref=\"photo\">\n                        <option value=\"all\" selected=\"selected\" >Tất cả</option>\n                        {this.state.staff.map((data, i) => {\n                            return (\n                                <option value={data._id} key={i}>{data.ho_ten}</option>\n                            )\n                        })}\n                    </select>\n                </div>\n                <div className=\"box\">\n                    <span className=\"title\">Support:</span>\n                    <select ref=\"support\">\n                        <option value=\"all\" selected=\"selected\" >Tất cả</option>\n                        {this.state.staff.map((data, i) => {\n                            return (\n                                <option value={data._id} key={i}>{data.ho_ten}</option>\n                            )\n                        })}\n                    </select>\n                </div>\n                <div className=\"box\">\n                    <span className=\"title\">Photoshop:</span>\n                    <select ref=\"photoshop\">\n                        <option value=\"all\" selected=\"selected\" >Tất cả</option>\n                        {this.state.staff.map((data, i) => {\n                            return (\n                                <option value={data._id} key={i}>{data.ho_ten}</option>\n                            )\n                        })}\n                    </select>\n                </div>\n                <div className=\"box\">\n                    <span className=\"title\">Tình trạng:</span>\n                    <select ref=\"tinh_trang\">\n                        <option value=\"all\" selected=\"selected\" >Tất cả</option>\n                        {this.state.status.map((data, i) => {\n                            return (\n                                <option value={data._id} key={i}>{data.ten_tinh_trang}</option>\n                            )\n                        })}\n                    </select>\n                </div>\n                <div className=\"box\">\n                    <span className=\"title\">Năm & Tháng:</span>\n                    <LavenDatePicker format={'YYYY-MM'} date={this.state.date} ref=\"date\" className=\"textbox calendar\" onChange={this.handleChange}/>\n                </div>\n\n                <div className=\"box\">\n                    <button className=\"btn blue\" onClick={this.handleFilter.bind(this)}>LỌC</button>\n                </div>\n            </div>\n        )\n    }\n}\n\nclass SideBar extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            location: window.location.pathname,\n            perms: null\n        }\n        \n        getPermissions((res) => {\n            this.setState({\n                perms: res\n            })\n        });\n    }\n\n    render() {\n        if(!this.state.perms) {\n            return(\n                <div></div>\n            )\n        }\n\n        const perms = this.state.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons;\n\n        return(\n            <div className=\"sidebar\" style={{display: `${this.props.visible ? 'block' : 'none'}`}}>\n                <button className=\"close_btn\" onClick={this.props.onClose}><MdClose className=\"icon\"/></button>\n                <ul>\n\n                    {perms.bill[0] == \"1\" ?\n                        <li onClick={this.props.onClose}><Link to=\"/\">Đơn Hàng</Link></li> : null\n                    }\n\n                    {perms.calendar[0] == \"1\"?\n                        <li onClick={this.props.onClose}><Link to=\"/calendar\">Lịch</Link></li> : null\n                    }\n\n                    {perms.customers[0] == \"1\" ?\n                        <li onClick={this.props.onClose}><Link to=\"/customers\">Khách Hàng</Link></li> : null\n                    }\n\n                    {perms.spending[0] == \"1\" ?\n                        <li onClick={this.props.onClose}><Link to=\"/spending\">Chi</Link></li> : null\n                    }\n\n                    {perms.goi_chup[0] == \"1\" ?\n                        <li onClick={this.props.onClose}><Link to=\"/take_picture_packages\">Gói Chụp</Link></li> : null\n                    }\n\n                    {perms.services[0] == \"1\" ?\n                        <li onClick={this.props.onClose}><Link to=\"/services\">Dịch Vụ</Link></li> : null\n                    }\n\n                    {perms.total_analytics[0] == \"1\" ?\n                        <li onClick={this.props.onClose}><Link to=\"/total_revenue\">Báo Cáo Doanh Thu</Link></li> : null\n                    }\n\n                    {perms.realtime_analytics[0] == \"1\" ?\n                        <li onClick={this.props.onClose}><Link to=\"/realtime_revenue\">Báo Cáo Thu Chi</Link></li> : null\n                    }\n                        <li onClick={this.props.onClose}><Link to=\"/trash\">Thùng Rác</Link></li>\n                        <li onClick={this.props.onClose}><Link to=\"/settings\">Cài Đặt</Link></li>\n                        <li onClick={this.props.onClose}><Link to=\"/logout\">Đăng Xuất</Link></li>\n                </ul>\n            </div>\n        )\n    }\n}\n\nclass FullSearchBox extends Component {\n    render() {\n        return( \n            <div className=\"header_bar\">\n                <div className=\"full_search_box\">\n                    <RiSearchLine className=\"icon\"/>\n                    <input type=\"text\" placeholder=\"Tìm kiếm\" onKeyUp={this.props.onKeyUp}/>\n                    <MdClose className=\"icon close\" onClick={this.props.onClose}/>\n                    \n                    {this.props.autocomplete_data != undefined ? \n                                    <div className=\"autocomplete_container\">\n                                        <ul>\n                                            {this.props.autocomplete_data.map((data, i) => {\n                                                console.log(data);\n                                                return(<li>\n                                                    <Link to={`/bill_edit/${data._id}`}>\n                                                        {data.title}\n                                                        <br/><br/>\n                                                        Ngày: {data.ngay_chup}\n                                                        <br/> \n                                                        Giờ chụp: {data.gio_chup}\n                                                    </Link></li>)\n                                            })}\n                                        </ul>\n                                    </div> : null}\n                </div>\n            </div>      \n        )\n    }\n}\n\nclass HeaderBar extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            filter_dropdown_visible: false,\n            perms: null,\n            sidebar_visible: false,\n            searching: false\n        }\n\n        getPermissions((res) => {\n            this.setState({\n                perms: res\n            })\n        })\n    }\n\n    //SHOW FILTER DROPDOWN\n    handleShowFilterDropdown = () => {\n        setTimeout(() => {\n            this.setState({\n                filter_dropdown_visible: true\n            })\n        }, 100)\n    }\n\n    //HIDE FILTER DROPDOWN\n    handleHideFilterDropdown = () => {\n        this.setState({\n            filter_dropdown_visible: false\n        })\n    }\n\n    //TÌM KIẾM\n    handleSearch = (e) => {\n        this.props.onSearchKeyPress(e.target.value);\n    }\n\n    render() {\n        if(!this.state.perms) {\n            return(\n                <div></div>\n            )\n        }\n\n        if(this.state.searching) {\n            return <FullSearchBox onKeyUp={this.handleSearch} onClose={() => {this.setState({searching: false})}}/>\n        }\n\n        return(\n            <div className=\"header_bar\">\n                <SideBar visible={this.state.sidebar_visible} onClose={() => this.setState({sidebar_visible: false})}/>\n                {isMobile ? <button className=\"side_bar_btn\" onClick={() => this.setState({sidebar_visible: true})}><AiOutlineMenu className=\"icon\"/></button> : null}\n                <h1>{this.props.title}</h1>\n                <div className=\"right_tools_container\">\n                    <div className=\"right_tools_box\">\n                        {isMobile ? <a className=\"link_btn\" href={`${API}/download_bill`} target=\"_download\"><BsBoxArrowInDown className=\"icon\"/></a> : <a className=\"link_btn\" href={`${API}/download_bill`} target=\"_download\"><BsBoxArrowInDown className=\"icon\"/>Tải xuống</a>}\n                        {this.state.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.bill[1] == \"1\" ? this.props.title === \"Đơn Hàng\" ? (isMobile ? <Link className=\"link_btn\" to=\"/bill_edit/create_new\"><BsPlus className=\"icon\"/></Link> : <Link className=\"link_btn\" to=\"/bill_edit/create_new\"><BsPlus className=\"icon\"/>Tạo mới</Link>) : this.props.title === \"Khách Hàng\" ? \"\" : null : null}\n                        <div className=\"dropdown_group\">\n                            {isMobile ? <button onClick={this.handleShowFilterDropdown}><RiFilter3Line className=\"icon\"/></button> : <button onClick={this.handleShowFilterDropdown}><RiFilter3Line className=\"icon\"/>Lọc</button>}\n                            <FilterDropDown onHideDropDown={this.handleHideFilterDropdown} visible={this.state.filter_dropdown_visible} onFilter={this.props.onDropdownFilterBtnClick}/>\n                        </div>\n                        {this.props.onSearchKeyPress !== undefined && isMobile ?\n                            <button onClick={() => {this.setState({searching: true})}}>\n                                <RiSearchLine className=\"icon\"/>\n                            </button> : null }\n                        <div className=\"search_box\">\n                            <RiSearchLine className=\"icon\"/>\n                            <input type=\"text\" ref=\"search\" placeholder=\"Tìm kiếm\" onKeyUp={this.handleSearch}></input>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nclass TakePhotoPackagesHeader extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            perms: null,\n            sidebar_visible: false,\n            searching: false\n        } \n\n        getPermissions((res) => {\n            this.setState({\n                perms: res\n            })\n        })\n    }\n\n    render() {\n        if(!this.state.perms) {\n            return(\n                <div></div>\n            )\n        }\n\n        if(this.state.searching) {\n            return <FullSearchBox onKeyUp={(e) => this.props.onSearchKeyPress(e.target.value)} onClose={() => {this.setState({searching: false})}}/>\n        }\n\n        return(\n            <div className=\"header_bar\">\n                <SideBar visible={this.state.sidebar_visible} onClose={() => this.setState({sidebar_visible: false})}/>\n                {isMobile ? <button className=\"side_bar_btn\" onClick={() => this.setState({sidebar_visible: true})}><AiOutlineMenu className=\"icon\"/></button> : null}\n                <h1>Gói Chụp</h1>\n                <div className=\"right_tools_container\">\n                    <div className=\"right_tools_box\">\n                        {this.state.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.goi_chup[1] == \"1\" ? <button onClick={this.props.handleOpenModal}><BsPlus className=\"icon\"/>Thêm mới</button> : null }\n                        \n                        {this.props.onSearchKeyPress !== undefined && isMobile ?\n                            <button onClick={() => {this.setState({searching: true})}}>\n                                <RiSearchLine className=\"icon\"/>\n                            </button> : null }\n                        <div className=\"search_box\">\n                            <RiSearchLine className=\"icon\"/>\n                            <input type=\"text\" ref=\"search\" placeholder=\"Tìm kiếm\" onKeyUp={(e) => this.props.onSearchKeyPress(e.target.value)}></input>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nclass ServicesHeader extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            perms: null,\n            sidebar_visible: false,\n            searching: false\n        } \n\n        getPermissions((res) => {\n            this.setState({\n                perms: res\n            })\n        })\n    }\n\n    render() {\n        if(!this.state.perms) {\n            return(\n                <div></div>\n            )\n        }\n\n        if(this.state.searching) {\n            return <FullSearchBox onKeyUp={(e) => this.props.onSearchKeyPress(e.target.value)} onClose={() => {this.setState({searching: false})}}/>\n        }\n\n        return(\n            <div className=\"header_bar\">\n                <SideBar visible={this.state.sidebar_visible} onClose={() => this.setState({sidebar_visible: false})}/>\n                {isMobile ? <button className=\"side_bar_btn\" onClick={() => this.setState({sidebar_visible: true})}><AiOutlineMenu className=\"icon\"/></button> : null}\n                <h1>Dịch Vụ</h1>\n                <div className=\"right_tools_container\">\n                    <div className=\"right_tools_box\">\n                        {this.state.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.services[1] == \"1\" ? <button onClick={this.props.handleOpenModal}><BsPlus className=\"icon\"/>Thêm mới</button> : null}\n                                                \n                        {this.props.onSearchKeyPress !== undefined && isMobile ?\n                            <button onClick={() => {this.setState({searching: true})}}>\n                                <RiSearchLine className=\"icon\"/>\n                            </button> : null }\n\n                        <div className=\"search_box\">\n                            <RiSearchLine className=\"icon\"/>\n                            <input type=\"text\" ref=\"search\" placeholder=\"Tìm kiếm\" onKeyUp={(e) => this.props.onSearchKeyPress(e.target.value)}></input>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nclass BillEditHeader extends Component {\n\n    render() {\n        return(\n            <div className=\"header_bar\">\n                {isMobile ? <button className=\"side_bar_btn\"><AiOutlineMenu className=\"icon\"/></button> : null}\n                <h1 className=\"back\" onClick={this.props.onGoBack}><RiArrowLeftSLine className=\"icon\"/>Thông Tin Đơn Hàng</h1>\n                <div className=\"right_tools_container\">\n                    <div className=\"right_tools_box\">\n                        <button><RiPrinterLine className=\"icon\"/>{isMobile ? null : 'In hóa đơn'}</button>\n                        <button onClick={this.props.onSave}><RiSaveLine className=\"icon\"/>{isMobile ? null : 'Lưu'}</button>\n                        <button><BsPlus className=\"icon\"/>{isMobile ? null : 'Thêm sản phẩm'}</button>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nclass SettingsHeader extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            sidebar_visible: false\n        }\n    }\n    \n    render() {\n        return(\n            <div className=\"header_bar\">\n                <SideBar visible={this.state.sidebar_visible} onClose={() => this.setState({sidebar_visible: false})}/>\n                {isMobile ? <button className=\"side_bar_btn\" onClick={() => this.setState({sidebar_visible: true})}><AiOutlineMenu className=\"icon\"/></button> : null}\n                <h1>Cài Đặt</h1>\n                <div className=\"right_tools_container\">\n                </div>\n            </div>\n        )\n    }\n}\n\nclass DefaultHeaderBar extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            sidebar_visible: false,\n            filter_dropdown_visible: false,\n            branch: null,\n            searching: false\n        }\n\n        getBranch((res) => {\n            this.setState({\n                branch: res\n            })\n        })\n    }\n\n    //SHOW FILTER DROPDOWN\n    handleShowFilterDropdown = () => {\n        setTimeout(() => {\n            this.setState({\n                filter_dropdown_visible: true\n            })\n        }, 100)\n    }\n\n    //HIDE FILTER DROPDOWN\n    handleHideFilterDropdown = () => {\n        this.setState({\n            filter_dropdown_visible: false\n        })\n    }\n\n    render() {\n        if(!this.state.branch) {\n            return <div></div>\n        }\n\n        if(this.state.searching) {\n            return <FullSearchBox autocomplete_data={this.props.autocomplete_data} onKeyUp={(e) => this.props.onSearchKeyPress(e.target.value)} onClose={() => {this.setState({searching: false})}}/>\n        }\n\n        return(\n            <div className=\"header_bar\">\n                <SideBar visible={this.state.sidebar_visible} onClose={() => this.setState({sidebar_visible: false})}/>\n                {isMobile ? (this.props.back_link !== undefined ? <Link onClick={this.props.onGoBack} className=\"side_bar_btn\"><RiArrowLeftSLine className=\"icon\"/></Link> : <button className=\"side_bar_btn\" onClick={() => this.setState({sidebar_visible: true})}><AiOutlineMenu className=\"icon\"/></button>) : null}\n                {this.props.onGoBack !== undefined ? \n                <h1 className=\"back\" onClick={this.props.onGoBack}><RiArrowLeftSLine className=\"icon\"/>{this.props.title}</h1> : \n                    <h1>{this.props.title}</h1>\n                }\n                \n                <div className=\"right_tools_container\">\n                    <div className=\"right_tools_box\">\n                        <h4 className=\"custom_title\" style={{opacity: .55, fontSize: 13, fontWeight: 'bold', marginRight: 12}}>{this.props.customTitle}</h4>\n                        {this.props.handleSalaryFilter !== undefined ?      \n                        <div className=\"dropdown_group\">\n                            {isMobile ? <button onClick={this.handleShowFilterDropdown}><RiFilter3Line className=\"icon\"/></button> : <button onClick={this.handleShowFilterDropdown}><RiFilter3Line className=\"icon\"/>Lọc</button>}\n                            <FilterDropDown type=\"1\" onHideDropDown={this.handleHideFilterDropdown} visible={this.state.filter_dropdown_visible} onFilter={this.props.onDropdownFilterSalaryBtnClick}/>\n                        </div>:null}\n                        {this.props.handleEdit !== null && this.props.handleEdit !== undefined ? <button onClick={this.props.handleEdit}><RiPencilLine className=\"icon\"/>{isMobile ? null : \"Chỉnh sửa\" }</button> : null}\n                        {this.props.create_btn_link !== null && this.props.create_btn_link !== undefined? <Link className=\"link_btn\" to={this.props.create_btn_link}><BsPlus className=\"icon\"/>{isMobile ? null : \"Tạo mới\"}</Link> : null}\n                        {this.props.handleCreate !== null && this.props.handleCreate !== undefined? <button onClick={this.props.handleCreate}><BsPlus className=\"icon\"/>{isMobile ? null : \"Tạo mới\"}</button> : null}\n                        {this.props.onDropdownFilterBtnClick !== undefined ? <div className=\"dropdown_group\">\n                            {isMobile ? <button onClick={this.handleShowFilterDropdown}><RiFilter3Line className=\"icon\"/></button> : <button onClick={this.handleShowFilterDropdown}><RiFilter3Line className=\"icon\"/>Lọc</button>}\n                            <FilterDropDown onHideDropDown={this.handleHideFilterDropdown} visible={this.state.filter_dropdown_visible} onFilter={this.props.onDropdownFilterBtnClick}/>\n                        </div> : null }\n                        {this.props.handleAddProduct !== undefined && this.props.handleAddProduct !== null ?<button onClick={this.props.handleAddProduct}><BsPlus className=\"icon\"/>{isMobile ? null : \"Thêm sản phẩm\"}</button> : null}\n                        {this.props.handlePrintBill !== undefined ? <button onClick={this.props.handlePrintBill}><RiPrinterLine className=\"icon\"/>{isMobile ? null : \"In hóa đơn\"}</button> : null}\n                        {this.props.handleSave !== null && this.props.handleSave !== undefined? <button onClick={this.props.handleSave}><RiSaveLine className=\"icon\"/>{isMobile ? null : \"Lưu\"}</button> : null}\n                        {this.props.handleRestore !== null && this.props.handleRestore !== undefined ? <button onClick={this.props.handleRestore}><MdRestore className=\"icon\"/>{isMobile? null : \"Khôi phục đơn hàng\"}</button> : null}\n                        {this.props.handleRemove !== null && this.props.handleRemove !== undefined? <button onClick={this.props.handleRemove}><RiDeleteBinLine className=\"icon\"/>{isMobile ? null : \"Xóa\"}</button> : null}\n                        {this.props.handleCalendarFilter !== undefined ?\n                            <select ref=\"branch\" onChange={this.props.handleCalendarFilter}>\n                                <option value=\"\" disabled selected>Chi nhánh</option>\n                                <option value=\"all\">Tất cả</option>\n                                {this.state.branch.map((data, i) => {\n                                    return(\n                                        <option value={data.ten_chi_nhanh}>{data.ten_chi_nhanh}</option>\n                                    )\n                                })}\n                            </select>: null}\n                            {this.props.onSearchKeyPress !== undefined && isMobile ?\n                            <button onClick={() => {this.setState({searching: true})}}>\n                                <RiSearchLine className=\"icon\"/>\n                            </button> : null }\n                        {this.props.onSearchKeyPress !== undefined ?                           \n                            <div className=\"search_box\">\n                                <RiSearchLine className=\"icon\"/>\n                                <input type=\"text\" ref=\"search\" placeholder=\"Tìm kiếm\" onKeyUp={(e) => this.props.onSearchKeyPress(e.target.value)}></input>\n                            \n                                {this.props.autocomplete_data != undefined ? \n                                    <div className=\"autocomplete_container\">\n                                        <ul>\n                                            {this.props.autocomplete_data.map((data, i) => {\n                                                console.log(data);\n                                                return(<li>\n                                                    <Link to={`/bill_edit/${data._id}`}>\n                                                        {data.title}\n                                                        <br/><br/>\n                                                        Ngày: {data.ngay_chup}\n                                                        <br/> \n                                                        Giờ chụp: {data.gio_chup}\n                                                    </Link></li>)\n                                            })}\n                                        </ul>\n                                    </div> : null}\n\n                            </div>       : null}\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport {\n    HeaderBar,\n    BillEditHeader,\n    TakePhotoPackagesHeader,\n    ServicesHeader,\n    SettingsHeader,\n    DefaultHeaderBar\n}","import React, {Component} from \"react\";\nimport \"../styles/components/Spiners.scss\";\n\nclass HashSpiner extends Component {\n    render() {\n        return(     \n\t\t<div className=\"spiners hash\">\n            <div className=\"rot\"></div>\n            <div className=\"tor\"></div>\n        </div>\n        )\n    }\n}\n\nexport {\n    HashSpiner\n}","import React, {Component} from 'react';\nimport {Link} from 'react-router-dom';\nimport { StickyTable, Row, Cell } from 'react-sticky-table';\nimport {getBill, getBranch, getGoiChup, getServices, getStaff, getStatus, APIs, getPermissions} from '../functions/Api';\nimport {HashSpiner} from './Spiners';\nimport {numberWithCommas, removeVietnameseTones, findWithAttr, salaryLoad, salaryCalculate} from '../functions/Global';\n\nimport '../styles/components/Table.scss';\n\nclass BillTableContainer extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            branch: null,\n            status: null,\n            status_color: null\n        }\n\n        getBranch((res) => {\n          this.setState({\n            branch: res\n          })\n        })\n\n        getStatus((res) => {\n          this.setState({\n            status: res\n          })\n        });\n    }\n\n    render() {\n        if(this.props.data === null || this.state.branch === null || this.state.status === null) {\n          return(<div className=\"load_view\"><HashSpiner/></div>)\n        }\n        return(\n            <div className=\"table_view\">\n              <div className=\"table\">\n                <StickyTable>\n                  <Row className=\"header\">\n                    <Cell>STT</Cell>\n                    <Cell>Chi Nhánh</Cell>\n                    <Cell>Giờ Chụp</Cell>\n                    <Cell>Ngày Chụp</Cell>\n                    <Cell>Tên Khách Hàng</Cell>\n                    <Cell>SĐT</Cell>\n                    <Cell>Họ Tên Bé</Cell>\n                    <Cell>Tổng</Cell>\n                    <Cell>Đã Thu</Cell>\n                    <Cell>Còn Nợ</Cell>\n                    <Cell>Tình Trạng</Cell>\n                    <Cell>Ngày Giao</Cell>\n                    <Cell>Ghi Chú</Cell>\n                  </Row>\n                  {this.props.data.map((data, i) => {\n                      let date = new Date(data.ngay_chup);\n                      let ngay_chup = data.ngay_chup\n                      ngay_chup = ngay_chup ? ngay_chup.split(\"-\")[0].length == 2 ? ngay_chup : ngay_chup.split(\"-\")[2] + '-' + ngay_chup.split(\"-\")[1] + '-' + ngay_chup.split(\"-\")[0] : null\n\n                      let ngay_giao_hinh = data.ngay_giao_hinh;\n\n                      let time_take_pictures = (date.getHours() <= 9 ? \"0\" + date.getHours() : date.getHours()) + \":\" + (date.getMinutes() <= 9 ? \"0\" + date.getMinutes() : date.getMinutes()) + \":\" + (date.getSeconds() <= 9 ? \"0\" + date.getSeconds() : date.getSeconds())\n                      let birth_day = new Date(data.ngay_sinh_be);\n                      let birth_day_final =  birth_day.getFullYear() + \"-\" + (birth_day.getMonth() <= 9 ? \"0\" + birth_day.getMonth() : birth_day.getMonth()) + \"-\" + (birth_day.getDate() <= 9 ? \"0\" + birth_day.getDate() : birth_day.getDate()) \n                      let packages = [\"Baby ngoại cảnh\", \"Baby cao cấp\"]\n                      let services = [\"ALBUM 13 x 18\"]\n\n                      let status = this.state.status;\n\n                      return(\n                        <Row className=\"row\">\n                          <Cell><Link to={this.props.isDelete ? `/bill_restore/${data._id}` : `/bill_edit/${data._id}`}>{i + 1}</Link></Cell>\n                          <Cell><Link to={this.props.isDelete ? `/bill_restore/${data._id}` : `/bill_edit/${data._id}`}>{findWithAttr(this.state.branch,'_id',parseInt(data.chi_nhanh)) > -1 ? this.state.branch[findWithAttr(this.state.branch,'_id',parseInt(data.chi_nhanh))].ten_chi_nhanh : ''}</Link></Cell>\n                          <Cell><Link to={this.props.isDelete ? `/bill_restore/${data._id}` : `/bill_edit/${data._id}`}>{data.gio_chup}</Link></Cell>\n                          <Cell><Link to={this.props.isDelete ? `/bill_restore/${data._id}` : `/bill_edit/${data._id}`}>{ngay_chup}</Link></Cell>\n                          <Cell><Link to={this.props.isDelete ? `/bill_restore/${data._id}` : `/bill_edit/${data._id}`}>{data.ten_khach_hang}</Link></Cell>\n                          <Cell><Link to={this.props.isDelete ? `/bill_restore/${data._id}` : `/bill_edit/${data._id}`}>{data.so_dien_thoai}</Link></Cell>\n                          <Cell><Link to={this.props.isDelete ? `/bill_restore/${data._id}` : `/bill_edit/${data._id}`}>{data.ho_ten_be}</Link></Cell>\n                          <Cell><Link to={this.props.isDelete ? `/bill_restore/${data._id}` : `/bill_edit/${data._id}`}>{numberWithCommas(data.tong)} đ</Link></Cell>\n                          <Cell><Link to={this.props.isDelete ? `/bill_restore/${data._id}` : `/bill_edit/${data._id}`}>{numberWithCommas(data.dat_coc_1 + data.thanh_toan_l1_1 + data.thanh_toan_l2_1 + (data.thanh_toan_l3_1 ? data.thanh_toan_l3_1 : 0))} đ</Link></Cell>\n                          <Cell><Link to={this.props.isDelete ? `/bill_restore/${data._id}` : `/bill_edit/${data._id}`}>{numberWithCommas(data.tong - (data.dat_coc_1 + data.thanh_toan_l1_1 + data.thanh_toan_l2_1 + (data.thanh_toan_l3_1 ? data.thanh_toan_l3_1 : 0) + data.giam_gia))} đ</Link></Cell>\n                          <Cell><div className={`row ${status[findWithAttr(status, '_id', data.tinh_trang)] ? status[findWithAttr(status, '_id', data.tinh_trang)].color : null}`}><Link to={this.props.isDelete ? `/bill_restore/${data._id}` : `/bill_edit/${data._id}`}>{status[findWithAttr(status, '_id', data.tinh_trang)] ? status[findWithAttr(status, '_id', data.tinh_trang)].ten_tinh_trang : null}</Link></div></Cell>\n                          <Cell><Link to={this.props.isDelete ? `/bill_restore/${data._id}` : `/bill_edit/${data._id}`}>{ngay_giao_hinh}</Link></Cell>\n                          <Cell><Link to={this.props.isDelete ? `/bill_restore/${data._id}` : `/bill_edit/${data._id}`}>{data.ghi_chu}</Link></Cell>\n                        </Row>\n                      )\n                  }, this)}\n                </StickyTable>\n              </div>\n            </div>\n        )\n    }\n}\n\nclass CustomersTableContainer extends Component {\n\n    render() {\n        if(!this.props.bill || !this.props.branch) {\n          return <div></div>\n        }\n        return(\n            <div className=\"table_view\">\n              <div className=\"table\">\n                <StickyTable>\n                  <Row className=\"header\">\n                    <Cell style={{width: \"32px\"}}>STT</Cell>\n                    <Cell>Chi Nhánh</Cell>\n                    <Cell>Tên Khách Hàng</Cell>\n                    <Cell>SĐT</Cell>\n                    <Cell>Địa Chỉ</Cell>\n                  </Row>\n                  {this.props.bill.map((data, i) => {\n                      return(\n                        <Row className=\"row\">\n                          <Cell><a>{i + 1}</a></Cell>\n                          <Cell><a>{findWithAttr(this.props.branch,'_id',parseInt(data.chi_nhanh)) > -1 ? this.props.branch[findWithAttr(this.props.branch,'_id',parseInt(data.chi_nhanh))].ten_chi_nhanh : ''}</a></Cell>\n                          <Cell><a>{data.ten_khach_hang}</a></Cell>\n                          <Cell><a>{data.so_dien_thoai}</a></Cell>\n                          <Cell><a>{data.dia_chi}</a></Cell>\n                          <Cell><a></a></Cell>\n                        </Row>\n                      )\n                  }, this)}\n                </StickyTable>\n              </div>\n            </div>\n        )\n    }\n}\n\nclass BillEditProductTable extends Component {\n    render() {\n        return(\n            <div className=\"table_view bill_edit\" style={{flex: 1}}>\n              <div className=\"table\">\n                <StickyTable>\n                  <Row className=\"header\">\n                    <Cell style={{width: \"32px\"}}>STT</Cell>\n                    <Cell>Sản Phẩm</Cell>\n                    <Cell>Đơn Giá</Cell>\n                    <Cell>Số Lượng</Cell>\n                    <Cell>Giảm Giá</Cell>\n                    <Cell>Tổng</Cell>\n                  </Row>\n                    {this.props.data.map((data, i) => {\n                      return(\n                        <Row className=\"row\" onClick={() => this.props.onEdit(i)}>\n                          <Cell>{i + 1}</Cell>\n                          <Cell>{data.ten_goi}</Cell>\n                          <Cell>{numberWithCommas(data.gia)} đ</Cell>\n                          <Cell>{data.so_luong}</Cell>\n                          <Cell>{data.giam_gia ? numberWithCommas(data.giam_gia) : 0} đ</Cell>\n                          <Cell>{numberWithCommas((parseInt(data.gia) * parseInt(data.so_luong) * ((100 - parseInt(data.chiet_khau))/100)) - (data.giam_gia ? parseInt(data.giam_gia) : 0))} đ</Cell>\n                        </Row>\n                      )\n                    })}\n                </StickyTable>\n              </div>\n            </div>\n        )\n    }\n}\n\nclass TakePicturePackageTable extends Component {\n    handleEdit = (id) => {\n      this.props.handleOpenModal(id);\n    }\n\n    render() {\n        return(\n            <div className=\"table_view\">\n              <div className=\"table\">\n                <StickyTable>\n                  <Row className=\"header\">\n                    <Cell style={{width: \"32px\"}}>STT</Cell>\n                    <Cell>Tên Gói</Cell>\n                    <Cell>Giá Tiền</Cell>\n                  </Row>\n                  {this.props.data.map((data, i) => {\n                    return(\n                      <Row className=\"row\" onClick={() => this.handleEdit(data._id)}>\n                        <Cell>{i + 1}</Cell>\n                        <Cell>{data.ten_goi}</Cell>\n                        <Cell>{data.gia}</Cell>\n                      </Row>\n                    )\n                  })}\n                </StickyTable>\n              </div>\n            </div>\n        )\n    }\n}\n\nclass SpendingTable extends Component {\n    handleEdit = (id) => {\n      this.props.handleOpenModal(id);\n    }\n\n    render() {\n        return(\n            <div className=\"table_view\">\n              <div className=\"table\">\n                <StickyTable>\n                  <Row className=\"header\">\n                    <Cell style={{width: \"32px\"}}>STT</Cell>\n                    <Cell>Ngày Chi</Cell>\n                    <Cell>Nội Dung</Cell>\n                    <Cell>Số Tiền</Cell>\n                    <Cell>Trạng Thái Thanh Toán</Cell>\n                    <Cell>Người Chi</Cell>\n                  </Row>\n                  {this.props.data.map((data, i) => {\n                    let date = data.date.split(\"T\")[0];\n                    date = date.split(\"-\");\n                    date = date[2] + \"-\" + date[1] + \"-\" + date[0];\n\n                    return(\n                      <Row className=\"row\" onClick={() => this.handleEdit(data._id)}>\n                        <Cell>{i + 1}</Cell>\n                        <Cell>{date}</Cell>\n                        <Cell>{data.noi_dung}</Cell>\n                        <Cell>{data.so_tien ? numberWithCommas(data.so_tien) : 0} đ</Cell>\n                        <Cell>{data.type == 0 ? \"Chuyển khoản\" : \"Tiền mặt\"}</Cell>\n                        <Cell>{data.user}</Cell>\n                      </Row>\n                    )\n                  })}\n                </StickyTable>\n              </div>\n            </div>\n        )\n    }\n}\n\nclass SpendingTableAnalytics extends Component {\n  render() {\n      if(!this.props.data) {\n        return <div></div>\n      }\n\n      return(\n          <div className=\"table_view\">\n            <div className=\"table\" style={{margin: \"0\"}}>\n              <StickyTable>\n                <Row className=\"header\">\n                  <Cell style={{width: \"32px\"}}>STT</Cell>\n                  <Cell>Ngày Chi</Cell>\n                  <Cell>Nội Dung</Cell>\n                  <Cell>Số Tiền</Cell>\n                  <Cell>Trạng Thái Thanh Toán</Cell>\n                  <Cell>Người Chi</Cell>\n                </Row>\n                {this.props.data.map((data, i) => {\n                  let ngay_chi = data.date.split(\"T\")[0].split(\"-\");\n                  ngay_chi = ngay_chi[0].length == 2 ? data.date.split(\"T\")[0] : ngay_chi[2] + '-' + ngay_chi[1] + '-' + ngay_chi[0];\n\n                  return(\n                    <Row className=\"row\">\n                      <Cell>{i + 1}</Cell>\n                      <Cell>{ngay_chi}</Cell>\n                      <Cell>{data.noi_dung}</Cell>\n                      <Cell>{data.so_tien ? numberWithCommas(data.so_tien) : 0} đ</Cell>\n                      <Cell>{data.type == 0 ? \"Chuyển khoản\" : \"Tiền mặt\"}</Cell>\n                      <Cell>{data.user}</Cell>\n                    </Row>\n                  )\n                })}\n              </StickyTable>\n            </div>\n          </div>\n      )\n  }\n}\n\nclass ServicesTable extends Component {\n    handleEdit = (id) => {\n      this.props.handleOpenModal(id);\n    }\n\n    render() {\n        return(\n            <div className=\"table_view\">\n              <div className=\"table\">\n                <StickyTable>\n                  <Row className=\"header\">  \n                    <Cell style={{width: \"32px\"}}>STT</Cell>\n                    <Cell>Tên Dịch Vụ</Cell>\n                    <Cell>Giá Tiền</Cell>\n                  </Row>\n                    {this.props.data.map((data, i) => {\n                      return(\n                        <Row className=\"row\" onClick={() => this.handleEdit(data._id)}>\n                          <Cell>{i + 1}</Cell>\n                          <Cell><a>{data.ten_goi}</a></Cell>\n                          <Cell><a>{data.gia}</a></Cell>\n                        </Row>\n                      )\n                    })}\n                </StickyTable>\n              </div>\n            </div>\n        )\n    }\n}\n\nclass StaffTable extends Component {\n\n  render() {\n      return(\n          <div className=\"table_view\">\n            <div className=\"table\">\n              <StickyTable>\n                <Row className=\"header\">\n                  <Cell style={{width: \"32px\"}}>STT</Cell>\n                  <Cell>Họ Tên</Cell>\n                  <Cell>SĐT</Cell>\n                  <Cell>CHỨC VỤ</Cell>\n                  <Cell>LƯƠNG CB</Cell>\n                </Row>\n                  {this.props.data.map((data, i) => {\n                    let birthday = new Date(data.ngay_sinh);\n                    return(\n                      <Row className=\"row\">\n                        <Cell><Link to={`/staff_edit/${data._id}`}>{i + 1}</Link></Cell>\n                        <Cell><Link to={`/staff_edit/${data._id}`}>{data.ho_ten}</Link></Cell>\n                        <Cell><Link to={`/staff_edit/${data._id}`}>{data.so_dien_thoai}</Link></Cell>\n                        <Cell><Link to={`/staff_edit/${data._id}`}>{this.props.perms[findWithAttr(this.props.perms, '_id', data.chuc_vu)] ? this.props.perms[findWithAttr(this.props.perms, '_id', data.chuc_vu)].ten_nhom : null}</Link></Cell>\n                        <Cell><Link to={`/staff_edit/${data._id}`}>{data.luong_co_ban}</Link></Cell>\n                      </Row>\n                    )\n                  })}\n              </StickyTable>\n            </div>\n          </div>\n      )\n  }\n}\n\nclass SalaryTable extends Component {\n  render() {\n    if(this.props.data.length <= 0) {\n      return(<div className=\"load_view\"><HashSpiner/></div>)\n    }\n\n    const perm = this.props.perms[findWithAttr(this.props.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.staff_salary;\n\n      return(\n          <div className=\"table_view\">\n            <div className=\"table\">\n              <StickyTable>\n                <Row className=\"header\">\n                  <Cell style={{width: \"32px\"}}>STT</Cell>\n                  <Cell>Họ Tên</Cell>\n                  <Cell>Lương Cơ Bản</Cell>\n                  <Cell>Ngày Công</Cell>\n                  <Cell>Lương Tháng</Cell>\n                  <Cell>% Thưởng Doanh Thu Tư Vấn (GC)</Cell>\n                  <Cell>% Thưởng Doanh Thu Photo</Cell>\n                  <Cell>% Thưởng Photoshop (PTS)</Cell>\n                  <Cell>Tổng Thưởng Doanh Thu</Cell>\n                  <Cell>% Thưởng Doanh Thu Tư Vấn (DV)</Cell>\n                  <Cell>Thưởng Dịch Vụ</Cell>\n                  <Cell>Tổng Thưởng</Cell>\n                  <Cell>Thực Lãnh</Cell>\n                </Row>\n                  {this.props.data.map((data, i) => {\n                    return(\n                      <Row className=\"row\">\n                        <Cell>{i + 1}</Cell>\n                        <Cell>{data.ho_ten}</Cell>\n                        <Cell style={{width: \"150px\"}}><input style={{width: \"150px\"}} className=\"textbox\" defaultValue={data.luong_co_ban} onChange={(e) => this.props.onInputChange(e, 'luong_co_ban', data._id)} ref=\"luong_co_ban\" type=\"number\" disabled={perm[2] == \"1\" ? '' : 'disabled'}/></Cell>\n                        <Cell style={{width: \"150px\"}}><input style={{width: \"150px\"}} className=\"textbox\" defaultValue={data.ngay_cong} onChange={(e) => this.props.onInputChange(e, 'ngay_cong', data._id)} ref=\"ngay_cong\" type=\"text\" disabled={perm[2] == \"1\" ? '' : 'disabled'}/></Cell>\n                        <Cell style={{width: \"150px\"}}><input style={{width: \"150px\"}} className=\"textbox\" value={numberWithCommas(data.luong_thang)} ref=\"luong_thang\" type=\"text\" disabled/></Cell>\n                        <Cell style={{width: \"150px\"}}><input style={{width: \"150px\"}} className=\"textbox\" defaultValue={data.phan_tram_thuong_goi_chup_tu_van} onChange={(e) => this.props.onInputChange(e, 'phan_tram_thuong_goi_chup_tu_van', data._id)} ref=\"phan_tram_thuong_goi_chup_tu_van\" type=\"number\" disabled={perm[2] == \"1\" ? '' : 'disabled'}/></Cell>\n                        <Cell style={{width: \"150px\"}}><input style={{width: \"150px\"}} className=\"textbox\" defaultValue={data.phan_tram_thuong_goi_chup_photo} onChange={(e) => this.props.onInputChange(e, 'phan_tram_thuong_goi_chup_photo', data._id)} ref=\"phan_tram_thuong_goi_chup_photo\" type=\"number\" disabled={perm[2] == \"1\" ? '' : 'disabled'}/></Cell>\n                        <Cell style={{width: \"150px\"}}><input style={{width: \"150px\"}} className=\"textbox\" defaultValue={data.phan_tram_thuong_photoshop} onChange={(e) => this.props.onInputChange(e, 'phan_tram_thuong_photoshop', data._id)} ref=\"phan_tram_thuong_photoshop\" type=\"number\" disabled={perm[2] == \"1\" ? '' : 'disabled'}/></Cell>\n                        <Cell style={{width: \"150px\"}}><input style={{width: \"150px\"}} className=\"textbox\" value={numberWithCommas(data.total_photo)} ref=\"tong_doanh_thu\" type=\"text\" disabled/></Cell>\n                        <Cell style={{width: \"150px\"}}><input style={{width: \"150px\"}} className=\"textbox\" defaultValue={data.phan_tram_thuong_dich_vu_tu_van} onChange={(e) => this.props.onInputChange(e, 'phan_tram_thuong_dich_vu_tu_van', data._id)} ref=\"phan_tram_thuong_dich_vu_tu_van\" type=\"number\" disabled={perm[2] == \"1\" ? '' : 'disabled'}/></Cell>\n                        <Cell style={{width: \"150px\"}}><input style={{width: \"150px\"}} className=\"textbox\" value={numberWithCommas(data.total_service)} ref=\"thuong_dich_vu\" type=\"text\" disabled/></Cell>\n                        <Cell style={{width: \"150px\"}}><input style={{width: \"150px\"}} className=\"textbox\" value={numberWithCommas(data.total)} ref=\"tong_thuong\" type=\"text\" disabled/></Cell>\n                        <Cell style={{width: \"150px\"}}><input style={{width: \"150px\"}} className=\"textbox\" value={numberWithCommas(data.thuc_lanh)} ref=\"thuc_lanh\" type=\"text\" disabled/></Cell>\n                      </Row>\n                    )\n                  })}\n              </StickyTable>\n            </div>\n          </div>\n      )\n  }\n}\n\nclass ChamCongTable extends Component {\n  render() {\n      return(\n          <div className=\"table_view\">\n            <div className=\"table\">\n              <StickyTable>\n                <Row className=\"header\">\n                  <Cell style={{width: \"32px\"}}>STT</Cell>\n                  <Cell>Họ Tên</Cell>\n                </Row>\n                  {this.props.data.map((data, i) => {\n                    let birthday = new Date(data.ngay_sinh);\n                    return(\n                      <Row className=\"row\">\n                        <Cell><Link to={`/cham_cong_edit/${data._id}`}>{i + 1}</Link></Cell>\n                        <Cell><Link to={`/cham_cong_edit/${data._id}`}>{data.ho_ten}</Link></Cell>\n                      </Row>\n                    )\n                  })}\n              </StickyTable>\n            </div>\n          </div>\n      )\n  }\n}\n\nclass PermissionTable extends Component {\n  render() {\n    return(\n      <div className=\"table_view\">\n        <div className=\"table\">\n          <StickyTable>\n            <Row className=\"header\">\n              <Cell style={{width: \"32px\"}}>STT</Cell>\n              <Cell>Tên Nhóm</Cell>\n            </Row>\n              <Row className=\"row\">\n                <Cell><a>1</a></Cell>\n                <Cell><a>Kỹ Thuật</a></Cell>\n              </Row>\n              <Row className=\"row\">\n                <Cell><a>2</a></Cell>\n                <Cell><a>Tư Vấn</a></Cell>\n              </Row>\n              <Row className=\"row\">\n                <Cell><a>3</a></Cell>\n                <Cell><a>Quản Lý</a></Cell>\n              </Row>\n              <Row className=\"row\">\n                <Cell><a>4</a></Cell>\n                <Cell><a>Admin</a></Cell>\n              </Row>\n          </StickyTable>\n        </div>\n      </div>\n    )\n  }\n}\n\nclass BranchTable extends Component {\n  render() {\n    return(\n      <div className=\"table_view\">\n        <div className=\"table\">\n          <StickyTable>\n            <Row className=\"header\">\n              <Cell style={{width: \"32px\"}}>STT</Cell>\n              <Cell>Tên Chi Nhánh</Cell>\n              <Cell>Địa Chỉ</Cell>\n            </Row>\n              {this.props.data.map((data, i) => {\n                return(\n                  <Row className=\"row\" key={i} onClick={() => this.props.onClick(data._id,i)}>\n                    <Cell>{i + 1}</Cell>\n                    <Cell><div className={`row ${data.color}`}>{data.ten_chi_nhanh}</div></Cell>\n                    <Cell>{data.dia_chi}</Cell>\n                  </Row>\n                )\n              })}\n          </StickyTable>\n        </div>\n      </div>\n    )\n  }\n}\n\nclass StatusTable extends Component {\n  render() {\n    return(\n      <div className=\"table_view\">\n        <div className=\"table\">\n          <StickyTable>\n            <Row className=\"header\">\n              <Cell style={{width: \"32px\"}}>STT</Cell>\n              <Cell>Tên Tình Trạng</Cell>\n            </Row>\n              {this.props.data.map((data, i) => {\n                return(\n                  <Row className=\"row\" key={i} onClick={() => this.props.onClick(data._id,i)}>\n                    <Cell>{i + 1}</Cell>\n                    <Cell><div className={`row ${data.color}`}>{data.ten_tinh_trang}</div></Cell>\n                  </Row>\n                )\n              })}\n          </StickyTable>\n        </div>\n      </div>\n    )\n  }\n}\n\nclass AnalyticsTable extends Component {\n  constructor(props) {\n      super(props);\n      this.state = {\n          bill: null,\n          branch: null,\n          status: null,\n          status_color: null\n      }\n\n      getBill((res) => {\n        let data = res.sort((a, b) => {return new Date(b.ngay_chup) - new Date(a.ngay_chup)})\n        this.setState ({\n          bill: data\n        })\n      });\n\n      getBranch((res) => {\n        this.setState({\n          branch: res\n        })\n      })\n\n      getStatus((res) => {\n        let status = [];\n        let colors = [];\n\n        res.map((data) => {\n          status.push(data.ten_tinh_trang);\n          colors.push(data.color);\n        });\n\n        this.setState({\n          status: status,\n          status_color: colors\n        })\n      });\n  }\n\n  render() {\n    if(!this.props.data || !this.state.status || !this.state.status_color) {\n      return(\n        <div></div>\n      )\n    }\n\n    return(\n      <div className=\"table_view\">\n        <div className=\"table\" style={{margin: \"20px\"}}>\n          <StickyTable>\n            <Row className=\"header\">\n              <Cell>STT</Cell>\n              <Cell>Chi Nhánh</Cell>\n              <Cell>Giờ Chụp</Cell>\n              <Cell>Ngày Chụp</Cell>\n              <Cell>Tên Khách Hàng</Cell>\n              <Cell>SĐT</Cell>\n              <Cell>Họ Tên Bé</Cell>\n              <Cell>Tổng</Cell>\n              <Cell>Đã Thu</Cell>\n              <Cell>Thu Trong Ngày</Cell>\n              <Cell>Còn Nợ</Cell>\n              <Cell>Tình Trạng</Cell>\n              <Cell>Ghi Chú</Cell>\n            </Row>\n            {this.props.data.map((data, i) => {\n                let date = new Date(data.ngay_chup);\n                let ngay_chup = data.ngay_chup.split(\"-\");\n                ngay_chup = ngay_chup[0].length !== 2 ? ngay_chup[2] + '-' + ngay_chup[1] + '-' + ngay_chup[0] : ngay_chup[0] + '-' + ngay_chup[1] + '-' + ngay_chup[2]\n\n                let time_take_pictures = (date.getHours() <= 9 ? \"0\" + date.getHours() : date.getHours()) + \":\" + (date.getMinutes() <= 9 ? \"0\" + date.getMinutes() : date.getMinutes()) + \":\" + (date.getSeconds() <= 9 ? \"0\" + date.getSeconds() : date.getSeconds())\n                let birth_day = new Date(data.ngay_sinh_be);\n                let birth_day_final =  birth_day.getFullYear() + \"-\" + (birth_day.getMonth() <= 9 ? \"0\" + birth_day.getMonth() : birth_day.getMonth()) + \"-\" + (birth_day.getDate() <= 9 ? \"0\" + birth_day.getDate() : birth_day.getDate()) \n                let packages = [\"Baby ngoại cảnh\", \"Baby cao cấp\"]\n                let services = [\"ALBUM 13 x 18\"]\n\n                return(\n                  <Row className=\"row\">\n                    <Cell><Link to={`/bill_edit/${data._id}`}>{i + 1}</Link></Cell>\n                    <Cell><Link to={`/bill_edit/${data._id}`}>{this.state.branch ? findWithAttr(this.state.branch,'_id',parseInt(data.chi_nhanh)) > -1 ? this.state.branch[findWithAttr(this.state.branch,'_id',parseInt(data.chi_nhanh))].ten_chi_nhanh : '' : null}</Link></Cell>\n                    <Cell><Link to={`/bill_edit/${data._id}`}>{data.gio_chup}</Link></Cell>\n                    <Cell><Link to={`/bill_edit/${data._id}`}>{ngay_chup}</Link></Cell>\n                    <Cell><Link to={`/bill_edit/${data._id}`}>{data.ten_khach_hang}</Link></Cell>\n                    <Cell><Link to={`/bill_edit/${data._id}`}>{data.so_dien_thoai}</Link></Cell>\n                    <Cell><Link to={`/bill_edit/${data._id}`}>{data.ho_ten_be}</Link></Cell>\n                    <Cell><Link to={`/bill_edit/${data._id}`}>{numberWithCommas(data.tong)} đ</Link></Cell>\n                    <Cell><Link to={`/bill_edit/${data._id}`}>{numberWithCommas(data.dat_coc_1 + data.thanh_toan_l1_1 + data.thanh_toan_l2_1 + (data.thanh_toan_l3_1 ? data.thanh_toan_l3_1 : 0))} đ</Link></Cell>\n                    <Cell><Link to={`/bill_edit/${data._id}`}>{numberWithCommas(data.thu_trong_ngay)} đ</Link></Cell>\n                    <Cell><Link to={`/bill_edit/${data._id}`}>{numberWithCommas(data.tong - (data.dat_coc_1 + data.thanh_toan_l1_1 + data.thanh_toan_l2_1 + (data.thanh_toan_l3_1 ? data.thanh_toan_l3_1 : 0) + data.giam_gia))} đ</Link></Cell>\n                    <Cell><div className={`row ${this.state.status_color[data.tinh_trang]}`}><Link to={this.props.isDelete ? `/bill_restore/${data._id}` : `/bill_edit/${data._id}`}>{this.state.status[data.tinh_trang]}</Link></div></Cell>\n                    <Cell><Link to={`/bill_edit/${data._id}`}>{data.ghi_chu}</Link></Cell>\n                  </Row>\n                )\n            }, this)}\n          </StickyTable>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport {\n    CustomersTableContainer,\n    BillTableContainer,\n    BillEditProductTable,\n    TakePicturePackageTable,\n    ServicesTable,\n    StaffTable,\n    PermissionTable,\n    BranchTable,\n    AnalyticsTable,\n    StatusTable,\n    SalaryTable,\n    SpendingTable,\n    SpendingTableAnalytics,\n    ChamCongTable\n}","import React, {Component} from 'react';\nimport {HeaderBar} from '../components/Header_bar';\nimport {BillTableContainer} from '../components/Table';\nimport {getBill, getPermissions} from '../functions/Api';\nimport {removeVietnameseTones, transDate} from '../functions/Global';\n\nconst WAIT_INTERVAL = 1000;\n\nclass Home extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            bill: null,\n            default_bill_data: null,\n            typing: false,\n            typingTimeout: 0\n        }\n\n        getBill((res) => {\n            console.log(res);\n          let data = res.sort((a, b) => { return new Date(transDate.toOld(b.ngay_chup)) - new Date(transDate.toOld(a.ngay_chup)) })\n          \n          data = data.filter((data, i) => {\n            if((parseInt((data.ngay_chup.split(\"-\")[1])) - 1) !== (new Date().getMonth())) return false;\n            return !data.deleted;\n          });\n          \n          this.setState ({\n            bill: data,\n            default_bill_data: data\n          })\n        });\n\n        this.handleFilter = this.handleFilter.bind(this);\n    }\n    \n    //THỰC HIỆN LỌC TỪ DROPDOWN\n    handleFilter(branch, photo, support, tinh_trang, month, year, photoshop) {\n        //RELOAD DATA\n        getBill((res) => {\n          let data = res.sort((a, b) => { return new Date(transDate.toOld(b.ngay_chup)) - new Date(transDate.toOld(a.ngay_chup)) })\n\n          //LỌC DATA\n          let filtered_data = data.filter((data, i) => {\n              //LỌC THEO CHI NHÁNH\n              if(branch !== \"all\") {\n                  if(data.chi_nhanh !== branch) return false;\n              }\n  \n              //LỌC THEO PHOTO\n              if(photo !== \"all\") {\n                  if(data.photo !== photo) return false;\n              }\n\n  \n              //LỌC THEO SUPPORT\n              if(support !== \"all\") {\n                  if(data.support !== support) return false;\n              }\n\n              //LỌC THEO PHOTOSHOP\n              if(photoshop !== \"all\") {\n                if(data.photoshop !== photoshop) return false;\n                }\n\n              //LỌC THEO TÌNH TRẠNG\n              if(tinh_trang !== \"all\") {\n                  if(data.tinh_trang !== tinh_trang) return false;\n              }\n\n              //LỌC THEO THÁNG\n              if(month !== \"all\") {\n                  if((parseInt((data.ngay_chup.split(\"-\")[1]))) !== parseInt(month)) return false;\n              }\n\n              //LỌC THEO NĂM\n              if(year !== \"all\") {\n                if((new Date(transDate.toOld(data.ngay_chup)).getFullYear()).toString() !== year.toString()) return false;\n              }\n\n              if(data.deleted) {\n                  return false;\n              }\n\n              return true;\n          });\n  \n          this.setState({\n              bill: filtered_data,\n              default_bill_data: filtered_data\n          })\n        });\n    }\n\n    //THỰC HIỆN SEARCH\n    handleSearch = (search_value) => {\n        if(this.state.typingTimeout) {\n            clearTimeout(this.state.typingTimeout);\n        }\n\n        const self = this;\n\n        //ĐỢI NGƯỜI DÙNG NHẬP HẾT TỪ MỚI LOAD\n        this.setState({\n            typing: false,\n            typingTimeout: setTimeout(function () {\n                self.search(search_value)\n            }, 500)\n        })\n    }\n\n    search = (search_value) => {\n        getBill((res) => {\n            //RELOAD DATA IF SEARCH VALUE IS NULL\n            if(search_value === \"\") {\n                  let data = res.sort((a, b) => { return new Date(transDate.toOld(b.ngay_chup)) - new Date(transDate.toOld(a.ngay_chup)) })\n                  \n                  data = data.filter((data, i) => {\n                    return data.deleted == false;\n                  });\n                  \n                  this.setState ({\n                    bill: data\n                  })\n            }\n    \n            let data = res.sort((a, b) => { return new Date(transDate.toOld(b.ngay_chup)) - new Date(transDate.toOld(a.ngay_chup)) })\n      \n            //TÌM KHÁCH HÀNG OR TÊN BÉ OR SÔS ĐIỆN THOẠI\n            let filtered_data = data.filter((data, i) => {\n                if(data.deleted) return false;\n                if(removeVietnameseTones(data.ten_khach_hang).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true; \n                if(removeVietnameseTones(data.ho_ten_be).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true; \n                if(removeVietnameseTones(data.so_dien_thoai).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true; \n                return false;\n            })\n      \n            this.setState({\n                bill: filtered_data\n            })\n        }, this)\n    }\n\n    render() {\n        if(!this.state.bill && !this.state.default_bill_data) {\n            return(\n                <div></div>\n            )\n        }\n\n        return(\n            <div>\n                <HeaderBar title=\"Đơn Hàng\" onDropdownFilterBtnClick={this.handleFilter} onSearchKeyPress={this.handleSearch}/>\n                <BillTableContainer data={this.state.bill} type=\"0\"/>\n            </div>\n        )\n    }\n}\n\nexport default Home;","import React, {Component} from 'react';\nimport {updateSpending, APIs, createSpending, removeSpending, updateStatus,createStatus, removeService,removeGoiChup,updateBranch,getBranch,createBranch,getPermissions, createGoiChup, updateGoiChup, createService, updateService, createPermission, updatePermission, getGoiChup, getSingleGoiChup, getServices, removeStatus} from '../functions/Api';\nimport {GrClose} from 'react-icons/gr';\nimport {Link} from 'react-router-dom';\nimport {findWithAttr} from '../functions/Global';\nimport {LavenDatePicker} from '../components/DatePicker';\nimport {HashSpiner} from './Spiners';\n\nimport \"../styles/components/Modals.scss\";\n\nclass TakePhotoPackageModal extends Component {\n    handleSave = () => {\n        let data = {\n            ten_goi: this.refs.ten_goi.value,\n            gia: this.refs.gia.value,\n        }\n\n        this.props.onLoading();\n        \n        createGoiChup(data, (res) => {\n            this.props.handleCloseModal();\n        });\n    }\n\n    render() {\n        if(this.props.loading) {\n            return(\n                <div className=\"modal\">\n                     <div className=\"form_container\">\n                        <HashSpiner/>\n                        <a>LOADING...</a>\n                     </div>\n                </div>\n            )\n        }\n\n        return(\n            <div className=\"modal\" style={{display: `${this.props.is_open === \"true\" ? \"flex\" : \"none\"}`}}>\n                <div className=\"form_container\">\n                     <h1>Thêm Gói Chụp</h1>\n                     <div className=\"box\">\n                         <span className=\"title\">Tên gói</span>\n                         <input type=\"text\" className=\"textbox\" ref=\"ten_goi\"/>\n                     </div>\n                     <div className=\"box\">\n                         <span className=\"title\">Giá</span>\n                         <input type=\"text\" className=\"textbox\" ref=\"gia\"/>\n                     </div>\n\n                     <div className=\"column\">\n                         <button className=\"btn\" onClick={this.props.handleCloseModal}>Hủy</button>\n                         <button className=\"btn blue\" onClick={this.handleSave}>Lưu</button>\n                     </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nclass TakePhotoPackageEditModal extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            perms: null\n        }\n\n        getPermissions((res) => {\n            this.setState({\n                perms: res\n            })\n        });\n    }\n\n    handleSave = () => {\n        let data = {\n            _id: this.props.edit_id,\n            ten_goi: this.refs.ten_goi.value,\n            gia: this.refs.gia.value,\n        }\n        \n        updateGoiChup(data, (res) => {\n            this.props.handleCloseModal();\n        });\n    }\n\n    handleRemove = () => {\n        removeGoiChup(this.props.edit_id, (res) => {\n            this.props.handleCloseModal();\n        });\n    }\n\n    render() {\n        if(!this.props.data || !this.state.perms){\n            return(<div></div>)\n        }\n        return(\n            <div className=\"modal\" style={{display: `${this.props.is_open === \"true\" ? \"flex\" : \"none\"}`}}>\n                <button className=\"close_btn\" onClick={this.props.handleCloseModal}>\n                    <GrClose className=\"icon\"/>\n                </button>\n                <div className=\"form_container\">\n                     <h1>Sửa Gói Chụp</h1>\n                     <div className=\"box\">\n                         <span className=\"title\">Tên gói</span>\n                         <input type=\"text\" className=\"textbox\" ref=\"ten_goi\" defaultValue={this.props.data.ten_goi}/>\n                     </div>\n                     <div className=\"box\">\n                         <span className=\"title\">Giá</span>\n                         <input type=\"text\" className=\"textbox\" ref=\"gia\" defaultValue={this.props.data.gia}/>\n                     </div>\n\n                     <div className=\"column\">\n                        {this.state.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.goi_chup[3] == \"1\" ? <button className=\"btn\" onClick={this.handleRemove}>Xóa</button> : null }\n                        {this.state.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.goi_chup[2] == \"1\" ? <button className=\"btn blue\" onClick={this.handleSave}>Lưu</button> : null }\n                     </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nclass SpendingModal extends Component {\n\n    handleSave = () => {\n        if(this.refs.type.value == \"2\") {\n            alert(\"Vui lòng chọn loại\");\n        }else{\n            let data = {\n                noi_dung: this.refs.noi_dung.value,\n                so_tien: this.refs.so_tien.value,\n                date: new Date(),\n                user: localStorage.getItem('ho_ten'),\n                user_id: localStorage.getItem('user_id'),\n                type: this.refs.type.value\n            }\n            \n            createSpending(data, (res) => {\n                this.props.handleCloseModal();\n            });\n        }\n    }\n\n    render() {\n        return(\n            <div className=\"modal\" style={{display: `${this.props.is_open === \"true\" ? \"flex\" : \"none\"}`}}>\n                <div className=\"form_container\">\n                     <h1>Thêm Mục Đã Chi</h1>\n                     <div className=\"box\">\n                         <span className=\"title\">Nội dung chi</span>\n                         <input type=\"text\" className=\"textbox\" ref=\"noi_dung\"/>\n                     </div>\n                     <div className=\"box\">\n                         <span className=\"title\">Số tiền đã chi</span>\n                         <input type=\"number\" className=\"textbox\" ref=\"so_tien\"/>\n                     </div>\n                     <div className=\"box\">\n                         <span className=\"title\">Loại</span>\n                         <select className=\"textbox\"  ref=\"type\" defaultValue=\"2\">\n                             <option value=\"2\" disabled></option>\n                             <option value=\"0\">Chuyển Khoản</option>\n                             <option value=\"1\">Tiền Mặt</option>\n                         </select>\n                     </div>\n\n                     <div className=\"column\">\n                         <button className=\"btn\" onClick={this.props.handleCloseModal}>Hủy</button>\n                         <button className=\"btn blue\" onClick={this.handleSave}>Lưu</button>\n                     </div>\n                </div>\n            </div>\n        )\n    }\n}\n\n\nclass SpendingEditModal extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            perms: null\n        }\n\n        getPermissions((res) => {\n            this.setState({\n                perms: res\n            })\n        });\n    }\n\n    handleSave = () => {\n        let data = {\n            _id: this.props.edit_id,\n            noi_dung: this.refs.noi_dung.value,\n            so_tien: this.refs.so_tien.value,\n            type: this.refs.type.value,\n            date: this.props.date_edit\n        }\n        \n        updateSpending(data, (res) => {\n            this.props.handleCloseModal();\n        });\n    }\n\n    handleRemove = () => {\n        removeSpending(this.props.edit_id, (res) => {\n            this.props.handleCloseModal();\n        });\n    }\n\n    handleChangeDate = (date) => {\n        this.props.onChangeDate(date);\n    }\n\n    render() {\n        if(!this.props.data || !this.state.perms){\n            return(<div></div>)\n        }\n\n        let date_edit = this.props.date_edit.split(\"-\");\n        date_edit = date_edit[0].length == 2 ? date_edit[0] + '-' + date_edit[1] + '-' + date_edit[2] : date_edit[2] + '-' + date_edit[1] + '-' + date_edit[0]\n\n        return(\n            <div className=\"modal\" style={{display: `${this.props.is_open === \"true\" ? \"flex\" : \"none\"}`}}>\n                <button className=\"close_btn\" onClick={this.props.handleCloseModal}>\n                    <GrClose className=\"icon\"/>\n                </button>\n                <div className=\"form_container\" style={{width: \"475px\"}}>\n                     <h1>Sửa Mục Đã Chi</h1>\n                     <div className=\"box\">\n                         <span className=\"title\">Người nhập</span>\n                         <input type=\"text\" className=\"textbox\" ref=\"nguoi_nhap\" defaultValue={this.props.data.user} disabled/>\n                     </div>\n                     <div className=\"box\">\n                         <span className=\"title\">Nội dung chi</span>\n                         <input type=\"text\" className=\"textbox\" ref=\"noi_dung\" defaultValue={this.props.data.noi_dung} disabled={this.props.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.spending[2] == \"1\" ? null : 'disabled'}/>\n                     </div>\n                     <div className=\"box\">\n                         <span className=\"title\">Số tiền đã chi</span>\n                         <input type=\"number\" className=\"textbox\" ref=\"so_tien\" defaultValue={this.props.data.so_tien} disabled={this.props.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.spending[2] == \"1\" ? null : 'disabled'}/>\n                     </div>\n                     <div className=\"box calendar\">\n                         <span className=\"title\">Ngày chi</span>\n                         {this.state.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.spending[2] == \"1\" ? \n                            <LavenDatePicker format={'DD-MM-YYYY'}  date={date_edit} ref=\"date\"  className=\"textbox\"  onChange={this.handleChangeDate}/> :\n                            <input className=\"textbox\" type=\"text\" defaultValue={date_edit} disabled/>\n                        }\n                     </div>\n                     <div className=\"box\">\n                         <span className=\"title\">Loại</span>\n                         <select className=\"textbox\" ref=\"type\" defaultValue={this.props.data.type} disabled={this.props.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.spending[2] == \"1\" ? null : 'disabled'}>\n                             <option value=\"0\">Chuyển Khoản</option>\n                             <option value=\"1\">Tiền Mặt</option>\n                         </select>\n                     </div>\n\n                     <div className=\"column\">\n                        {this.props.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.spending[3] == \"1\" ? <button className=\"btn\" onClick={this.handleRemove}>Xóa</button> : null }\n                        {this.props.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.spending[2] == \"1\" ? <button className=\"btn blue\" onClick={this.handleSave}>Lưu</button> : null }\n                     </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nclass ServicesModal extends Component {\n    handleSave = () => {\n        let data = {\n            ten_goi: this.refs.ten_dich_vu.value,\n            gia: this.refs.gia.value,\n        }\n        \n        createService(data, (res) => {\n            this.props.handleCloseModal();\n        });\n    }\n\n    render() {\n        return(\n            <div className=\"modal\" style={{display: `${this.props.is_open === \"true\" ? \"flex\" : \"none\"}`}}>\n                <button className=\"close_btn\" onClick={this.props.handleCloseModal}>\n                    <GrClose className=\"icon\"/>\n                </button>\n                <div className=\"form_container\">\n                     <h1>Thêm Dịch Vụ</h1>\n                     <div className=\"box\">\n                         <span className=\"title\">Tên dịch vụ</span>\n                         <input type=\"text\" ref=\"ten_dich_vu\" className=\"textbox\"/>\n                     </div>\n                     <div className=\"box\">\n                         <span className=\"title\">Giá</span>\n                         <input type=\"text\" ref=\"gia\" className=\"textbox\"/>\n                     </div>\n\n                     <div className=\"column\">\n                         <button className=\"btn blue\" onClick={this.handleSave}>Lưu</button>\n                     </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nclass ServicesEditModal extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            perms: null\n        }\n\n        getPermissions((res) => {\n            this.setState({\n                perms: res\n            })\n        });\n    }\n\n    handleSave = () => {\n        let data = {\n            _id: this.props.edit_id,\n            ten_goi: this.refs.ten_dich_vu.value,\n            gia: this.refs.gia.value,\n        }\n        \n        updateService(data, (res) => {\n            this.props.handleCloseModal();\n        });\n    }\n\n    handleRemove = () => {\n        removeService(this.props.edit_id, (res) => {\n            this.props.handleCloseModal();\n        });\n    }\n\n    render() {\n        if(!this.props.data || !this.state.perms){\n            return(<div></div>)\n        }\n        return(\n            <div className=\"modal\" style={{display: `${this.props.is_open === \"true\" ? \"flex\" : \"none\"}`}}> \n                <button className=\"close_btn\" onClick={this.props.handleCloseModal}>\n                    <GrClose className=\"icon\"/>\n                </button>\n                <div className=\"form_container\">\n                     <h1>Sửa Dịch Vụ</h1>\n                     <div className=\"box\">\n                         <span className=\"title\">Tên dịch vụ</span>\n                         <input type=\"text\" className=\"textbox\" ref=\"ten_dich_vu\" defaultValue={this.props.data.ten_goi}/>\n                     </div>\n                     <div className=\"box\">\n                         <span className=\"title\">Giá</span>\n                         <input type=\"text\" className=\"textbox\" ref=\"gia\" defaultValue={this.props.data.gia}/>\n                     </div>\n\n                     <div className=\"column\">\n                        {this.state.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.services[3] == \"1\" ? <button className=\"btn\" onClick={this.handleRemove}>Xóa</button> : null }\n                        {this.state.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.services[2] == \"1\" ? <button className=\"btn blue\" onClick={this.handleSave}>Lưu</button> : null }\n                     </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nclass PermissionModal extends Component {\n    handleSave = () => {\n        let data = {\n            ten_nhom: this.refs.ten_nhom.value,\n            permisisons: {\n                \"cham_cong\" : [\"1\",\"1\",\"1\",\"1\"],\"spending_analytics\" : [\"1\",\"1\",\"1\",\"1\"],\"spending\" : [\"1\",\"1\",\"1\",\"1\"], \"trash\" : [\"1\",\"1\",\"1\",\"1\"],\"bill\":[\"1\",\"1\",\"0\",\"0\"],\"calendar\":[\"1\",\"1\",\"0\",\"0\"],\"customers\":[\"1\",\"1\",\"1\",\"1\"],\"goi_chup\":[\"1\",\"1\",\"1\",\"1\"],\"services\":[\"1\",\"1\",\"1\",\"1\"],\"total_analytics\":[\"1\",\"1\",\"1\",\"1\"],\"realtime_analytics\":[\"1\",\"1\",\"1\",\"1\"],\"services_analytics\":[\"1\",\"1\",\"1\",\"1\"],\"staff\":[\"1\",\"1\",\"1\",\"1\"],\"permisisons\":[\"1\",\"1\",\"1\",\"1\"],\"branch\":[\"1\",\"1\",\"1\",\"1\"],\"status\":[\"1\",\"1\",\"1\",\"1\"],\"staff_salary\":[\"1\",\"1\",\"1\",\"1\"],\"backup\":[\"1\",\"1\",\"1\",\"1\"]\n            }\n        }\n\n        //Nếu tên nhóm là admin thì không cho lưu\n        if(!data.ten_nhom.toLowerCase() == 'admin') {\n            createPermission(data, (res) => {\n                this.props.onCreateNew();\n            });\n        }else{\n            alert(\"Tên không hợp lệ, vui lòng chọn tên khác!\");\n        }\n    }\n\n    render() {\n        return(\n            <div className=\"modal\" style={{display: `${this.props.is_open === \"true\" ? \"flex\" : \"none\"}`}}>\n                <div className=\"form_container\">\n                     <h1>Thêm Nhóm Quyền</h1>\n                     <div className=\"box\">\n                         <span className=\"title\">Tên nhóm</span>\n                         <input type=\"text\" className=\"textbox\" ref=\"ten_nhom\"/>\n                     </div>\n\n                     <div className=\"column\">\n                         <button className=\"btn\" onClick={this.props.handleCloseModal}>Hủy</button>\n                         <button className=\"btn blue\" onClick={this.handleSave}>Lưu</button>\n                     </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nclass PermissionEditModal extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            perms: null\n        }\n\n        getPermissions((res) => {\n            this.setState({\n                perms: res\n            })\n        });\n    }\n\n    handleSave = () => {\n        getPermissions((result) => {\n            let data = result;\n            data[this.props.tab].ten_nhom = this.refs.ten_nhom.value;\n    \n            updatePermission(data, (res) => {\n                this.props.handleSave();\n            });\n        });\n    }\n\n    handleRemove = () => {\n        APIs.post('/remove_permission', '', {id: this.props._id}, res => {\n            this.props.handleRemove();\n        })\n    }\n\n    render() {\n        if(!this.state.perms){\n            return(<div></div>)\n        }\n        return(\n            <div className=\"modal\" style={{display: `${this.props.is_open === \"true\" ? \"flex\" : \"none\"}`}}>\n                <button className=\"close_btn\" onClick={this.props.handleCloseModal}>\n                    <GrClose className=\"icon\"/>\n                </button>\n                <div className=\"form_container\">\n                     <h1>Sửa Phân Quyền</h1>\n                     <div className=\"box\">\n                         <span className=\"title\">Tên nhóm</span>\n                         <input type=\"text\" className=\"textbox\" ref=\"ten_nhom\" defaultValue={this.props.ten_nhom}/>\n                     </div>\n\n                     {this.props.ten_nhom.toLowerCase() !== \"admin\" ? //Tên nhóm không phải admin thì cho chỉnh sửa\n                     <div className=\"column\">\n                        {this.state.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.permisisons[3] == \"1\" ? <button className=\"btn red\" onClick={this.handleRemove}>Xóa</button> : null }\n                        <button className=\"btn blue\" onClick={this.handleSave}>Lưu</button>\n                     </div> : <div className=\"column\">\n                        <button className=\"btn red\" onClick={this.props.handleCloseModal}>Hủy</button>\n                     </div>}\n                </div>\n            </div>\n        )\n    }\n}\n\nclass BillServicesModal extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            goi_chup: null\n        }\n\n        getGoiChup((res) => {\n            let goi_chup = res;\n            \n            getServices((result) => {\n                let data = result.concat(goi_chup);\n\n                this.setState ({\n                        goi_chup: data\n                    })\n            })\n        });\n    }\n\n    handleSave = () => {\n        let data = this.state.goi_chup.filter((data, i) => {\n            return data._id == this.refs.ten_san_pham.value\n        });\n\n        let giam_gia = parseInt(this.refs.giam_gia.value.toString().replace(/\\.|\\,/g,''))\n\n        let new_data = {\n            chiet_khau: 0,\n            so_luong: this.refs.so_luong.value,\n            _id: data[0]._id,\n            ten_goi: data[0].ten_goi,\n            giam_gia: giam_gia,\n            gia: data[0].gia\n        }\n\n        this.props.onSave(new_data);\n    }\n\n    render() {\n        if(!this.state.goi_chup) {\n            return(<div></div>)\n        }\n        return(\n            <div className=\"modal\" style={{display: `${this.props.is_open === \"true\" ? \"flex\" : \"none\"}`}}>\n                <div className=\"form_container\">\n                     <h1>Thêm Sản Phẩm</h1>\n                    \n                     <div className=\"box\" style={{width: \"215px\"}}>\n                        <span className=\"title\">Tên sản phẩm</span>\n                        <select ref=\"ten_san_pham\">\n                            {this.state.goi_chup.map((data, i) => {\n                                return <option value={data._id}>{data.ten_goi}</option>  \n                            })}\n                        </select>\n                    </div>\n\n                     <div className=\"box\">\n                         <span className=\"title\">Số lượng</span>\n                         <input type=\"number\" className=\"textbox\" ref=\"so_luong\" min=\"0\" defaultValue=\"1\"/>\n                     </div>\n\n                    <div className=\"box\">\n                        <span className=\"title\">Giảm giá</span>\n                        <input type=\"number\" className=\"textbox\" ref=\"giam_gia\" min=\"0\" defaultValue={0}/>\n                    </div>\n\n                     <div className=\"column\">\n                         <button className=\"btn\" onClick={this.props.onClose}>Hủy</button>\n                         <button className=\"btn blue\" onClick={this.handleSave}>Lưu</button>\n                     </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nclass BillServicesEditModal extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            goi_chup: null,\n            data: null,\n            giam_gia: null,\n            so_luong: null,\n            _id: null,\n            id: null\n        }\n\n        getGoiChup((res) => {\n            let goi_chup = res;\n            \n            getServices((result) => {\n                let data = result.concat(goi_chup);\n\n                this.setState ({\n                        goi_chup: data\n                    })\n            })\n        });\n    }\n\n    handleSave = () => {\n        let data = this.state.goi_chup.filter((data, i) => {\n            return data._id == this.refs.ten_san_pham.value\n        });\n\n        let giam_gia = parseInt(this.refs.giam_gia.value.toString().replace(/\\.|\\,/g,''))\n\n        let new_data = {\n            chiet_khau: 0,\n            so_luong: this.refs.so_luong.value,\n            _id: data[0]._id,\n            ten_goi: data[0].ten_goi,\n            giam_gia: giam_gia,\n            gia: data[0].gia\n        }\n        \n        this.props.onSave(new_data, this.state.id);\n    }\n\n    handleRemove = (id, data) => {\n        this.props.onRemove(id, data)\n    }\n\n    render() {\n        const chuc_vu = findWithAttr(this.props.perms, '_id', localStorage.getItem('chuc_vu'));\n\n        if(!this.state.goi_chup) {\n            return(<div></div>)\n        }\n        return(\n            <div className=\"modal\" style={{display: `${this.props.is_open === \"true\" ? \"flex\" : \"none\"}`}}>\n                <button className=\"close_btn\" onClick={this.props.onClose}>\n                    <GrClose className=\"icon\"/>\n                </button>\n                <div className=\"form_container\">\n                     <h1>Sửa Sản Phẩm</h1>\n                    \n                     <div className=\"box\" style={{width: \"215px\"}}>\n                        <span className=\"title\">Tên sản phẩm</span>\n                        <select ref=\"ten_san_pham\"  onChange={(e) => this.setState({_id: e.target.value})} value={this.state._id} disabled={this.props.perms[chuc_vu].permisisons.bill[2] != \"1\"}>\n                            {this.state.goi_chup.map((data, i) => {\n                                return <option value={data._id}>{data.ten_goi}</option>  \n                            })}\n                        </select>\n                    </div>\n\n                     <div className=\"box\">\n                         <span className=\"title\">Số lượng</span>\n                         <input type=\"number\" min=\"0\" onChange={(e) => this.setState({so_luong: e.target.value})} className=\"textbox\" ref=\"so_luong\" value={this.state.so_luong} disabled={this.props.perms[chuc_vu].permisisons.bill[2] != \"1\"}/>\n                     </div>\n\n                    <div className=\"box\">\n                        <span className=\"title\">Giảm giá</span>\n                        <input type=\"number\" className=\"textbox\" onChange={(e) => this.setState({giam_gia: e.target.value})} ref=\"giam_gia\" min=\"0\" value={this.state.giam_gia}/>\n                    </div>\n\n                     <div className=\"column\">\n                         {this.props.perms[chuc_vu].permisisons.bill[3] == \"1\" ? <button className=\"btn\" onClick={() => this.handleRemove(this.state.id, this.props.data)}>Xóa</button> : null}\n                         {this.props.perms[chuc_vu].permisisons.bill[2] == \"1\" ? <button className=\"btn blue\" onClick={this.handleSave}>Lưu</button> : null}\n                     </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nclass StatusModal extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            color: 'blue'\n        }\n    }\n\n    handleSave = () => {\n        let data = {\n            ten_tinh_trang: this.refs.ten_tinh_trang.value,\n            color: this.state.color\n        }\n\n        createStatus(data, (res) => {});\n\n        this.props.handleCloseModal();\n    }\n\n    handleChangeColor = (color) => {\n        this.setState({\n            color: color\n        })\n    }\n\n    render() {\n        return(\n            <div className=\"modal\" style={{display: `${this.props.is_open === \"true\" ? \"flex\" : \"none\"}`}}>\n                <button className=\"close_btn\" onClick={this.props.handleCloseModal}>\n                    <GrClose className=\"icon\"/>\n                </button>\n\n                <div className=\"form_container\">\n                     <h1>Thêm Tình Trạng</h1>\n\n                     <div className=\"box\">\n                         <span className=\"title\">Tên tình trạng</span>\n                         <input type=\"text\" className=\"textbox\" ref=\"ten_tinh_trang\"/>\n                     </div>\n\n                     <div className=\"box\">\n                         <span className=\"title\">Chọn màu</span>\n                         <div className=\"colors_picker_container\">\n                            <div className={this.state.color === 'blue' ? \"color blue active\" : \"color blue\"} onClick={() => this.handleChangeColor('blue')}></div>\n                            <div className={this.state.color === 'purple' ? \"color purple active\" : \"color purple\"}onClick={() => this.handleChangeColor('purple')}></div>\n                            <div className={this.state.color === 'orange' ? \"color orange active\" : \"color orange\"} onClick={() => this.handleChangeColor('orange')}></div>\n                            <div className={this.state.color === 'yellow' ? \"color yellow active\" : \"color yellow\"} onClick={() => this.handleChangeColor('yellow')}></div>\n                            <div className={this.state.color === 'red' ? \"color red active\" : \"color red\"} onClick={() => this.handleChangeColor('red')}></div>\n                            <div className={this.state.color === 'brown' ? \"color brown active\" : \"color brown\"}onClick={() => this.handleChangeColor('brown')}></div>\n                            <div className={this.state.color === 'salmon' ? \"color salmon active\" : \"color salmon\"}onClick={() => this.handleChangeColor('salmon')}></div>\n                            <div className={this.state.color === 'violet' ? \"color violet active\" : \"color violet\"}onClick={() => this.handleChangeColor('violet')}></div>\n                            <div className={this.state.color === 'wheat' ? \"color wheat active\" : \"color wheat\"}onClick={() => this.handleChangeColor('wheat')}></div>\n                            <div className={this.state.color === 'black' ? \"color black active\" : \"color black\"} onClick={() => this.handleChangeColor('black')}></div>\n                            <div className={this.state.color === 'gray' ? \"color gray active\" : \"color gray\"} onClick={() => this.handleChangeColor('gray')}></div>\n                         </div>\n                     </div>\n\n                     <div className=\"column\">\n                         <button className=\"btn blue\" onClick={this.handleSave}>Lưu</button>\n                     </div>\n                </div>\n            </div>\n        )\n    }\n}\n\n\nclass StatusEditModal extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            color: ''\n        }\n    }\n\n    handleSave = () => {\n        updateStatus({ten_tinh_trang: this.refs.ten_tinh_trang.value, id: this.props.data._id, color: this.state.color}, (res) => {\n            this.props.handleCloseModal();\n        });\n    }\n\n    handleRemove = () => {\n        removeStatus(this.props.data._id, (res) => {});\n        this.props.handleCloseModal();\n    }\n\n    handleChangeColor = (color) => {\n        this.setState({\n            color: color\n        })\n    }\n\n    render() {\n        if(!this.props.data){\n            return(<div></div>)\n        }\n        return(\n            <div className=\"modal\" style={{display: `${this.props.is_open === \"true\" ? \"flex\" : \"none\"}`}}>\n                <button className=\"close_btn\" onClick={this.props.handleCloseModal}>\n                    <GrClose className=\"icon\"/>\n                </button>\n                <div className=\"form_container\">\n                     <h1>Sửa Tình Trạng</h1>\n                     <div className=\"box\">\n                         <span className=\"title\">Tên tình trạng</span>\n                         <input type=\"text\" className=\"textbox\" ref=\"ten_tinh_trang\" defaultValue={this.props.data.ten_tinh_trang} disabled={this.props.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.status[2] == \"1\" ? null : 'disabled'}/>\n                     </div>\n\n                    <div className=\"box\">\n                        <span className=\"title\">Chọn màu</span>\n                        <div className=\"colors_picker_container\">\n                           <div className={this.state.color === 'blue' ? \"color blue active\" : \"color blue\"} onClick={() => this.handleChangeColor('blue')}></div>\n                           <div className={this.state.color === 'purple' ? \"color purple active\" : \"color purple\"}onClick={() => this.handleChangeColor('purple')}></div>\n                           <div className={this.state.color === 'orange' ? \"color orange active\" : \"color orange\"} onClick={() => this.handleChangeColor('orange')}></div>\n                           <div className={this.state.color === 'yellow' ? \"color yellow active\" : \"color yellow\"} onClick={() => this.handleChangeColor('yellow')}></div>\n                           <div className={this.state.color === 'red' ? \"color red active\" : \"color red\"} onClick={() => this.handleChangeColor('red')}></div>\n                            <div className={this.state.color === 'brown' ? \"color brown active\" : \"color brown\"}onClick={() => this.handleChangeColor('brown')}></div>\n                            <div className={this.state.color === 'salmon' ? \"color salmon active\" : \"color salmon\"}onClick={() => this.handleChangeColor('salmon')}></div>\n                            <div className={this.state.color === 'violet' ? \"color violet active\" : \"color violet\"}onClick={() => this.handleChangeColor('violet')}></div>\n                            <div className={this.state.color === 'wheat' ? \"color wheat active\" : \"color wheat\"}onClick={() => this.handleChangeColor('wheat')}></div>\n                           <div className={this.state.color === 'black' ? \"color black active\" : \"color black\"} onClick={() => this.handleChangeColor('black')}></div>\n                           <div className={this.state.color === 'gray' ? \"color gray active\" : \"color gray\"} onClick={() => this.handleChangeColor('gray')}></div>\n                        </div>\n                    </div>\n\n                     <div className=\"column\">\n                        {this.props.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.status[3] == \"1\" ? <button className=\"btn red\" onClick={this.handleRemove}>Xóa</button> : null}\n                        {this.props.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.status[2] == \"1\" ? <button className=\"btn blue\" onClick={this.handleSave}>Lưu</button> : null}\n                     </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nclass BranchModal extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            color: ''\n        }\n    }\n\n    handleSave = () => {\n        let data = {\n            ten_chi_nhanh: this.refs.ten_chi_nhanh.value,\n            dia_chi: this.refs.dia_chi.value,\n            color: this.state.color\n        }\n\n        createBranch(data, (res) => {\n            this.props.handleCloseModal();\n        });\n    }\n\n    handleChangeColor = (color) => {\n        this.setState({\n            color: color\n        })\n    }\n\n    render() {\n        return(\n            <div className=\"modal\" style={{display: `${this.props.is_open === \"true\" ? \"flex\" : \"none\"}`}}>\n                <button className=\"close_btn\" onClick={this.props.handleCloseModal}>\n                    <GrClose className=\"icon\"/>\n                </button>\n\n                <div className=\"form_container\">\n                     <h1>Thêm Chi Nhánh</h1>\n\n                     <div className=\"box\">\n                         <span className=\"title\">Tên chi nhánh</span>\n                         <input type=\"text\" className=\"textbox\" ref=\"ten_chi_nhanh\"/>\n                     </div>\n\n                     <div className=\"box textarea\" style={{width: \"234px\"}}>\n                         <span className=\"title\">Địa chỉ</span>\n                         <textarea className=\"textbox\" ref=\"dia_chi\"></textarea>\n                     </div>\n\n                    <div className=\"box\">\n                        <span className=\"title\">Chọn màu</span>\n                        <div className=\"colors_picker_container\">\n                           <div className={this.state.color === 'blue' ? \"color blue active\" : \"color blue\"} onClick={() => this.handleChangeColor('blue')}></div>\n                           <div className={this.state.color === 'purple' ? \"color purple active\" : \"color purple\"}onClick={() => this.handleChangeColor('purple')}></div>\n                           <div className={this.state.color === 'orange' ? \"color orange active\" : \"color orange\"} onClick={() => this.handleChangeColor('orange')}></div>\n                           <div className={this.state.color === 'yellow' ? \"color yellow active\" : \"color yellow\"} onClick={() => this.handleChangeColor('yellow')}></div>\n                           <div className={this.state.color === 'red' ? \"color red active\" : \"color red\"} onClick={() => this.handleChangeColor('red')}></div>\n                           <div className={this.state.color === 'black' ? \"color black active\" : \"color black\"} onClick={() => this.handleChangeColor('black')}></div>\n                           <div className={this.state.color === 'gray' ? \"color gray active\" : \"color gray\"} onClick={() => this.handleChangeColor('gray')}></div>\n                        </div>\n                    </div>\n\n                     <div className=\"column\">\n                         <button className=\"btn blue\" onClick={this.handleSave}>Lưu</button>\n                     </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nclass BranchEditModal extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            color: '',\n            perms: null\n        }\n\n        getPermissions((res) => {\n            this.setState({\n                perms: res\n            })\n        });\n    }\n\n    handleSave = () => {\n        getBranch((result) => {\n            let data = result;\n            data[this.props.edit_id].ten_chi_nhanh = this.refs.ten_chi_nhanh.value;\n            data[this.props.edit_id].dia_chi = this.refs.dia_chi.value;\n            data[this.props.edit_id].color = this.state.color;\n    \n            //console.log(data);\n\n            updateBranch(data, (res) => {\n                this.props.handleSave();\n            });\n        });\n    }\n\n    handleRemove = () => {\n        getBranch((result) => {\n            let data = result.filter((data, i) => {return data._id !== result[this.props.edit_id]._id});\n            \n            updateBranch(data, (res) => {\n                this.props.handleSave();\n            });\n        });\n    }\n\n    handleChangeColor = (color) => {\n        this.setState({\n            color: color\n        })\n    }\n\n    render() {\n        if(!this.props.data || !this.state.perms){\n            return(<div></div>)\n        }\n        return(\n            <div className=\"modal\" style={{display: `${this.props.is_open === \"true\" ? \"flex\" : \"none\"}`}}>\n                <button className=\"close_btn\" onClick={this.props.handleCloseModal}>\n                    <GrClose className=\"icon\"/>\n                </button>\n                <div className=\"form_container\">\n                     <h1>Sửa Chi Nhánh</h1>\n                     <div className=\"box\">\n                         <span className=\"title\">Tên chi nhánh</span>\n                         <input type=\"text\" className=\"textbox\" ref=\"ten_chi_nhanh\" defaultValue={this.props.data.ten_chi_nhanh}/>\n                     </div>\n\n                    <div className=\"box textarea\" style={{width: \"234px\"}}>\n                        <span className=\"title\">Địa chỉ</span>\n                        <textarea className=\"textbox\" ref=\"dia_chi\">{this.props.data.dia_chi}</textarea>\n                    </div>\n\n                    <div className=\"box\">\n                        <span className=\"title\">Chọn màu</span>\n                        <div className=\"colors_picker_container\">\n                           <div className={this.state.color === 'blue' ? \"color blue active\" : \"color blue\"} onClick={() => this.handleChangeColor('blue')}></div>\n                           <div className={this.state.color === 'purple' ? \"color purple active\" : \"color purple\"}onClick={() => this.handleChangeColor('purple')}></div>\n                           <div className={this.state.color === 'orange' ? \"color orange active\" : \"color orange\"} onClick={() => this.handleChangeColor('orange')}></div>\n                           <div className={this.state.color === 'yellow' ? \"color yellow active\" : \"color yellow\"} onClick={() => this.handleChangeColor('yellow')}></div>\n                           <div className={this.state.color === 'red' ? \"color red active\" : \"color red\"} onClick={() => this.handleChangeColor('red')}></div>\n                           <div className={this.state.color === 'black' ? \"color black active\" : \"color black\"} onClick={() => this.handleChangeColor('black')}></div>\n                           <div className={this.state.color === 'gray' ? \"color gray active\" : \"color gray\"} onClick={() => this.handleChangeColor('gray')}></div>\n                        </div>\n                    </div>\n\n                     <div className=\"column\">\n                        {this.state.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.branch[3] == \"1\" ? <button className=\"btn red\" onClick={this.handleRemove}>Xóa</button> : null }\n                        {this.state.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.branch[2] == \"1\" ? <button className=\"btn blue\" onClick={this.handleSave}>Lưu</button> : null }\n                     </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nclass CalendarModal extends Component {\n    render() {\n        if(this.props.data == undefined) {\n            return <div></div>\n        }\n\n        let data = this.props.data;\n        let ngay_chup = data.ngay_chup.split(\"-\");\n\n        return(      \n            <div className=\"modal m_calendar\" style={{display: `${this.props.visible ? \"flex\" : \"none\"}`}}>\n                <button className=\"close_btn\" onClick={this.props.handleCloseModal}>\n                    <GrClose className=\"icon\"/>\n                </button>\n                <div className=\"form_container\">\n                    <h1>{data.title}</h1>\n                    <span>Ngày chụp: {ngay_chup[0]} tháng {ngay_chup[1]} năm {ngay_chup[2]}</span>\n                    <span>Giờ chụp: {data.gio_chup}</span>\n                    <div class=\"column\">\n                        <button class=\"btn\" onClick={this.props.handleCloseModal}>Đóng</button>\n                        <Link to={`/bill_edit/${data._id}`}><button class=\"btn blue\">Sửa</button></Link>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nclass MobileCalendarModal extends Component {\n    render() {\n        if(this.props.data == undefined) {\n            return <div></div>\n        }\n\n        return(      \n            <div className=\"modal m_calendar\" style={{display: `${this.props.visible ? \"flex\" : \"none\"}`}}>\n                <button className=\"close_btn\" onClick={this.props.handleCloseModal}>\n                    <GrClose className=\"icon\"/>\n                </button>\n                <div className=\"form_container\">\n                    <h1>Xem Lịch</h1>\n                    {this.props.data.map((data, i) => {\n                        return(\n                            <Link to={`/bill_edit/${data._id}`} className={`event_card ${findWithAttr(this.props.branch,'ten_chi_nhanh',data.branch) > -1 ? this.props.branch[findWithAttr(this.props.branch,'ten_chi_nhanh',data.branch)].color : ''}`}>\n                                <span className=\"date\">{data.ngay_chup} {data.gio_chup}</span>\n                                <p className=\"content\">{data.title}</p>\n                            </Link>\n                        )\n                    })}\n                </div>\n            </div>\n        )\n    }\n}\n\nexport {\n    StatusModal,\n    TakePhotoPackageModal,\n    TakePhotoPackageEditModal,\n    ServicesModal,\n    ServicesEditModal,\n    PermissionModal,\n    BillServicesModal,\n    BillServicesEditModal,\n    PermissionEditModal,\n    BranchModal,\n    BranchEditModal,\n    StatusEditModal,\n    CalendarModal,\n    MobileCalendarModal,\n    SpendingModal,\n    SpendingEditModal\n}","import React, {Component} from 'react';\nimport '../styles/components/Cards.scss';\nimport {numberWithCommas,salaryLoad, salaryCalculate, getAge} from '../functions/Global';\nimport {getSingleStaffFromEmail, getPermissions} from '../functions/Api';\n\nclass SalaryTableCard extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            perms: null,\n            chuc_vu: null,\n            history: null\n        }\n\n        getPermissions((res) => {\n            this.setState({\n                perms: res\n            })\n\n            getSingleStaffFromEmail(this.props.data.email, (res) => {\n                this.setState({\n                    chuc_vu: this.state.perms[res.chuc_vu].ten_nhom\n                })\n            })\n        })\n    }\n    render() {\n        if(!this.props.data || !this.state.perms || !this.state.chuc_vu || !this.props.history) {\n            return <div></div>\n        }\n\n        const data = this.props.history;\n        let chuc_vu = this.state.chuc_vu;\n\n        let date_created = data.date_created.split(\"T\")[0];\n        date_created = date_created.split(\"-\");\n        date_created  ='Tháng ' + date_created[1] + ' năm ' + date_created[0];\n\n        return(\n            <div className=\"card salary\">\n                <h1>{date_created}</h1>\n                <span><b>Họ tên:</b> <span>{data.ho_ten}</span></span>\n                <span><b>Chức vụ:</b> <span>{chuc_vu}</span></span>\n                <span><b>Lương cơ bản:</b> <span>{numberWithCommas(data.luong_co_ban)} đ</span></span>\n                <span><b>Ngày công:</b> <span>{data.ngay_cong} ngày</span></span>\n                <span><b>Lương tháng:</b> <span>{numberWithCommas(data.luong_thang)} đ</span></span>\n                <span><b>Thưởng doanh thu tư vấn ( Gói chụp ):</b> <span>{data.phan_tram_thuong_goi_chup_tu_van} %</span></span>\n                <span><b>Thưởng doanh thu tư vấn ( Dịch vụ ):</b> <span>{data.phan_tram_thuong_dich_vu_tu_van} %</span></span>\n                <span><b>Thưởng doanh thu photo ( Gói chụp ):</b> <span>{data.phan_tram_thuong_goi_chup_photo} %</span></span>\n                <span><b>Thưởng doanh thu:</b> <span>{numberWithCommas(data.total_photo)} đ</span></span>\n                <span><b>Thưởng dịch vụ:</b> <span>{numberWithCommas(data.total_service)} đ</span></span>\n                <span><b>Tổng thưởng:</b> <span>{numberWithCommas(data.total)} đ</span></span>\n                <hr/>\n                <span><b>Thực lãnh:</b> <span>{numberWithCommas(data.thuc_lanh)}  đ</span></span>\n            </div>\n        )\n    }\n}\n\nclass AnalyticsCard extends Component {\n    render() {\n        return(\n            <div className=\"card analytics\" style={this.props.onClick ? {cursor: \"pointer\"} : null} onClick={this.props.onClick}>\n                <div className={\"value_container \" + this.props.type}>\n                    <p>{this.props.type === \"da_thu\" ? \"Đã thu\" : this.props.type === \"tong\" ? \"Tổng\" : (this.props.type===\"da_chi\" ? \"Đã chi\" : this.props.type===\"con_giu\" ? \"Còn giữ\" : \"Còn nợ\")}</p>\n                    <h1>{this.props.value} đ</h1>\n                    {this.props.type === \"da_thu\" ? <p>CK: {this.props.chuyen_khoan_num} đ</p>: null}\n                    {this.props.type === \"da_thu\" ? <p>TM: {this.props.tien_mat_num} đ</p>: null}\n                    {this.props.type === \"da_chi\" ? <p>CK: {this.props.chuyen_khoan_num} đ</p>: null}\n                    {this.props.type === \"da_chi\" ? <p>TM: {this.props.tien_mat_num} đ</p>: null}\n                    {this.props.type === \"con_giu\" ? <p>CK: {this.props.chuyen_khoan_num} đ</p>: null}\n                    {this.props.type === \"con_giu\" ? <p>TM: {this.props.tien_mat_num} đ</p>: null}\n                </div>\n            </div>\n        )\n    }\n}\n\nclass ProductCard extends Component {\n    render() {\n        if(this.props.type === \"0\") {\n            return(\n                <div className=\"card product add_new\">\n                    <a>Thêm mới</a>\n                </div>\n            )\n        }else {\n            return(\n                <div className=\"card product\">\n                    <p className=\"title\">{this.props.title}</p>\n                    <p className=\"sub_title\">{this.props.sub_title}</p>\n                    <div className=\"card_image\" style={{background: \"url(\" + this.props.image + \") no-repeat center center / cover\"}}></div>\n                </div>\n            )\n        }\n    }\n}\n\nexport {\n    ProductCard,\n    AnalyticsCard,\n    SalaryTableCard \n}","import React, {Component} from 'react';\nimport {getGoiChup, getPermissions, getStaff, getBranch, getStatus, getBill, getServices, updateSalaryHistory} from '../functions/Api';\nimport {LavenDatePicker} from '../components/DatePicker';\nimport {salaryLoad, salaryCalculate, getAge} from '../functions/Global';\nimport {SalaryTableCard} from './Cards';\nimport {numberWithCommas, removeVietnameseTones, findWithAttr} from '../functions/Global';\nimport {Redirect} from 'react-router-dom';\n\nimport \"../styles/components/Forms.scss\";\n\nclass BillForm extends Component {\n    constructor(props) {\n        super(props);\n\n        let ngay_sinh_be = this.props.data ? this.props.data.ngay_sinh_be : null;\n        ngay_sinh_be = ngay_sinh_be ? ngay_sinh_be.split(\"-\")[0].length == 2 ? ngay_sinh_be : ngay_sinh_be.split(\"-\")[2] + '-' + ngay_sinh_be.split(\"-\")[1] + '-' + ngay_sinh_be.split(\"-\")[0] : null\n\n        let ngay_chup = this.props.date ? this.props.date : this.props.data ? this.props.data.ngay_chup : null\n        ngay_chup = ngay_chup ? ngay_chup.split(\"-\")[0].length == 2 ? ngay_chup : ngay_chup.split(\"-\")[2] + '-' + ngay_chup.split(\"-\")[1] + '-' + ngay_chup.split(\"-\")[0] : null\n\n        let ngay_giao_hinh = this.props.data ? this.props.data.ngay_giao_hinh : null;\n        ngay_giao_hinh = ngay_giao_hinh ? ngay_giao_hinh.split(\"-\")[0].length == 2 ? ngay_giao_hinh : ngay_giao_hinh.split(\"-\")[2] + '-' + ngay_giao_hinh.split(\"-\")[1] + '-' + ngay_giao_hinh.split(\"-\")[0] : null\n\n        this.state = {\n            goi_chup_data: null,\n            staff: null,\n            branch: null,\n            status: null,\n            date: ngay_chup,\n            birthday: ngay_sinh_be,\n            ngay_giao_hinh: ngay_giao_hinh,\n        }\n\n        getGoiChup((res) => {\n            this.setState ({\n                goi_chup_data: res\n            })\n        });\n\n        getStaff((res) => {\n            this.setState({\n                staff: res\n            })\n        })\n\n        getBranch((res) => {\n            this.setState({\n                branch: res\n            })\n        })\n\n        getStatus((res) => {\n            this.setState({\n                status: res\n            })\n        });\n    }\n    \n    handleSave = () => {\n        if(this.refs.chi_nhanh.value !== \"default\") {\n            let data = {\n                chi_nhanh: this.refs.chi_nhanh.value,\n                gio_chup: this.refs.gio_chup.value,\n                ngay_chup: this.state.date ? this.state.date : new Date(),\n                ghi_chu: this.refs.ghi_chu.value,\n                photo: this.refs.photo.value,\n                support: this.refs.support.value,\n                photoshop: this.refs.photoshop.value,\n                ten_khach_hang: this.refs.ten_khach_hang.value,\n                dia_chi: this.refs.dia_chi.value,\n                ho_ten_be: this.refs.ho_ten_be.value,\n                ngay_sinh_be: this.state.birthday,\n                gioi_tinh_be: this.refs.gioi_tinh_be.value,\n                so_tuoi: this.refs.so_tuoi.value,\n                so_dien_thoai: this.refs.so_dien_thoai.value,\n                tinh_trang: this.refs.tinh_trang.value,\n                ngay_giao_hinh : this.state.ngay_giao_hinh\n            }\n\n            this.props.onSave(data);\n        }else{\n            alert(\"Chưa nhập đủ thông tin khách hàng!\")\n        }\n    }\n\n    onTagsChange = (e, value) => {\n        \n    }\n\n    handleChange = (date) => {\n        this.setState({\n          date: date\n        });\n    }\n\n    handleChangeBirthday = (date) => {\n        let new_date = date.split(\"-\");\n        new_date = new_date[0].length !== 2 ? date : new_date[2] + '-' + new_date[1] + '-' + new_date[0];\n\n        let age = getAge(new Date(new_date));\n        this.refs.so_tuoi.value = age\n\n        this.setState({\n          birthday: date\n        });\n    }\n\n    handleChangeNgayGiaoHinh = (date) => {\n        this.setState({\n            ngay_giao_hinh: date\n        });\n    }\n\n    render() {\n        const chuc_vu = localStorage.getItem(\"chuc_vu\");\n\n        if(!this.state.goi_chup_data || !this.state.staff || !this.state.branch || !this.state.status) {\n            return(<div></div>)\n        }\n\n        return(\n            <div className=\"bill_form_container\">\n                <div className=\"column\">\n                    <div className=\"box\">\n                        <span className=\"title\">Chi Nhánh:</span>\n                        <select defaultValue={this.props.data ? this.props.data.chi_nhanh : \"default\"} ref=\"chi_nhanh\" disabled={this.props.perms[findWithAttr(this.props.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.bill[2] == \"1\" ?  null : 'disabled'}>\n                            <option disabled selected value=\"default\"></option>\n                            {this.state.branch.map((data, i) => {\n                                return (\n                                    <option value={data._id} key={i}>{data.ten_chi_nhanh}</option>\n                                )\n                            })}\n                        </select>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Giờ Chụp:</span>\n                        <input className=\"textbox\" defaultValue={this.props.data ? this.props.data.gio_chup : \"\"} ref=\"gio_chup\" type=\"time\" disabled={this.props.perms[findWithAttr(this.props.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.bill[2] == \"1\" ?  null : 'disabled'}/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Ngày Chụp:</span>\n                        <LavenDatePicker format={'DD-MM-YYYY'} date={this.state.date} ref=\"ngay_chup\" className=\"textbox\" onChange={this.handleChange} disabled={this.props.perms[findWithAttr(this.props.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.bill[2] == \"1\" ?  null : 'disabled'}/>\n                    </div>\n                    <div className=\"box textarea\">\n                        <span className=\"title\">Ghi Chú:</span>\n                        <textarea className=\"textbox\" defaultValue={this.props.data ? this.props.data.ghi_chu : \"\"} ref=\"ghi_chu\"></textarea>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Photo:</span>\n                        <select ref=\"photo\" defaultValue={this.props.data ? this.props.data.photo : \"default\"} disabled={this.props.perms[findWithAttr(this.props.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.bill[2] == \"1\" ?  null : 'disabled'}>\n                            <option disabled selected value=\"default\"></option>\n                            {this.state.staff.map((data, i) => {\n                                return (\n                                    <option value={data._id} key={i}>{data.ho_ten}</option>\n                                )\n                            })}\n                        </select>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Support:</span>\n                        <select ref=\"support\" defaultValue={this.props.data ? this.props.data.support : \"default\"} disabled={this.props.perms[findWithAttr(this.props.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.bill[2] == \"1\" ?  null : 'disabled'}>\n                            <option disabled selected value=\"default\"></option>\n                            {this.state.staff.map((data, i) => {\n                                return (\n                                    <option value={data._id} key={i}>{data.ho_ten}</option>\n                                )\n                            })}\n                        </select>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Photoshop:</span>\n                        <select ref=\"photoshop\" defaultValue={this.props.data ? this.props.data.photoshop : \"default\"} disabled={this.props.perms[findWithAttr(this.props.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.bill[2] == \"1\" ?  null : 'disabled'}>\n                            <option disabled selected value=\"default\"></option>\n                            {this.state.staff.map((data, i) => {\n                                return (\n                                    <option value={data._id} key={i}>{data.ho_ten}</option>\n                                )\n                            })}\n                        </select>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Tình Trạng:</span>\n                        <select ref=\"tinh_trang\" defaultValue={this.props.data ? this.props.data.tinh_trang : \"default\"}>\n                            <option disabled selected value=\"default\"></option>\n                            {this.state.status.map((data, i) => {\n                                return (\n                                    <option value={data._id} key={i}>{data.ten_tinh_trang}</option>\n                                )\n                            })}\n                        </select>\n                    </div>\n                </div>\n\n                <div className=\"column\">\n                    <div className=\"box\">\n                        <span className=\"title\">Tên Khách Hàng:</span>\n                        <input className=\"textbox\" defaultValue={this.props.data ? this.props.data.ten_khach_hang : \"\"} ref=\"ten_khach_hang\" type=\"text\" disabled={this.props.perms[findWithAttr(this.props.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.bill[2] == \"1\" ?  null : 'disabled'}/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Số điện thoại:</span>\n                        <input className=\"textbox\" defaultValue={this.props.data ? this.props.data.so_dien_thoai : \"\"} ref=\"so_dien_thoai\" type=\"number\" disabled={this.props.perms[findWithAttr(this.props.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.bill[2] == \"1\" ?  null : 'disabled'}/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Địa Chỉ:</span>\n                        <input className=\"textbox\" defaultValue={this.props.data ? this.props.data.dia_chi : \"\"} ref=\"dia_chi\" type=\"text\" disabled={this.props.perms[findWithAttr(this.props.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.bill[2] == \"1\" ?  null : 'disabled'}/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Họ Tên Bé:</span>\n                        <input className=\"textbox\" defaultValue={this.props.data ? this.props.data.ho_ten_be : \"\"} ref=\"ho_ten_be\" type=\"text\" disabled={this.props.perms[findWithAttr(this.props.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.bill[2] == \"1\" ?  null : 'disabled'}/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Ngày Sinh Bé:</span>\n                        <LavenDatePicker format={'DD-MM-YYYY'} date={this.state.birthday} ref=\"ngay_sinh_be\" className=\"textbox\" onChange={this.handleChangeBirthday} disabled={this.props.perms[findWithAttr(this.props.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.bill[2] == \"1\" ?  null : 'disabled'}/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Giới Tính Bé:</span>\n                        <select ref=\"gioi_tinh_be\" defaultValue={this.props.data ? this.props.data.gioi_tinh_be : \"\"} disabled={this.props.perms[findWithAttr(this.props.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.bill[2] == \"1\" ?  null : 'disabled'}>\n                            <option disabled selected=\"selected\">Giới tính bé: </option>\n                            <option value=\"0\">Bé trai</option>\n                            <option value=\"1\">Bé gái</option>\n                        </select>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Số Tuổi:</span>\n                        <input className=\"textbox\" defaultValue={this.props.data ? this.props.data.so_tuoi : \"\"} ref=\"so_tuoi\" type=\"text\" disabled/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Ngày Giao Hình:</span>\n                        <LavenDatePicker format={'DD-MM-YYYY'} date={this.state.ngay_giao_hinh} ref=\"ngay_giao_hinh\" className=\"textbox\" onChange={this.handleChangeNgayGiaoHinh}/>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nclass ProductListForm extends Component {\n    constructor(props) {\n        super(props);\n        let dateNow = new Date().getFullYear()+'-'+(new Date().getMonth() + 1) +'-'+(new Date().getDate() <= 9 ? '0' + new Date().getDate() : new Date().getDate());\n\n        this.state = {\n            dat_coc_1_time: this.props.data ? this.props.data.dat_coc_1_time : dateNow,\n            dat_coc_1_des: this.props.data ? this.props.data.dat_coc_1_des : \"\",\n            thanh_toan_l1_1_time: this.props.data ? this.props.data.thanh_toan_l1_1_time : dateNow,\n            thanh_toan_l1_1_des: this.props.data ? this.props.data.thanh_toan_l1_1_des : \"\",\n            thanh_toan_l2_1_time: this.props.data ? this.props.data.thanh_toan_l2_1_time : dateNow,\n            thanh_toan_l2_1_des: this.props.data ? this.props.data.thanh_toan_l2_1_des : \"\",\n            thanh_toan_l3_1_time: this.props.data ? this.props.data.thanh_toan_l3_1_time : dateNow,\n            thanh_toan_l3_1_des: this.props.data ? this.props.data.thanh_toan_l3_1_des : \"\"\n        }\n    }\n\n    handleSave = () => {\n        if(this.refs.dat_coc_2.value !== \"default\" || this.refs.thanh_toan_l1_2.value !== \"default\" || this.refs.thanh_toan_l2_2.value !== \"default\" || this.refs.thanh_toan_l3_2.value !== \"default\") {\n            let data = {\n                tong: parseInt(this.refs.tong.value.replace(/,/g,\"\")),\n                dat_coc_1: parseInt(this.refs.dat_coc_1.value.toString().replace(/\\./g, '')),\n                dat_coc_1_time: this.state.dat_coc_1_time,\n                dat_coc_1_des: this.state.dat_coc_1_des,\n                dat_coc_2: this.refs.dat_coc_2.value,\n                thanh_toan_l1_1: parseInt(this.refs.thanh_toan_l1_1.value.toString().replace(/\\./g, '')),\n                thanh_toan_l1_1_time: this.state.thanh_toan_l1_1_time,\n                thanh_toan_l1_1_des: this.state.thanh_toan_l1_1_des,\n                thanh_toan_l1_2: this.refs.thanh_toan_l1_2.value,\n                thanh_toan_l2_1_time: this.state.thanh_toan_l2_1_time,\n                thanh_toan_l2_1_des: this.state.thanh_toan_l2_1_des,\n                thanh_toan_l2_1: parseInt(this.refs.thanh_toan_l2_1.value.toString().replace(/\\./g, '')),\n                thanh_toan_l2_2: this.refs.thanh_toan_l2_2.value,\n                thanh_toan_l3_1_time: this.state.thanh_toan_l3_1_time,\n                thanh_toan_l3_1_des: this.state.thanh_toan_l3_1_des,\n                thanh_toan_l3_1: parseInt(this.refs.thanh_toan_l3_1.value.toString().replace(/\\./g, '')),\n                thanh_toan_l3_2: this.refs.thanh_toan_l3_2.value,\n                con_no_1: parseInt(this.refs.con_no_1.value.replace(/,/g,\"\")),\n                giam_gia: 0\n            }\n\n            console.log(data);\n\n            this.props.onSave(data);\n        }else{\n            alert(\"Chưa nhập đủ thông tin chuyển khoản!\");\n        }\n    }\n\n    handleChangeInput = (element, e) => {\n        let data = {\n            dat_coc_1: parseInt(this.refs.dat_coc_1.value.toString().replace(/\\./g, '')),\n            thanh_toan_l1_1: parseInt( this.refs.thanh_toan_l1_1.value.toString().replace(/\\./g, '')),\n            thanh_toan_l2_1: parseInt(this.refs.thanh_toan_l2_1.value.toString().replace(/\\./g, '')),\n            thanh_toan_l3_1: parseInt(this.refs.thanh_toan_l3_1.value.toString().replace(/\\./g, '')),\n            giam_gia: 0\n        }\n\n        this.refs.dat_coc_1.value=parseInt(this.refs.dat_coc_1.value.toString().replace(/\\./g, ''));\n        this.refs.thanh_toan_l1_1.value=parseInt(this.refs.thanh_toan_l1_1.value.toString().replace(/\\./g, ''));\n        this.refs.thanh_toan_l2_1.value=parseInt(this.refs.thanh_toan_l2_1.value.toString().replace(/\\./g, ''));\n        this.refs.thanh_toan_l3_1.value=parseInt(this.refs.thanh_toan_l3_1.value.toString().replace(/\\./g, ''));\n\n        let date_now = new Date().getFullYear()+'-'+(new Date().getMonth() + 1) +'-'+(new Date().getDate() <= 9 ? '0' + new Date().getDate() : new Date().getDate());\n        let date_des = new Date();\n        date_des = (date_des.getHours() <= 9 ? '0' + date_des.getHours() : date_des.getHours()) + \":\" + (date_des.getMinutes() <= 9 ? '0' + date_des.getMinutes() : date_des.getMinutes()) + \" \" + (date_des.getDate() <= 9 ? '0' + date_des.getDate() : date_des.getDate()) + \"/\" + ((date_des.getMonth() + 1) <= 9 ? '0' + (date_des.getMonth() + 1) : (date_des.getMonth() + 1)) + \"/\" + date_des.getFullYear()\n\n        data[element] = parseInt(e.target.value);\n        if(element === 'dat_coc_1') {\n            this.setState({\n                dat_coc_1_time: date_now,\n                dat_coc_1_des:date_des + ' - ' + localStorage.getItem(\"ho_ten\")\n            })\n        }else if(element === 'thanh_toan_l1_1') {\n            this.setState({\n                thanh_toan_l1_1_time: date_now,\n                thanh_toan_l1_1_des:date_des + ' - ' + localStorage.getItem(\"ho_ten\")\n            })\n        }else if(element === 'thanh_toan_l2_1'){\n            this.setState({\n                thanh_toan_l2_1_time: date_now,\n                thanh_toan_l2_1_des:date_des + ' - ' + localStorage.getItem(\"ho_ten\")\n            })\n        }else if(element === 'thanh_toan_l3_1') {\n            this.setState({\n                thanh_toan_l3_1_time: date_now,\n                thanh_toan_l3_1_des:date_des + ' - ' + localStorage.getItem(\"ho_ten\")\n            })\n        }\n\n        this.refs.con_no_1.value = numberWithCommas((parseInt(this.refs.tong.value.replace(/,/g,\"\")) - data.dat_coc_1 - data.thanh_toan_l1_1 - data.thanh_toan_l2_1 - data.thanh_toan_l3_1))\n    }\n\n    //CHỈNH SỬA GIÁ TRỊ SAU KHI XÓA SẢN PHẨM\n    handleUpdateConNo = (data) => {\n        data[\"giam_gia\"] = data[\"giam_gia\"] ? parseInt(data[\"giam_gia\"]) : 0;\n        this.refs.con_no_1.value = numberWithCommas(parseInt(this.refs.con_no_1.value.replace(/,/g,\"\")) + (parseInt(data.gia) * parseInt(data.so_luong) - parseInt(data.giam_gia)));\n    }\n\n    //CHỈNH SỬA GIÁ TRỊ CÒN NỢ SAU KHI THAY ĐỔI SẢN PHẨM\n    handleUpdateConNoAfterChangeProduct = (old_data, new_data) => {\n        old_data[\"giam_gia\"] = old_data[\"giam_gia\"] ? parseInt(old_data[\"giam_gia\"]) : 0;\n        this.refs.con_no_1.value = numberWithCommas(parseInt(this.refs.con_no_1.value.replace(/,/g,\"\")) - (Math.abs(parseInt(old_data.gia) * parseInt(old_data.so_luong)) - parseInt(old_data.giam_gia)) + (parseInt(new_data.gia) * parseInt(new_data.so_luong)) - parseInt(new_data.giam_gia));\n    }\n\n    render() { \n        return(\n            <div className=\"product_list_form_container\" style={{flex: 1}}>\n                <div className=\"column\">\n                    <div className=\"box\">\n                        <span className=\"title\">Tổng:</span>\n                        <input className=\"textbox\" ref=\"tong\" value={numberWithCommas(this.props.product_total)} type=\"text\" disabled/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Đặt Cọc: {this.props.data ? this.props.data.dat_coc_1_des : \"\"}</span>\n                        <div className=\"douple_textbox\">\n                            <input className=\"textbox\" ref=\"dat_coc_1\" onKeyUp={(e) => this.handleChangeInput(\"dat_coc_1\", e)} defaultValue={this.props.data ? this.props.data.dat_coc_1 : 0} type=\"number\" disabled={this.props.perms[findWithAttr(this.props.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.bill[2] == \"1\" ? (this.props.data ? (this.props.data.dat_coc_1 !== 0 ? ( localStorage.getItem('ten_chuc_vu') == 'admin' ? null : 'disabled'):null ) : null) : 'disabled'}/>\n                            <select className=\"selectbox\" ref=\"dat_coc_2\" defaultValue={this.props.data ? this.props.data.dat_coc_2 : \"2\"} disabled={this.props.perms[findWithAttr(this.props.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.bill[2] == \"1\" ? (this.props.data ? this.props.data.dat_coc_2 != 2 ? ( localStorage.getItem('ten_chuc_vu') == 'admin'  ? null : 'disabled'):null : null) : 'disabled'}>     \n                                <option disabled selected value=\"2\"></option>\n                                <option value=\"0\">Chuyển khoản</option>\n                                <option value=\"1\">Tiền mặt</option>\n                            </select>\n                        </div>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Thanh Toán L1: {this.props.data ? this.props.data.thanh_toan_l1_1_des : \"\"}</span>\n                        <div className=\"douple_textbox\">\n                            <input className=\"textbox\" ref=\"thanh_toan_l1_1\" onKeyUp={(e) => this.handleChangeInput(\"thanh_toan_l1_1\", e)} defaultValue={this.props.data ? this.props.data.thanh_toan_l1_1 : 0} type=\"number\" disabled={this.props.perms[findWithAttr(this.props.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.bill[2] == \"1\" ? (this.props.data ? (this.props.data.thanh_toan_l1_1 !== 0 ? ( localStorage.getItem('ten_chuc_vu') == 'admin'  ? null : 'disabled'):null ) : null) : 'disabled'}/>\n                            <select className=\"selectbox\" ref=\"thanh_toan_l1_2\" defaultValue={this.props.data ? this.props.data.thanh_toan_l1_2 : \"2\"} disabled={this.props.perms[findWithAttr(this.props.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.bill[2] == \"1\" ? (this.props.data ? this.props.data.thanh_toan_l1_2 != 2 ? ( localStorage.getItem('ten_chuc_vu') == 'admin'  ? null : 'disabled'):null : null) : 'disabled'}>\n                                <option disabled selected value=\"2\"></option>\n                                <option value=\"0\">Chuyển khoản</option>\n                                <option value=\"1\">Tiền mặt</option>\n                            </select>\n                        </div>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Thanh Toán L2: {this.props.data ? this.props.data.thanh_toan_l2_1_des : \"\"}</span>\n                        <div className=\"douple_textbox\">\n                            <input className=\"textbox\" ref=\"thanh_toan_l2_1\" onKeyUp={(e) => this.handleChangeInput(\"thanh_toan_l2_1\", e)} defaultValue={this.props.data ? this.props.data.thanh_toan_l2_1 : 0} type=\"number\" disabled={this.props.perms[findWithAttr(this.props.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.bill[2] == \"1\" ? (this.props.data ? (this.props.data.thanh_toan_l2_1 !== 0 ? ( localStorage.getItem('ten_chuc_vu') == 'admin'  ? null : 'disabled'):null ) : null) : 'disabled'}/>\n                            <select className=\"selectbox\" ref=\"thanh_toan_l2_2\" defaultValue={this.props.data ? this.props.data.thanh_toan_l2_2 : \"2\"} disabled={this.props.perms[findWithAttr(this.props.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.bill[2] == \"1\" ? (this.props.data ? this.props.data.thanh_toan_l2_2 != 2 ? ( localStorage.getItem('ten_chuc_vu') == 'admin'  ? null : 'disabled'):null : null) : 'disabled'}>\n                                <option disabled selected value=\"2\"></option>\n                                <option value=\"0\">Chuyển khoản</option>\n                                <option value=\"1\">Tiền mặt</option>\n                            </select>\n                        </div>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Thanh Toán L3: {this.props.data ? this.props.data.thanh_toan_l3_1_des : \"\"}</span>\n                        <div className=\"douple_textbox\">\n                            <input className=\"textbox\" ref=\"thanh_toan_l3_1\" onKeyUp={(e) => this.handleChangeInput(\"thanh_toan_l3_1\", e)} defaultValue={this.props.data ? (this.props.data.thanh_toan_l3_1 ? this.props.data.thanh_toan_l3_1 : 0) : 0} type=\"number\" disabled={this.props.perms[findWithAttr(this.props.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.bill[2] == \"1\" ? (this.props.data ? (this.props.data.thanh_toan_l3_1 == undefined ? null : (this.props.data.thanh_toan_l3_1 !== 0 ? ( localStorage.getItem('ten_chuc_vu') == 'admin'  ? null : 'disabled'):null )) : null) : 'disabled'}/>\n                            <select className=\"selectbox\" ref=\"thanh_toan_l3_2\" defaultValue={this.props.data ? this.props.data.thanh_toan_l3_2 : \"2\"} disabled={this.props.perms[findWithAttr(this.props.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.bill[2] == \"1\" ? (this.props.data ? this.props.data.thanh_toan_l3_2 != 2 ? ( localStorage.getItem('ten_chuc_vu') == 'admin'  ? null : 'disabled'):null : null) : 'disabled'}>\n                                <option disabled selected value=\"2\"></option>\n                                <option value=\"0\">Chuyển khoản</option>\n                                <option value=\"1\">Tiền mặt</option>\n                            </select>\n                        </div>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Còn Nợ:</span>\n                        <div className=\"douple_textbox\">\n                            <input className=\"textbox\" ref=\"con_no_1\" onKeyUp={(e) => this.handleChangeInput(\"con_no_1\", e)} defaultValue={this.props.data ? numberWithCommas(this.props.data.con_no_1 ? this.props.data.con_no_1 : 0) : 0} type=\"text\" disabled/>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nclass StaffForm extends Component {\n    constructor(props) {\n        super(props);\n\n        let ngay_sinh = this.props.data ? this.props.data.ngay_sinh ? this.props.data.ngay_sinh.split(\"T\")[0] : null : null;\n        ngay_sinh = ngay_sinh ? ngay_sinh.split(\"-\") : null;\n        ngay_sinh = ngay_sinh ? ngay_sinh[0].length == 2 ? ngay_sinh[0] + '-' + ngay_sinh[1] + '-' + ngay_sinh[2] : ngay_sinh[2] + '-' + ngay_sinh[1] + '-' + ngay_sinh[0] : null;\n\n        this.state = {\n            chuc_vu: null,\n            date: ngay_sinh\n        }\n\n        getPermissions((res) => {\n            this.setState({\n                chuc_vu: res\n            })\n        });\n    }\n\n    handleChange = (date) => {\n        this.setState({\n          date: date\n        });\n    }\n\n    handleSave = () => {\n        let data = {\n            ho_ten: this.refs.ho_ten.value,\n            ngay_sinh: new Date(),\n            so_dien_thoai: this.refs.so_dien_thoai.value,\n            chuc_vu:this.refs.chuc_vu.value,\n            luong_co_ban: this.refs.luong_co_ban.value,\n            email: this.refs.email.value,\n            password: this.refs.password.value\n        }\n\n        this.props.onSave(data);\n    }\n\n    render() {\n        if(!this.state.chuc_vu) {\n            return <div></div>\n        }\n\n        return(\n            <div className=\"product_list_form_container\">\n                <div className=\"column\">\n                    <div className=\"box\">\n                        <span className=\"title\">Họ Tên</span>\n                        <input className=\"textbox\" defaultValue={this.props.data ? this.props.data.ho_ten : \"\"} ref=\"ho_ten\" type=\"text\"/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Số Điện Thoại</span>\n                        <input className=\"textbox\" defaultValue={this.props.data ? this.props.data.so_dien_thoai : \"\"} ref=\"so_dien_thoai\" type=\"number\"/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Tên Người Dùng</span>\n                        <input className=\"textbox\" defaultValue={this.props.data ? this.props.data.email : \"\"} ref=\"email\" type=\"text\"/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Mật khẩu</span>\n                        <input className=\"textbox\" defaultValue={this.props.data ? this.props.data.password : \"\"} ref=\"password\" type=\"password\"/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Chức Vụ</span>\n                        <select ref=\"chuc_vu\" defaultValue={this.props.data ? this.props.data.chuc_vu : 0}>\n                            {this.state.chuc_vu.map((data, i) => {\n                                return (<option value={data._id.toString()}>{data.ten_nhom}</option>)\n                            })}\n                        </select>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Lương Cơ Bản</span>\n                        <input className=\"textbox\" ref=\"luong_co_ban\" defaultValue={this.props.data ? this.props.data.luong_co_ban ? this.props.data.luong_co_ban : 0 : 0} type=\"number\"/>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nclass StaffSalaryForm extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            chuc_vu: null,\n            date: this.props.data ? new Date(this.props.data.ngay_sinh) : new Date(),\n            date_filter: new Date().getFullYear() + '-' + parseInt(new Date().getMonth()),\n            redirect: false\n        }\n\n        getPermissions((res) => {\n            this.setState({\n                chuc_vu: res,\n                total_photo: null,\n                total_service: null,\n                total: null,\n                goi_chup: null,\n                dich_vu: null,\n                thuc_lanh: null,\n                luong_thang: null\n            })\n        });\n\n        this.SalaryTableCalculate(this.props.data, new Date().getFullYear(), parseInt(new Date().getMonth()));\n\n        this.handleLoadBonus();\n    }\n\n    handleLoadBonus = async () => {\n        getGoiChup((goi_chup_data) => {\n            this.setState({\n                goi_chup: goi_chup_data\n            })\n        })\n\n        getServices((dich_vu_data) => {\n            this.setState({\n                dich_vu: dich_vu_data\n            })\n        })\n    }\n\n    handleChange = (date) => {\n        this.setState({\n          date: date\n        });\n    }\n\n    handleSave = () => {\n        let data = {\n            luong_co_ban: this.refs.luong_co_ban.value,\n            ngay_cong: this.refs.ngay_cong.value,\n            phan_tram_thuong_dich_vu_tu_van: parseInt(this.refs.phan_tram_thuong_dich_vu_tu_van.value),\n            phan_tram_thuong_goi_chup_photo: parseInt(this.refs.phan_tram_thuong_goi_chup_photo.value),\n            phan_tram_thuong_goi_chup_tu_van: parseInt(this.refs.phan_tram_thuong_goi_chup_tu_van.value),  \n            date_created: this.state.date_filter\n        }\n\n        updateSalaryHistory(this.state.history._id, data, (res) => {\n            this.setState({\n                redirect: true\n            })\n        })\n    }\n\n    salaryLoad = (data, month , year) => {\n        //Tính bảng lương\n        salaryLoad(data, month, year, (data) => {\n            this.setState({\n                history: data\n            });\n\n            this.refs.luong_co_ban.value = data.luong_co_ban;\n            this.refs.ngay_cong.value = data.ngay_cong;\n            this.refs.phan_tram_thuong_dich_vu_tu_van.value = data.phan_tram_thuong_dich_vu_tu_van;\n            this.refs.phan_tram_thuong_goi_chup_photo.value = data.phan_tram_thuong_goi_chup_photo;\n            this.refs.phan_tram_thuong_goi_chup_tu_van.value = data.phan_tram_thuong_goi_chup_tu_van;\n            this.refs.phan_tram_thuong_goi_chup_tu_van.value = data.phan_tram_thuong_goi_chup_tu_van;\n            this.refs.luong_thang.value = numberWithCommas(data.luong_thang);\n            this.refs.tong_doanh_thu.value = numberWithCommas(data.total_photo);\n            this.refs.thuong_dich_vu.value = numberWithCommas(data.total_service);\n            this.refs.tong_thuong.value = numberWithCommas(data.total);\n            this.refs.thuc_lanh.value = numberWithCommas(data.thuc_lanh);\n        })\n    }\n\n    //Lọc lịch sử bảng lương\n    handleFilter = (date) => {\n        let dates = date.split(\"-\");\n        this.salaryLoad(this.props.data, dates[0], parseInt(dates[1]) - 1);\n        this.setState({\n            date_filter: dates[0] + '-' + (parseInt(dates[1]) - 1)\n        })\n    }\n\n    //Tính bảng lunogw\n    SalaryTableCalculate = (data, month, year) => {\n        //Tính bảng lương\n        salaryCalculate(data, month, year, (data) => {\n            this.setState({\n                history: data\n            });\n\n            this.refs.luong_co_ban.value = data.luong_co_ban;\n            this.refs.ngay_cong.value = data.ngay_cong;\n            this.refs.phan_tram_thuong_dich_vu_tu_van.value = data.phan_tram_thuong_dich_vu_tu_van;\n            this.refs.phan_tram_thuong_goi_chup_photo.value = data.phan_tram_thuong_goi_chup_photo;\n            this.refs.phan_tram_thuong_goi_chup_tu_van.value = data.phan_tram_thuong_goi_chup_tu_van;\n            this.refs.phan_tram_thuong_goi_chup_tu_van.value = data.phan_tram_thuong_goi_chup_tu_van;\n            this.refs.luong_thang.value = numberWithCommas(data.luong_thang);\n            this.refs.tong_doanh_thu.value = numberWithCommas(data.total_photo);\n            this.refs.thuong_dich_vu.value = numberWithCommas(data.total_service);\n            this.refs.tong_thuong.value = numberWithCommas(data.total);\n            this.refs.thuc_lanh.value = numberWithCommas(data.thuc_lanh);\n        })\n    }\n\n    //Sự kiện thay đổi giá trị % thưởng\n    onInputChange = (e, element) => {\n        let history = this.state.history;\n        history[element] = element == 'ngay_cong' ? e.target.value : parseInt(e.target.value);\n\n        if(element === 'phan_tram_thuong_goi_chup_tu_van') {\n\n            this.setState({\n                history: history\n            })\n        }else if(element === 'phan_tram_thuong_goi_chup_photo') {\n\n            this.setState({\n                history: history\n            })\n        }else if(element === 'phan_tram_thuong_dich_vu_tu_van') {\n\n            this.setState({\n                history: history\n            })\n        }else if(element === 'luong_co_ban') {\n            this.setState({\n                history: history\n            })\n        }\n\n        this.SalaryTableCalculate(this.state.history, this.state.date_filter.split(\"-\")[0], this.state.date_filter.split(\"-\")[1])\n    }\n\n    render() {\n\n        if(!this.props.data) {\n            return <div></div>\n        }\n\n        if(this.state.redirect) {\n            return(<Redirect to=\"/staff_salary\"/>)\n        }\n\n        const perm = this.props.perms[findWithAttr(this.props.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.staff_salary;\n\n        return(\n            <div className=\"product_list_form_container\">\n                <div className=\"column\">\n                    <div className=\"box\">\n                        <span className=\"title\">Lương Cơ Bản</span>\n                        <input className=\"textbox\" onChange={(e) => this.onInputChange(e, 'luong_co_ban')} ref=\"luong_co_ban\" type=\"number\" disabled={perm[2] == \"1\" ? '' : 'disabled'}/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Ngày Công</span>\n                        <input className=\"textbox\" onChange={(e) => this.onInputChange(e, 'ngay_cong')} ref=\"ngay_cong\" type=\"text\" disabled={perm[2] == \"1\" ? '' : 'disabled'}/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Lương Tháng</span>\n                        <input className=\"textbox\" ref=\"luong_thang\" type=\"text\" disabled/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">% Thưởng Doanh Thu Tư Vấn (Gói chụp)</span>\n                        <input className=\"textbox\" onChange={(e) => this.onInputChange(e, 'phan_tram_thuong_goi_chup_tu_van')} ref=\"phan_tram_thuong_goi_chup_tu_van\" type=\"number\" disabled={perm[2] == \"1\" ? '' : 'disabled'}/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">% Thưởng Doanh Thu Photo (Gói chụp)</span>\n                        <input className=\"textbox\" onChange={(e) => this.onInputChange(e, 'phan_tram_thuong_goi_chup_photo')} ref=\"phan_tram_thuong_goi_chup_photo\" type=\"number\" disabled={perm[2] == \"1\" ? '' : 'disabled'}/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Thưởng Doanh Thu</span>\n                        <input className=\"textbox\" ref=\"tong_doanh_thu\" type=\"text\" disabled/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">% Thưởng Doanh Thu Tư Vấn (Dịch Vụ)</span>\n                        <input className=\"textbox\" onChange={(e) => this.onInputChange(e, 'phan_tram_thuong_dich_vu_tu_van')} ref=\"phan_tram_thuong_dich_vu_tu_van\" type=\"number\" disabled={perm[2] == \"1\" ? '' : 'disabled'}/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Thưởng Dịch Vụ</span>\n                        <input className=\"textbox\" ref=\"thuong_dich_vu\" type=\"text\" disabled/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Tổng Thưởng</span>\n                        <input className=\"textbox\" ref=\"tong_thuong\" type=\"text\" disabled/>\n                    </div>\n                    <div className=\"box\">\n                        <span className=\"title\">Thực Lãnh</span>\n                        <input className=\"textbox\" ref=\"thuc_lanh\" type=\"text\" disabled/>\n                    </div>\n                </div>\n                <div className=\"column\">\n                    <SalaryTableCard data={this.props.data} history={this.state.history}/>\n                </div>\n            </div>\n        )\n    }\n}\n\nclass PermissionForm extends Component {\n    render() {\n        return(\n            <div className=\"product_list_form_container\">\n                <div className=\"column\">\n                    <div className=\"box\">\n                        <span className=\"title\">Tên Nhóm</span>\n                        <input className=\"textbox\" ref=\"branch\" type=\"text\"/>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport {\n    BillForm,\n    ProductListForm,\n    StaffForm,\n    PermissionForm,\n    StaffSalaryForm\n}","import React, {Component, useEffect} from 'react';\nimport {BillServicesModal, BillServicesEditModal} from '../components/Modals';\nimport {DefaultHeaderBar} from '../components/Header_bar';\nimport {BillForm, ProductListForm} from '../components/Forms';\nimport {BillEditProductTable} from '../components/Table';\nimport { findWithAttr} from '../functions/Global';\nimport {LINK} from '../functions/Global';\n\nimport {createBill, updateBill, getSingleBill, removeBill, getPermissions, restoreBill, getSingleStaff} from '../functions/Api';\nimport {Redirect} from 'react-router-dom';\nimport socketIOClient from 'socket.io-client';\n\nimport \"../styles/views/Bill_Edit.scss\";\n\nconst socket = socketIOClient(LINK);    \n\nclass BillEdit extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n           bill_data : null,\n           product_data: [],\n           products: {\"products\": []},\n           product_total: 0,\n           edit_data: null,\n           data: null,\n           is_modal_open: \"false\",\n           is_edit_modal_open: \"false\",\n           redirect: false,\n           perms: null,\n           date: this.props.match.params.date,\n           print_bill: false,\n           user_edited_name: null,\n           is_editting: false,\n           editing_id: null\n        }\n\n        if(this.props.match.params.id !== \"create_new\") {\n            getSingleBill(this.props.match.params.id, (res) => {\n                if(res.user_edited_id) {\n                    getSingleStaff(res.user_edited_id, user => {\n                        this.setState ({\n                            user_edited_name: `Được chỉnh sửa bởi ${user.ho_ten}`\n                        })\n                    })\n                }\n\n                this.setState ({\n                    data: res,\n                    products: {\"products\": res.products},\n                    product_total: res.tong,\n                    editing_id: this.props.match.params.id,\n                    is_editting: res.deleted ? false : true\n                })\n            });\n        }\n        \n        getPermissions((res) => {\n            this.setState({\n                perms: res\n            })\n        });\n    }\n\n    handleSaveOnclick = async () => {\n        await this.refs.product_list_form.handleSave();\n        await this.refs.bill_form.handleSave();\n    }\n\n    handleSave = async (data) => {\n        await this.setState ({\n            bill_data: data\n        })\n\n        await this.handleSubmit();\n    }\n\n    handleSaveProduct = async (data) => {\n        await this.setState ({\n            product_data: data\n        })\n    }\n\n    handleSaveProductTab = (data) => {\n        let new_data = this.state.products;\n        let total = 0;\n        new_data.products.push(data);\n\n        new_data.products.map((data, i) => {\n            total += (parseInt(data.gia) * parseInt(data.so_luong) * ((100 - parseInt(data.chiet_khau))/100)) - (data.giam_gia ? parseInt(data.giam_gia) : 0);\n        });\n\n        this.setState({\n            products: new_data,\n            product_total: total\n        })\n\n        this.refs.product_list_form.handleUpdateConNo(data);\n        this.handleCloseAddProductModal();\n    }\n\n    handleUpdateProductTab = (data, id) => {\n        let new_data = this.state.products.products;\n\n        //THAY ĐỔI GIÁ TRỊ INPUT CÒN NỢ\n        this.refs.product_list_form.handleUpdateConNoAfterChangeProduct(new_data[id], data);\n\n        let total = 0;\n        new_data[id] = data;\n\n        new_data.map((data, i) => {\n            total += (parseInt(data.gia) * parseInt(data.so_luong) * ((100 - parseInt(data.chiet_khau))/100) - parseInt(data.giam_gia ? data.giam_gia : 0));\n        });\n\n        this.setState({\n            products: {\"products\": new_data},\n            product_total: total\n        })\n        \n        this.handleCloseAddProductModal();\n    }\n\n    handleRemoveProductTab = (id, datas) => {\n        let data = this.state.products.products.filter((data, i) => {return i !== id});\n        let data_2 = datas;\n        data_2[\"gia\"] = parseInt('-' +  data_2[\"gia\"]);\n\n        //THAY ĐỔI GIÁ TRỊ INPUT CÒN NỢ\n        this.refs.product_list_form.handleUpdateConNo(data_2);\n        \n        let total = 0;\n\n        data.map((data, i) => {\n            total += parseInt(data.gia) * parseInt(data.so_luong) * ((100 - parseInt(data.chiet_khau))/100);\n        })\n\n        this.setState({\n            products: {\"products\": data},\n            product_total: total\n        })\n        \n       // this.refs.product_list_form.handleUpdateConNo(data_2);\n        this.handleCloseAddProductModal();\n    }\n\n    //SAVE OR TẠO ĐƠN HÀNG\n    handleSubmit = () => {\n        let data = Object.assign(this.state.bill_data,this.state.product_data, this.state.products);\n\n        if(this.props.match.params.id !== \"create_new\" || this.state.is_editting) {\n            data[\"_id\"] = this.state.editing_id;\n            data[\"user_edited_id\"] = localStorage.getItem(\"user_id\");\n            data[\"date_created\"] = this.state.data.date_created;\n\n            updateBill(data, (res) => {\n                socket.emit(\"client-update-bill\", data);//EMIT TO UPDATE CALENDAR\n                alert(\"Lưu đơn hàng thành công!\");\n            });\n        }else {\n            createBill(data, (res) => {\n                data[\"user_edited_id\"] = localStorage.getItem(\"user_id\");\n\n                socket.emit(\"client-create-bill\", res.data);//EMIT TO UPDATE CALENDAR\n                alert(\"Tạo đơn hàng thành công!\");\n\n                this.setState({\n                    is_editting: true,\n                    data: res.data,\n                    products: {\"products\": res.data.products},\n                    product_total: res.data.tong,\n                    editing_id: res.data._id\n                })\n            });\n        }\n    }\n\n    handleOpenAddProductModal = () => {\n        this.setState ({\n            is_modal_open: \"true\"\n        })\n    }\n\n    handleOpenEditProductModal = (id) => {\n        let data = this.state.products.products;\n        data[id][\"id\"] = id;\n        data = data[id];\n\n        this.refs.bill_services_edit_modal.state.giam_gia = data.giam_gia ? data.giam_gia : 0;\n        this.refs.bill_services_edit_modal.state.so_luong = data.so_luong;\n        this.refs.bill_services_edit_modal.state._id = data._id;\n        this.refs.bill_services_edit_modal.state.id = id;\n\n        this.setState ({\n            is_edit_modal_open: \"true\",\n            edit_data: data\n        })\n    }\n\n    handleCloseAddProductModal = () => {\n        this.setState ({\n            is_modal_open: \"false\",\n            is_edit_modal_open: \"false\"\n        })\n    }\n\n    handleRemove = () => {\n        removeBill(this.props.match.params.id, (res) => {\n            socket.emit(\"client-remove-bill\", {id: this.props.match.params.id}); //EMIT TO SERVER WHEN CLIENT REMOVE BILL\n\n            this.setState({\n                redirect: true\n            })\n        });\n    }\n\n    handlePrintBill = () => {\n        this.setState({\n            print_bill: true\n        })\n    }\n\n    handleRestore = () => {\n        restoreBill(this.props.match.params.id, (res) => {\n            this.setState({\n                redirect: true\n            })\n        });\n    }\n\n    render() {\n        if(!this.state.data && this.props.match.params.id !== \"create_new\" || !this.state.perms) {\n            return(<div></div>)\n        }\n\n        if(this.state.redirect) {\n            if(window.location.pathname.split('/')[1] === \"bill_restore\") {\n                return <Redirect to=\"/trash\"/>\n            }\n            return <Redirect to=\"/\"/>\n        }\n\n        if(this.state.print_bill) {\n            return <Redirect to={`/bill_print/${this.state.editing_id}`}/>\n        }\n \n        return(\n            <div className=\"bill_edit_view\">\n                {!this.state.is_editting ? this.props.match.params.id == \"create_new\" ? \n                <DefaultHeaderBar customTitle={this.state.user_edited_name}  onGoBack={() => this.props.history.goBack()} title=\"Đơn Hàng\" back_link=\"/\" handleEdit={null} handleCreate={null} create_btn_link={null} handleRemove={null} handleSave={this.state.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.bill[1] == \"1\" ? this.handleSaveOnclick : null} handleAddProduct={this.handleOpenAddProductModal}/> \n                : <DefaultHeaderBar customTitle={this.state.user_edited_name} onGoBack={() => this.props.history.goBack()} handleRestore={this.state.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.trash[2] == \"1\" ? this.handleRestore : null} handleEdit={null} handleCreate={null} create_btn_link={null} handleRemove={this.state.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.trash[3] == \"1\" ? this.handleRemove : null} title=\"Thùng Rác\" back_link=\"/\"/> \n                : <DefaultHeaderBar customTitle={this.state.user_edited_name} handlePrintBill={this.handlePrintBill}  onGoBack={() => this.props.history.goBack()} handleEdit={null} handleCreate={null} create_btn_link={null} handleRemove={this.state.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.bill[3] == \"1\" ? this.handleRemove : null} title=\"Đơn Hàng\" back_link=\"/\" handleSave={this.handleSaveOnclick} handleAddProduct={this.handleOpenAddProductModal}/>}\n                <BillForm date={this.state.date} perms={this.state.perms} ref=\"bill_form\" onSave={this.handleSave} data={this.state.data}/>\n                <BillServicesModal is_open={this.state.is_modal_open} onClose={this.handleCloseAddProductModal} onSave={this.handleSaveProductTab}/>\n                <BillServicesEditModal data={this.state.edit_data} ref=\"bill_services_edit_modal\" perms={this.state.perms} onRemove={this.handleRemoveProductTab} is_open={this.state.is_edit_modal_open} onClose={this.handleCloseAddProductModal} onSave={this.handleUpdateProductTab}/>\n\n                <h1 className=\"view_header\" style={{marginTop: \"64px\", marginLeft: \"16px\"}}>Danh Sách Sản Phẩm</h1>\n    \n                <div className=\"product_list_container\" style={{display: \"fles\"}}>\n                    <BillEditProductTable data={this.state.products.products} onEdit={this.handleOpenEditProductModal}/>\n                    <ProductListForm perms={this.state.perms}  ref=\"product_list_form\" data={this.state.data} product_total={this.state.product_total} onSave={this.handleSaveProduct}/>\n                </div>\n            </div>\n        )\n    }\n}   \n\nexport default BillEdit;","import React, {Component} from 'react';\nimport {getSingleBill,getBranch} from '../functions/Api';\nimport { numberWithCommas, findWithAttr } from '../functions/Global';\nimport Logo from '../styles/resources/Logo.png';\nimport {RiArrowLeftSLine} from 'react-icons/ri';\nimport {Link} from 'react-router-dom';\n\nclass BillPrint extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            data: null,\n            branch: null\n        }\n\n        getSingleBill(this.props.match.params.id, (res) => {\n            this.setState({\n                data:res\n            })\n        });\n\n        getBranch((res) => {\n            this.setState({\n                branch: res\n            })\n        })\n    }\n\n    handlePrint = (e) => {\n        e.target.style.display = 'none';\n        this.refs.view_header.style.display = 'none';\n\n        window.print()\n    }\n\n    render() {\n        if(!this.state.data || !this.state.branch) {\n            return <div></div>\n        }\n\n        let gioitinh = [\"Bé Trai\", \"Bé Gái\"]\n\n        return(\n            <div className=\"view bill_print\">\n                <h1 onClick={this.props.history.goBack} className=\"view_header\" ref=\"view_header\" style={{textDecoration: 'none',cursor: 'pointer',width: \"100%\", textAlign: \"left\", marginTop: \"32px\", marginBottom : \"64px\"}}><RiArrowLeftSLine className=\"icon\"/>In Hóa Đơn</h1>\n                <span style={{textAlign: \"center\", width: \"100%\", whiteSpace: \"pre-wrap\"}}>{findWithAttr(this.state.branch,'_id',parseInt(this.state.data.chi_nhanh)) > -1 ? this.state.branch[findWithAttr(this.state.branch,'_id',parseInt(this.state.data.chi_nhanh))].dia_chi : ''}</span>\n                <h1>HÓA ĐƠN</h1>\n                <span>Chi Nhánh: <span>{findWithAttr(this.state.branch,'_id',parseInt(this.state.data.chi_nhanh)) > -1 ? this.state.branch[findWithAttr(this.state.branch,'_id',parseInt(this.state.data.chi_nhanh))].ten_chi_nhanh : ''}</span></span>\n                <span>Ngày Chụp: <span>{this.state.data.gio_chup} {this.state.data.ngay_chup}</span></span>\n                <span>Ngày Giao Hình: <span>{this.state.data.ngay_giao_hinh}</span></span>\n                <span>Tên Khách Hàng: <span>{this.state.data.ten_khach_hang}</span></span>\n                <span>SĐT: <span>{this.state.data.so_dien_thoai}</span></span>\n                <span>Địa Chỉ: <span>{this.state.data.dia_chi}</span></span>\n                <span>Họ Tên Bé:  <span>{this.state.data.ho_ten_be}</span></span>\n                <span>Ngày Sinh:  <span>{this.state.data.ngay_sinh_be}</span></span>\n                <span>Giới Tính: <span>{gioitinh[this.state.data.gioi_tinh_be]} - {this.state.data.so_tuoi}</span></span>\n\n                <hr/>\n\n                <table>\n                    <tr>\n                        <th>Sản Phẩm</th>\n                        <th>Đơn Giá</th>\n                        <th>Số Lượng</th>\n                        <th>Giảm Giá</th>\n                        <th>Tổng</th>\n                    </tr>\n                    {this.state.data.products.map((data, i) => {\n                        return(\n                            <tr>\n                                <td>{data.ten_goi}</td>\n                                <td>{numberWithCommas(parseInt(data.gia))}</td>\n                                <td>{data.so_luong}</td>\n                                <td>{data.giam_gia ? data.giam_gia : 0} đ</td>\n                                <td>{numberWithCommas(parseInt(data.gia) * parseInt(data.so_luong) - (data.giam_gia ? data.giam_gia : 0))} đ</td>\n                            </tr>\n                        )\n                    })}\n                </table>\n                \n                <hr/>\n\n                <span>TỔNG CỘNG: <span>{numberWithCommas(parseInt(this.state.data.tong))} đ</span></span>\n                <span>ĐẶT CỌC: <span>{numberWithCommas(parseInt(this.state.data.dat_coc_1))} đ</span></span>\n                <span>THANH TOÁN LẦN 1: <span>{numberWithCommas(parseInt(this.state.data.thanh_toan_l1_1))} đ</span></span>\n                <span>THANH TOÁN LẦN 2: <span>{numberWithCommas(parseInt(this.state.data.thanh_toan_l2_1))} đ</span></span>\n                <span>THANH TOÁN LẦN 3: <span>{numberWithCommas(parseInt(this.state.data.thanh_toan_l3_1 ? this.state.data.thanh_toan_l3_1 : 0))} đ</span></span>\n                <span>CÒN NỢ: <span>{numberWithCommas(parseInt(this.state.data.con_no_1))} đ</span></span>\n\n                <button className=\"btn blue\" onClick={this.handlePrint}>IN</button>\n            </div>\n        )\n    }\n}\n\nexport default BillPrint;","//Lấy ngày trong tháng\nfunction getDaysInMonth(month, year, callback) {\n    let months = parseInt(month) - 1;\n    var date = new Date(year, months, 1);\n    var days = [];\n    while (date.getMonth() === months) {\n      days.push(new Date(date));\n      date.setDate(date.getDate() + 1);\n    }\n    return callback(days);\n  }\n\n//Xây dựng lịch tháng\nfunction calendar(month, year, callback) {\n    let daysOfMonth = []\n    getDaysInMonth(month, year, (res) => {\n        //Thêm số 0 vào các ngày trống\n        for(var i = 1; i < res[0].getDay(); i++) {\n            daysOfMonth.push(0)\n        }\n\n        //Nếu ngày đầu tiên rơi vào CN\n        if(res[0].getDay() === 0) daysOfMonth = [0,0,0,0,0,0];\n\n        //Thêm ngày vào mảng\n        for(const date of res) {\n            daysOfMonth.push(date.getDate());\n        }\n\n        //Thêm số 0 vào các ngày trống ở cuối\n        for(var i = res[res.length - 1].getDay();i <= 6; i++) {\n            daysOfMonth.push(0)\n        }\n    \n        return callback({date: daysOfMonth, month: month, year: year});\n    })\n}\n\nexport {\n    calendar\n}","import React, {Component} from 'react';\nimport {FiChevronLeft, FiChevronRight} from 'react-icons/fi';\nimport \"./styles.scss\";\nimport {calendar} from './functions';\nimport {findWithAttr} from '../../functions/Global';\nimport {getStatus} from '../../functions/Api';\nimport {FiPlus} from 'react-icons/fi';\nimport {Link} from 'react-router-dom';\n\nfunction compare(a,b) {\n    var time1 = parseFloat(a.gio_chup.replace(':','.').replace(/[^\\d.-]/g, ''));\n    var time2 = parseFloat(b.gio_chup.replace(':','.').replace(/[^\\d.-]/g, ''));\n    if (time1 < time2) return -1;\n    if (time1 > time2) return 1;\n    return 0;\n} \n\nclass CalendarHeader extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            month: new Date().getMonth() + 1,\n            year: new Date().getFullYear()\n        }\n    }\n\n    handleNavigate = (type) => {\n        if(type === 'next') {\n            if(this.state.month === 12) {\n                this.setState({\n                    month: 1,\n                    year: parseInt(this.state.year) + 1\n                })\n\n                this.props.onNavigate(1, parseInt(this.state.year) + 1);\n            }else{\n                this.setState({\n                    month: parseInt(this.state.month) + 1\n                })\n\n                this.props.onNavigate(parseInt(this.state.month) + 1, this.state.year);\n            }\n        }else {\n            if(this.state.month === 1) {\n                this.setState({\n                    month: 12,\n                    year: parseInt(this.state.year) - 1\n                })\n\n                this.props.onNavigate(12, parseInt(this.state.year) - 1);\n            }else{\n                this.setState({\n                    month: parseInt(this.state.month) - 1\n                })\n\n                this.props.onNavigate(parseInt(this.state.month) - 1, this.state.year);\n            }\n        }\n    }   \n\n    render() {\n        return(\n            <div className=\"calendar_header\">\n                <div className=\"control_container\">\n                    <button onClick={() => this.handleNavigate('prev')}><FiChevronLeft className=\"icon\"/></button>\n                    <h1>Tháng {this.state.month} - {this.state.year}</h1>\n                    <button onClick={() => this.handleNavigate('next')}><FiChevronRight className=\"icon\"/></button>\n                </div>\n                <div className=\"date_columns\">\n                    <div className=\"column\"><span>THỨ 2</span></div>\n                    <div className=\"column\"><span>THỨ 3</span></div>\n                    <div className=\"column\"><span>THỨ 4</span></div>\n                    <div className=\"column\"><span>THỨ 5</span></div>\n                    <div className=\"column\"><span>THỨ 6</span></div>\n                    <div className=\"column\"><span>THỨ 7</span></div>\n                    <div className=\"column\"><span>C. NHẬT</span></div>\n                </div>\n            </div>\n        )\n    }\n}\n\nclass CalendarBlock extends Component {\n    render() {\n        let events = this.props.events.filter((data, i) => {\n            let date = data.ngay_chup.split(\"-\");\n            if(date[2] != this.props.year || date[1] != this.props.month || date[0] != this.props.date) return false;\n\n            return true;\n        })\n\n        events.sort(compare)\n        return(\n            <div className={`calendar_block ${this.props.focus_date == this.props.date ? 'focus' : ''}`} onClick={this.props.onBlockClick}>\n                <div className={new Date().getDate() == this.props.date && new Date().getMonth() + 1 == this.props.month && new Date().getFullYear() == this.props.year ? 'date_container active' : 'date_container'}>\n                    <span>{this.props.date !== 0 ? this.props.date : null}</span>\n                </div>\n                {this.props.events ?    \n                    <div className=\"events_container\">\n                        <div className={`container`}>\n                            {events.map((data, i) => {\n                                return(\n                                    <div className={`event ${findWithAttr(this.props.branch,'ten_chi_nhanh',data.branch) > -1 ? this.props.branch[findWithAttr(this.props.branch,'ten_chi_nhanh',data.branch)].color : ''}`} onClick={() => this.props.onClick(data)}>\n                                        <p className=\"content\">{data.title}</p>\n                                    </div>\n                                )\n                            })}\n                        </div>\n                    </div> : null}\n            </div>\n        )\n    }\n}\n\nclass CalendarActionButtons extends Component {\n    render() {\n        return(\n            <div className={`calendar_action_buttons ${this.props.focus_date > -1 ? 'active' : ''}`}>\n                <div className=\"buttons_container\">\n                    <Link className=\"button\" to={`/bill_edit/create_new/${this.props.year}-${this.props.month <= 9 ? '0' + this.props.month : this.props.month}-${this.props.focus_date <= 9 ? '0' + this.props.focus_date : this.props.focus_date}`}><FiPlus className=\"icon\"/></Link>\n                </div>\n            </div>\n        )\n    }\n}\n\nclass LavenCalendar extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            calendar_data: null,\n            month: null,\n            year: null,\n            focus_date: -1\n        }\n    }\n\n    componentDidMount = () => {\n        this.handleUpdateCalendar(new Date().getMonth() + 1, new Date().getFullYear())\n    }\n\n    handleUpdateCalendar = (month, year) => {\n        calendar(month, year, (result) => {\n            this.setState({\n                calendar_data: result.date,\n                month: result.month,\n                year: result.year\n            })\n        });\n    }\n\n    //Chọn 1 ngày\n    handleFocusBlock = (date)  => {\n        if(date != 0) {\n            this.setState({\n                focus_date: date\n            })\n        }\n\n        let events = this.props.events.filter((data, i) => {\n            let dates = data.ngay_chup.split(\"-\");\n            if(dates[2] != this.state.year) return false;\n            if(dates[1] != this.state.month) return false;\n\n            return dates[0] == date;\n        })\n\n        function compare(a,b) {\n            var time1 = parseFloat(a.gio_chup.replace(':','.'));\n            var time2 = parseFloat(b.gio_chup.replace(':','.'));\n            if(a.gio_chup.match(/.*pm/)) time1 += 12; if(b.gio_chup.match(/.*pm/)) time2 += 12;\n            if (time1 < time2) return -1;\n            if (time1 > time2) return 1;\n            return 0;\n        }\n\n        events.sort(compare);\n\n        this.props.onClickDate(events);\n    }\n\n    render() {\n        const events = this.props.events;\n        if(!this.state.calendar_data ||!this.state.month || !this.state.year) {\n            return <div></div>\n        }\n        return(\n            <div className=\"calendar\">\n                <CalendarHeader onNavigate={this.handleUpdateCalendar}/>\n                <div className=\"calendar_container\">\n                    {this.state.calendar_data.map((data, i) => {\n                        const date_check = this.state.year + '-' +this.state.month + '-' + (data <= 9 ? '0' + data : data)\n                        return <CalendarBlock focus_date={this.state.focus_date} month={this.state.month} year={this.state.year} onBlockClick={() => this.handleFocusBlock(data)} onClick={this.props.onClick} date={data} key={i} branch={this.props.branch} events_num={findWithAttr(events, 'ngay_chup', date_check)} events={events}/>\n                    })}\n                </div>\n                <CalendarActionButtons focus_date={this.state.focus_date} year={this.state.year} month={this.state.month}/>\n            </div>\n        )\n    }\n}\n\nexport {\n    LavenCalendar\n};","import React, {Component} from 'react';\nimport \"../styles/components/Calendar.scss\";\nimport {DefaultHeaderBar} from '../components/Header_bar';\nimport {getBill, getBranch, getStatus} from '../functions/Api';\nimport {Redirect} from 'react-router-dom';\nimport {LavenCalendar} from '../components/Calendar/Calendar';\nimport {HashSpiner} from '../components/Spiners';\nimport {CalendarModal, MobileCalendarModal} from '../components/Modals';\nimport {isMobile} from 'react-device-detect';\nimport {removeVietnameseTones, findWithAttr} from '../functions/Global';\nimport socketIOClient from 'socket.io-client';\nimport {LINK} from '../functions/Global';\n\nconst socket = socketIOClient(LINK);\n\nclass CalendarView extends Component {\n    \n    constructor(props) {\n        super(props);\n        this.state = {\n            events: [],\n            redirect: false,\n            link: null,\n            branch: null,\n            old_events: [],\n            modal_visible: false,\n            modal_data: null,\n            m_modal_visible: false,\n            m_modal_data: null,\n            modal_date: '',\n            autocomplete_data: null\n        }\n\n        //GET DON HANG\n        getBill((res) => {\n            //GET CHI NHANH\n            getBranch((branch) => {\n                let events = [];\n    \n                let data = res.filter((data) => {\n                    return !data.deleted;\n                })\n\n                data.forEach((data) => {\n                    const chi_nhanh = findWithAttr(branch,'_id',parseInt(data.chi_nhanh)) > -1 ? branch[findWithAttr(branch,'_id',parseInt(data.chi_nhanh))].ten_chi_nhanh : '';\n                    const gioi_tinh = data.gioi_tinh_be === \"0\" ? \"Bé trai\" : \"Bé gái\"//new Date(data.ngay_chup + ' ' + data.gio_chup)\n                \n                    let ngay_chup = data.ngay_chup\n                    ngay_chup = ngay_chup ? ngay_chup.split(\"-\")[0].length == 2 ? ngay_chup : ngay_chup.split(\"-\")[2] + '-' + ngay_chup.split(\"-\")[1] + '-' + ngay_chup.split(\"-\")[0] : null\n\n                    events.push({\n                        title: `${data.gio_chup} ${chi_nhanh} - ${data.products[0] === undefined ? \"Không có gói chụp\" : data.products[0].ten_goi} - ${data.ten_khach_hang} - ${data.so_dien_thoai} - ${gioi_tinh}`, \n                        ngay_chup: `${ngay_chup}`,\n                        gio_chup: `${data.gio_chup}`,\n                        tinh_trang: data.tinh_trang,\n                        branch: chi_nhanh,\n                        _id: data._id\n                    })\n                });\n    \n                this.setState({\n                    events: events,\n                    old_events: events,\n                    branch: branch\n                })\n            });\n        });\n\n        getStatus((res) => {\n            this.setState({\n                status: res\n            })\n        });\n    }\n\n    componentDidMount = () => {\n        //LISTEN SERVER UPDATE BILL\n        socket.on(\"server-update-bill\", data => {\n            const chi_nhanh = findWithAttr(this.state.branch,'_id',parseInt(data.chi_nhanh)) > -1 ? this.state.branch[findWithAttr(this.state.branch,'_id',parseInt(data.chi_nhanh))].ten_chi_nhanh : '';\n            const gioi_tinh = data.gioi_tinh_be === \"0\" ? \"Bé trai\" : \"Bé gái\"//new Date(data.ngay_chup + ' ' + data.gio_chup)\n            let ngay_chup = data.ngay_chup\n            ngay_chup = ngay_chup ? ngay_chup.split(\"-\")[0].length == 2 ? ngay_chup : ngay_chup.split(\"-\")[2] + '-' + ngay_chup.split(\"-\")[1] + '-' + ngay_chup.split(\"-\")[0] : null\n            let events = this.state.events;\n            let event_data = {\n                title: `${data.gio_chup} ${chi_nhanh} - ${data.products[0] === undefined ? \"Không có gói chụp\" : data.products[0].ten_goi} - ${data.ten_khach_hang} - ${data.so_dien_thoai} - ${gioi_tinh}`, \n                ngay_chup: `${ngay_chup}`,\n                gio_chup: `${data.gio_chup}`,\n                tinh_trang: data.tinh_trang,\n                branch: chi_nhanh,\n                _id: data._id\n            }\n            \n            events[findWithAttr(events, \"_id\", data._id)] = event_data;\n\n            this.setState({\n                events: events\n            })\n        })\n\n        //LISTEN SERVER CREATE BILL\n        socket.on(\"server-create-bill\", data => {\n            const chi_nhanh = findWithAttr(this.state.branch,'_id',parseInt(data.chi_nhanh)) > -1 ? this.state.branch[findWithAttr(this.state.branch,'_id',parseInt(data.chi_nhanh))].ten_chi_nhanh : '';\n            const gioi_tinh = data.gioi_tinh_be === \"0\" ? \"Bé trai\" : \"Bé gái\"//new Date(data.ngay_chup + ' ' + data.gio_chup)\n            let ngay_chup = data.ngay_chup\n            ngay_chup = ngay_chup ? ngay_chup.split(\"-\")[0].length == 2 ? ngay_chup : ngay_chup.split(\"-\")[2] + '-' + ngay_chup.split(\"-\")[1] + '-' + ngay_chup.split(\"-\")[0] : null\n            \n            let events = this.state.events;\n            let event_data = {\n                title: `${data.gio_chup} ${chi_nhanh} - ${data.products[0] === undefined ? \"Không có gói chụp\" : data.products[0].ten_goi} - ${data.ten_khach_hang} - ${data.so_dien_thoai} - ${gioi_tinh}`, \n                ngay_chup: `${ngay_chup}`,\n                gio_chup: `${data.gio_chup}`,\n                tinh_trang: data.tinh_trang,\n                branch: chi_nhanh,\n                _id: data._id\n            }\n            \n            events.push(event_data);\n\n            this.setState({\n                events: events\n            })\n        })\n\n        //LISTEN SERVER REMOVE BILL\n        socket.on(\"server-remove-bill\", id => {\n            let events = this.state.events;\n            events.splice(findWithAttr(events, \"_id\", id), 1);\n\n            this.setState({\n                events: events\n            })\n        })\n    }\n\n    //XU LY CLICK\n    handleEventClick = (e) => {\n            this.setState({\n                modal_visible: true,\n                modal_data: e,\n                modal_date: e\n            })\n    }\n    \n    //THỰC HIỆN LỌC TỪ DROPDOWN\n    handleFilter = (branch, photo, support, tinh_trang, month, year, photoshop) => {\n        //RELOAD DATA\n        getBill((res) => {\n            let data = res.sort((a, b) => {\n                let ngay_chup_a = a.ngay_chup.split(\"-\");\n                ngay_chup_a = ngay_chup_a[0].length !== 2 ? ngay_chup_a[2] + '-' + ngay_chup_a[1] + '-' + ngay_chup_a[0] : ngay_chup_a[0] + '-' +ngay_chup_a[1] + '-' + ngay_chup_a[2];\n\n                let ngay_chup_b = b.ngay_chup.split(\"-\");\n                ngay_chup_b = ngay_chup_b[0].length !== 2 ? ngay_chup_b[2] + '-' + ngay_chup_b[1] + '-' + ngay_chup_b[0] : ngay_chup_b[0] + '-' +ngay_chup_b[1] + '-' + ngay_chup_b[2];\n\n                return new Date(ngay_chup_b) - new Date(ngay_chup_a)\n            })\n\n          //LỌC DATA\n          let filtered_data = data.filter((data, i) => {\n              //LỌC THEO CHI NHÁNH\n              if(branch !== \"all\") {\n                  if(data.chi_nhanh !== branch) return false;\n              }\n  \n              //LỌC THEO PHOTO\n              if(photo !== \"all\") {\n                  if(data.photo !== photo) return false;\n              }\n  \n              //LỌC THEO PHOTOSHOP\n              if(photoshop !== \"all\") {\n                  if(data.photoshop !== photoshop) return false;\n              }\n  \n              //LỌC THEO SUPPORT\n              if(support !== \"all\") {\n                  if(data.support !== support) return false;\n              }\n\n              //LỌC THEO TÌNH TRẠNG\n              if(tinh_trang !== \"all\") {\n                  if(data.tinh_trang !== tinh_trang) return false;\n              }\n\n              return !data.deleted;\n          });\n\n          //GET CHI NHANH\n          getBranch((branch) => {\n              let events = [];\n  \n              filtered_data.forEach((data) => {\n                  const chi_nhanh = findWithAttr(branch,'_id',parseInt(data.chi_nhanh)) > -1 ? branch[findWithAttr(branch,'_id',parseInt(data.chi_nhanh))].ten_chi_nhanh : '';\n                  const gioi_tinh = data.gioi_tinh_be === \"0\" ? \"Bé trai\" : \"Bé gái\"//new Date(data.ngay_chup + ' ' + data.gio_chup)\n                  \n                  let ngay_chup = data.ngay_chup\n                  ngay_chup = ngay_chup ? ngay_chup.split(\"-\")[0].length == 2 ? ngay_chup : ngay_chup.split(\"-\")[2] + '-' + ngay_chup.split(\"-\")[1] + '-' + ngay_chup.split(\"-\")[0] : null\n\n                  events.push({\n                      title: `${data.gio_chup} ${chi_nhanh} - ${data.products[0] === undefined ? \"Không có gói chụp\" : data.products[0].ten_goi} - ${data.ten_khach_hang} - ${data.so_dien_thoai} - ${gioi_tinh}`, \n                      ngay_chup: `${ngay_chup}`,\n                      gio_chup: `${data.gio_chup}`,\n                      tinh_trang: data.tinh_trang,\n                      branch: chi_nhanh,\n                      _id: data._id\n                  })\n              });\n  \n              this.setState({\n                  events: events,\n                  old_events: events,\n                  branch: branch\n              })\n          });\n        });\n    }\n\n    //THỰC HIỆN SEARCH\n    handleSearch = (search_value) => {\n        //RELOAD DATA IF SEARCH VALUE IS NULL\n        if(search_value === \"\") {\n            getBill((res) => {\n                let data = res.filter((data) => {\n                    return !data.deleted;\n                })\n\n                this.setState({\n                    bill: data\n                })            \n            })\n        }\n\n        //GET CHI NHANH\n        getBranch((branch) => {\n            //RELOAD DATA\n            getBill((res) => {\n                let data = res.sort((a, b) => {return new Date(b.ngay_chup) - new Date(a.ngay_chup)})\n                data = res.filter((d) => {\n                    return !d.deleted;\n                })\n\n                let events = [];\n    \n                //TÌM KHÁCH HÀNG OR TÊN BÉ OR SÔS ĐIỆN THOẠI\n                let filtered_data = data.filter((data, i) => {\n                    if(removeVietnameseTones(data.ten_khach_hang).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true; \n                    if(removeVietnameseTones(data.so_dien_thoai).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true; \n                    \n                    return false;\n                })\n    \n                filtered_data.forEach((data) => {\n                    const chi_nhanh = findWithAttr(branch,'_id',parseInt(data.chi_nhanh)) > -1 ? branch[findWithAttr(branch,'_id',parseInt(data.chi_nhanh))].ten_chi_nhanh : '';\n                    const gioi_tinh = data.gioi_tinh_be === \"0\" ? \"Bé trai\" : \"Bé gái\"//new Date(data.ngay_chup + ' ' + data.gio_chup)\n                    \n                    events.push({\n                        title: `${chi_nhanh} - ${data.products[0] === undefined ? \"Không có gói chụp\" : data.products[0].ten_goi} - ${data.ten_khach_hang} - ${data.so_dien_thoai} - ${gioi_tinh}`, \n                        ngay_chup: `${data.ngay_chup}`,\n                        gio_chup: `${data.gio_chup}`,\n                        tinh_trang: data.tinh_trang,\n                        branch: chi_nhanh,\n                        _id: data._id\n                    })\n                });\n    \n                console.log(events);\n    \n                this.setState({\n                    autocomplete_data: events\n                })           \n            })\n        })\n    }\n\n    render() {\n        if(!this.state.branch || !this.state.status) {\n            return <div></div>\n        }\n\n        if(this.state.redirect) {\n            return(\n                <Redirect to={`/bill_edit/${this.state.link}`}/>\n            )\n        }\n\n        return(\n            <div>\n                <CalendarModal events={this.state.events} date={this.state.modal_date} status={this.state.status} data={this.state.modal_data} visible={this.state.modal_visible} handleCloseModal={() => this.setState({modal_visible: false})}/>\n                <DefaultHeaderBar onSearchKeyPress={this.handleSearch} autocomplete_data= {this.state.autocomplete_data} onDropdownFilterBtnClick={this.handleFilter} handleEdit={null} handleCreate={null} create_btn_link={null} handleSave={null} handleRemove={null}  title=\"Lịch\"/>\n                {isMobile ? <MobileCalendarModal visible={this.state.m_modal_visible} data={this.state.m_modal_data} handleCloseModal={() => this.setState({m_modal_visible: false})} branch={this.state.branch}/> : null}\n                <div className=\"view\">\n                    <LavenCalendar events={this.state.events} branch={this.state.branch} onClick={this.handleEventClick} onClickDate={(e) => this.setState({m_modal_data: e, m_modal_visible: true})}/>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default CalendarView;","import React, {Component} from 'react';\nimport {getBill, getBranch} from '../functions/Api';\nimport {DefaultHeaderBar} from '../components/Header_bar';\nimport {CustomersTableContainer} from '../components/Table';\nimport {HashSpiner} from '../components/Spiners';\nimport {removeVietnameseTones} from '../functions/Global';\n\nclass Customers extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            bill: null,\n            branch: null\n        }\n\n        getBill((res) => {\n            let data = res.filter((data) => {\n                return !data.deleted;\n            })\n\n            this.setState ({\n              bill: data\n            })\n        });\n  \n        getBranch((res) => {\n  \n          this.setState({\n            branch: res\n          })\n        });\n    }\n\n    //THỰC HIỆN SEARCH\n    handleSearch = (search_value) => {\n        //RELOAD DATA IF SEARCH VALUE IS NULL\n        if(search_value === \"\") {\n            getBill((res) => {\n                let data = res.filter((data) => {\n                    return !data.deleted;\n                })\n\n                this.setState({\n                    bill: data\n                })            \n            })\n        }\n\n        //RELOAD DATA\n        getBill((res) => {\n            let data = res.sort((a, b) => {return new Date(b.ngay_chup) - new Date(a.ngay_chup)})\n  \n            //TÌM KHÁCH HÀNG OR TÊN BÉ OR SÔS ĐIỆN THOẠI\n            let filtered_data = data.filter((data, i) => {\n                if(removeVietnameseTones(data.ten_khach_hang).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true; \n                if(removeVietnameseTones(data.so_dien_thoai).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true; \n                \n                return false;\n            })\n  \n            this.setState({\n                bill: filtered_data\n            })            \n        })\n    }\n\n    render() {\n        if(!this.state.bill && !this.state.branch) {\n            return(<div className=\"load_view\"><HashSpiner/></div>)\n        }\n\n        return(\n            <div>\n                <DefaultHeaderBar handleEdit={null} onSearchKeyPress={this.handleSearch} handleCreate={null} create_btn_link={null} handleSave={null} handleRemove={null} title=\"Khách Hàng\"/>\n                <CustomersTableContainer bill={this.state.bill} branch={this.state.branch}/>\n            </div>\n        )\n    }\n}\n\nexport default Customers;","import React, {Component} from 'react';\nimport {TakePicturePackageTable} from '../components/Table';\nimport {TakePhotoPackagesHeader} from '../components/Header_bar';\nimport {TakePhotoPackageModal, TakePhotoPackageEditModal} from '../components/Modals';\nimport {getSingleGoiChup, updateGoiChup, getGoiChup} from '../functions/Api';\nimport {removeVietnameseTones} from '../functions/Global';\nimport {HashSpiner} from '../components/Spiners';\n\nclass TakePhotoPackages extends Component {\n    constructor(props) {\n        super(props);\n        this.state =  {\n            modal_is_open: \"false\",\n            edit_modal_is_open: \"false\",\n            edit_id: null,\n            data_goi_chup: null,\n            loading: false\n        }\n\n        getGoiChup((res) => {\n          this.setState ({\n            data_goi_chup: res\n          })\n        })\n    }\n\n    handleCloseModal = () => {\n        this.updateData();\n    }\n\n    handleOpenModal = () => {\n        this.setState({\n            modal_is_open: \"true\"\n        })\n    }\n\n    handleOpenEditModal = (id) => {\n        getSingleGoiChup(id, (res) => {\n            this.setState ({\n                data: res,\n                edit_modal_is_open: \"true\",\n                edit_id: id\n            })\n        });\n    }\n\n    //THỰC HIỆN SEARCH\n    handleSearch = (search_value) => {\n        //RELOAD DATA IF SEARCH VALUE IS NULL\n        if(search_value === \"\") {\n            getGoiChup((res) => {\n                this.setState({\n                    data_goi_chup: res\n                })            \n            })\n        }\n\n        //RELOAD DATA\n        getGoiChup((res) => {\n            let data = res.reverse()\n  \n            //TÌM KHÁCH HÀNG OR TÊN BÉ OR SÔS ĐIỆN THOẠI\n            let filtered_data = data.filter((data, i) => {\n                if(removeVietnameseTones(data.ten_goi).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true;  \n                \n                return false;\n            })\n  \n            this.setState({\n                data_goi_chup: filtered_data\n            })            \n        })\n    }\n\n    updateData = () => {\n      getGoiChup((res) => {\n        this.setState ({\n            data_goi_chup: res,\n            modal_is_open: \"false\",\n            edit_modal_is_open: \"false\",\n            loading: false\n        })\n      })\n    }\n\n    render() {\n        if(!this.state.data_goi_chup) {\n            return(<div className=\"load_view\"><HashSpiner/></div>)\n        }\n        return(\n            <div>\n                <TakePhotoPackagesHeader handleOpenModal={this.handleOpenModal} onSearchKeyPress={this.handleSearch}/>\n                <TakePicturePackageTable data={this.state.data_goi_chup} ref=\"table\" handleOpenModal={this.handleOpenEditModal}/>\n                <TakePhotoPackageModal onLoading={() => this.setState({loading: false})} is_open={this.state.modal_is_open} handleCloseModal={this.handleCloseModal}/>\n                <TakePhotoPackageEditModal data={this.state.data} is_open={this.state.edit_modal_is_open} edit_id={this.state.edit_id} handleCloseModal={this.handleCloseModal}/>\n            </div>\n        )\n    }\n}\n\nexport default TakePhotoPackages;","import React, {Component} from 'react';\nimport {ServicesTable} from '../components/Table';\nimport {ServicesHeader} from '../components/Header_bar';\nimport {ServicesModal, ServicesEditModal} from '../components/Modals';\nimport {getSingleService, getServices} from '../functions/Api';\nimport {removeVietnameseTones} from '../functions/Global';\nimport {HashSpiner} from '../components/Spiners';\n\nclass Services extends Component {\n    constructor(props) {\n        super(props);\n        this.state =  {\n            modal_is_open: \"false\",\n            edit_modal_is_open: \"false\",\n            edit_id: null,\n            data: null,\n            data_dich_vu: null\n        }\n\n        getServices((res) => {\n          this.setState ({\n            data_dich_vu: res\n          })\n        })\n    }\n\n    handleCloseModal = () => {\n       this.updateData();\n    }\n\n    handleOpenModal = () => {\n        this.setState({\n            modal_is_open: \"true\"\n        })\n    }\n\n    handleOpenEditModal = (id) => {\n        getSingleService(id, (res) => {\n            this.setState ({\n                data: res,\n                edit_modal_is_open: \"true\",\n                edit_id: id\n            })\n        });\n    }\n\n    //THỰC HIỆN SEARCH\n    handleSearch = (search_value) => {\n        //RELOAD DATA IF SEARCH VALUE IS NULL\n        if(search_value === \"\") {\n            getServices((res) => {\n                this.setState({\n                    data_dich_vu: res\n                })            \n            })\n        }\n\n        //RELOAD DATA\n        getServices((res) => {\n            let data = res.reverse()\n  \n            //TÌM KHÁCH HÀNG OR TÊN BÉ OR SÔS ĐIỆN THOẠI\n            let filtered_data = data.filter((data, i) => {\n                if(removeVietnameseTones(data.ten_goi).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true;  \n                \n                return false;\n            })\n  \n            this.setState({\n                data_dich_vu: filtered_data\n            })            \n        })\n    }\n\n    updateData = () => {\n        getServices((res) => {\n        this.setState ({\n            data_dich_vu: res,\n            modal_is_open: \"false\",\n            edit_modal_is_open: \"false\",\n        })\n      })\n    }\n\n    render() {\n        if(!this.state.data_dich_vu) {\n            return(<div className=\"load_view\"><HashSpiner/></div>)\n        }\n        return(\n            <div>\n                <ServicesHeader handleOpenModal={this.handleOpenModal} onSearchKeyPress={this.handleSearch}/>\n                <ServicesTable data={this.state.data_dich_vu} ref=\"services_table\" handleOpenModal={this.handleOpenEditModal}/>\n                <ServicesModal is_open={this.state.modal_is_open} handleCloseModal={this.handleCloseModal}/>\n                <ServicesEditModal  data={this.state.data} is_open={this.state.edit_modal_is_open} edit_id={this.state.edit_id} handleCloseModal={this.handleCloseModal}/>\n            </div>\n        )\n    }\n}\n\nexport default Services;","import React, {Component} from 'react';\n\nimport {HeaderBar} from '../components/Header_bar';\nimport {ProductCard} from '../components/Cards';\n\nclass Products extends Component {\n    render() {\n        return(\n            <div>\n                <HeaderBar title=\"Sản Phẩm\"/>\n                <div className=\"product_container\">\n                    <ProductCard type=\"0\"/>\n                    <ProductCard type=\"1\" image=\"https://cf.shopee.vn/file/462c8898226fbe3a782b8afdbb42dda2\" title=\"Baby Tiết Kiệm\" sub_title=\"1.000.000 đ\"/>\n                    <ProductCard type=\"1\" image=\"https://images-na.ssl-images-amazon.com/images/I/81tEfci6Q%2BL.jpg\" title=\"Baby Cơ Bản\" sub_title=\"1.000.000 đ\"/>\n                    <ProductCard type=\"1\" image=\"https://anhcuoihanoi.net/wp-content/uploads/2019/04/ket-qua-hinh-anh-cho-chup-hinh-cho-be-tron-6-thang.jpeg\" title=\"Kèm Ba Mẹ\" sub_title=\"1.000.000 đ\"/>\n                    <ProductCard type=\"1\" image=\"https://toplist.vn/images/800px/bo-baby-photography-chup-anh-em-be-323271.jpg\" title=\"Chỉnh Sửa Baby\" sub_title=\"1.000.000 đ\"/>\n                    <ProductCard type=\"1\" image=\"https://cf.shopee.vn/file/462c8898226fbe3a782b8afdbb42dda2\" title=\"Baby Cao Cấp\" sub_title=\"1.000.000 đ\"/>\n                    <ProductCard type=\"1\" image=\"https://images-na.ssl-images-amazon.com/images/I/81tEfci6Q%2BL.jpg\" title=\"New Born Cơ Bản\" sub_title=\"1.000.000 đ\"/>\n                    <ProductCard type=\"1\" image=\"https://toplist.vn/images/800px/bo-baby-photography-chup-anh-em-be-323271.jpg\" title=\"New Born Cao Cấp\" sub_title=\"1.000.000 đ\"/>\n                    <ProductCard type=\"1\" image=\"https://cf.shopee.vn/file/462c8898226fbe3a782b8afdbb42dda2\" title=\"Bầu\" sub_title=\"1.000.000 đ\"/>\n                    <ProductCard type=\"1\" image=\"https://images-na.ssl-images-amazon.com/images/I/81tEfci6Q%2BL.jpg\" title=\"Gia Đình\" sub_title=\"1.000.000 đ\"/>\n                    <ProductCard type=\"1\" image=\"https://cf.shopee.vn/file/462c8898226fbe3a782b8afdbb42dda2\" title=\"Baby Ngoại Cảnh\" sub_title=\"1.000.000 đ\"/>\n                    <ProductCard type=\"1\" image=\"https://anhcuoihanoi.net/wp-content/uploads/2019/04/ket-qua-hinh-anh-cho-chup-hinh-cho-be-tron-6-thang.jpeg\" title=\"Chỉnh Sửa Gia Đình\" sub_title=\"1.000.000 đ\"/>\n                    <ProductCard type=\"1\" image=\"https://toplist.vn/images/800px/bo-baby-photography-chup-anh-em-be-323271.jpg\" title=\"Chỉnh Sửa New Born\" sub_title=\"1.000.000 đ\"/>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Products;","import React, {Component} from 'react';\nimport {AnalyticsCard} from \"../components/Cards\";\nimport {numberWithCommas} from '../functions/Global';\nimport {getGoiChup, getPermissions, getServices, getStaff, getBranch} from '../functions/Api';\nimport {AnalyticsTable} from '../components/Table';\nimport {isMobile} from 'react-device-detect';\nimport {DefaultHeaderBar} from '../components/Header_bar';\nimport {LavenDatePicker} from '../components/DatePicker';\n\nimport {getBill} from '../functions/Api';\nimport \"../styles/components/Headers.scss\";\nimport \"../styles/views/Analytics_view.scss\";\n\nclass TotalAnalytics extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            goi_chup_data: null,\n            services: null,\n            staff: null,\n            branch: null,\n            bill: null,\n            data: null,\n            total_num: 0,\n            total_da_thu_chuyen_khoan: 0,\n            total_da_thu_tien_mat: 0,\n            total_da_thu: 0,\n            total_con_no: 0\n        }\n\n        getGoiChup((res) => {\n            this.setState ({\n                goi_chup_data: res\n            })\n        });\n\n        getServices((res) => {\n            this.setState({\n                services: res\n            })\n        });\n\n        getStaff((res) => {\n            this.setState({\n                staff: res\n            })\n        })\n\n        getBranch((res) => {\n            this.setState({\n                branch: res\n            })\n        })\n\n        getBill((res) => {\n            let data = res;\n            data = data.filter((data, i) => {\n                return !data.deleted;\n            })\n\n            this.setState({\n                bill: data\n            })\n        });\n    }\n\n    handleDateTotalFilter() {\n        let startDate = this.state.fromDate.split(\"-\");\n        startDate = startDate[2] + '-' + startDate[1] + '-' + startDate[0];\n\n        let endDate = this.state.toDate.split(\"-\");\n        endDate = endDate[2] + '-' + endDate[1] + '-' + endDate[0];\n\n        let branch = this.refs.branch.value;\n        let list = this.refs.list.value;\n        let photos = this.refs.photos.value;\n\n        //LỌC THEO NGÀY\n        let filter_by_date = this.state.bill.filter((data, i) => {\n            let ngay_chup = data.ngay_chup.split(\"-\");\n            ngay_chup = ngay_chup[0].length == 2 ? ngay_chup[2] + \"-\" + ngay_chup[1] + \"-\" + ngay_chup[0] : data.ngay_chup\n\n            if(startDate > ngay_chup) return false;\n            return ngay_chup <= endDate;\n        });\n\n        //LỌC THEO CÁC PHẦN TỬ\n        let filter_by_attributes = filter_by_date.filter((data, i) => {\n            //LỌC CHI NHÁNH\n            if(branch !== \"all\") {\n                if(data.chi_nhanh !== branch) return false;\n            }\n\n            //LỌC PHOTOS\n            if(photos !== \"all\") {\n                if(photos !== data.photo && photos !== data.support) return false;\n            }\n\n            //LỌC TRẠNG THÁI CHUYỂN TIỀN\n            //if(data.dat_coc_2 == \"2\" || data.thanh_toan_l1_2 == \"2\" || data.thanh_toan_l2_2 == \"2\") return false;\n\n            return true;\n        });\n\n        let total_bill = 0;\n        let total_da_thu_ck = 0;\n        let total_da_thu_tm = 0;\n        let total_con_no = 0;\n\n        filter_by_attributes.map((data, i) => {\n            //LỌC VÀ TÍNH TỔNG ĐƠN THEO GÓI CHỤP HOẶC DỊCH VỤ\n            if(list !== \"all\") {\n                data.products.map((product, i) => {\n                    if(list === \"goi_chup\") {\n                        let services_filter = this.state.goi_chup_data.map(function(e) { return e.ten_goi; }).indexOf(product.ten_goi);\n                        if(services_filter > -1) total_bill += ((parseInt(product.gia) * parseInt(product.so_luong)) - (product.giam_gia ? parseInt(product.giam_gia) : 0));\n                    }else if(list === \"services\") {\n                        let goi_chup_filter = this.state.services.map(function(e) { return e.ten_goi; }).indexOf(product.ten_goi);\n                        if(goi_chup_filter > -1) total_bill += ((parseInt(product.gia) * parseInt(product.so_luong)) - (product.giam_gia ? parseInt(product.giam_gia) : 0));\n                    }\n                });\n            }else {\n                total_bill += data.tong;\n            }\n\n            total_con_no += data.con_no_1;\n\n            //TÍNH TỔNG ĐÃ THU\n            if(data.dat_coc_2 == \"0\") {\n                total_da_thu_ck += data.dat_coc_1;\n            }else {\n                total_da_thu_tm += data.dat_coc_1;\n            }\n\n            if(data.thanh_toan_l1_2 == \"0\") {\n                total_da_thu_ck += data.thanh_toan_l1_1;\n            }else {\n                total_da_thu_tm += data.thanh_toan_l1_1;\n            }\n\n            if(data.thanh_toan_l2_2 == \"0\") {\n                total_da_thu_ck += data.thanh_toan_l2_1;\n            }else{\n                total_da_thu_tm += data.thanh_toan_l2_1;\n            }\n\n            if(data.thanh_toan_l3_2 == \"0\") {\n                total_da_thu_ck += data.thanh_toan_l3_1 ? data.thanh_toan_l3_1 : 0;\n            }else {\n                total_da_thu_tm += data.thanh_toan_l3_1 ? data.thanh_toan_l3_1 : 0;\n            }\n        });\n    \n        this.setState({\n            total_num: numberWithCommas(total_bill),\n            data: filter_by_attributes,\n            total_da_thu_chuyen_khoan: numberWithCommas(total_da_thu_ck),\n            total_da_thu_tien_mat: numberWithCommas(total_da_thu_tm),\n            total_da_thu: numberWithCommas(total_da_thu_ck + total_da_thu_tm),\n            total_con_no: numberWithCommas(total_con_no)\n        })\n    }\n\n    handleChangeFromDate = (date) => {\n        this.setState({\n          fromDate: date\n        });\n    }\n\n    handleChangeToDate = (date) => {\n        this.setState({\n          toDate: date\n        });\n    }\n\n    render() {\n        if(!this.state.branch || !this.state.staff || !this.state.services || !this.state.goi_chup_data) {\n            return(<div></div>)\n        }\n        return(\n            <div className=\"analytics_view\">\n                {isMobile ? <DefaultHeaderBar handleRemove={null} handleSave={null} handleEdit={null} create_btn_link={null} handleCreate={null}/> : null}\n                <div className=\"toolbar\">\n                    {isMobile ? null : <h1 className=\"view_header\" style={{marginRight: \"24px\", marginLeft: \"24px\"}}>Tổng Quát</h1>}\n                    <div className=\"group filter\">\n                        <div className=\"box\">\n                            <select ref=\"branch\">\n                                <option value=\"all\" selected>Tất cả</option>\n                                {this.state.branch.map((data, i) => {\n                                    return(\n                                        <option value={data._id}>{data.ten_chi_nhanh}</option>\n                                    )\n                                })}\n                            </select>\n                            <select ref=\"list\">\n                                <option value=\"all\" selected>Tất cả</option>\n                                <option value=\"goi_chup\">Gói chụp</option>\n                                <option value=\"services\">Dịch vụ</option>\n                            </select>\n                            <select ref=\"photos\">\n                                <option value=\"all\" selected>Tất cả</option>\n                                {this.state.staff.map((data, i) => {\n                                    return(\n                                        <option value={data._id}>{data.ho_ten}</option>\n                                    )\n                                })}\n                            </select>\n                        </div>\n                        <h1 className=\"view_header\">Từ</h1>\n                        <div className=\"box\">\n                            <LavenDatePicker format={'DD-MM-YYYY'} date={this.state.fromDate} ref=\"fromDate\" className=\"textbox\" onChange={this.handleChangeFromDate}/>\n                        </div>\n                        <h1 className=\"view_header\">Đến</h1>\n                        <div className=\"box\">\n                            <LavenDatePicker format={'DD-MM-YYYY'} date={this.state.toDate} ref=\"toDate\" className=\"textbox\" onChange={this.handleChangeToDate}/>\n                        </div>\n                        <button className=\"btn blue\" onClick={this.handleDateTotalFilter.bind(this)}>LỌC</button>\n                    </div>\n                </div>\n                <div className=\"overview\">\n                    <AnalyticsCard type=\"tong\" value={this.state.total_num}></AnalyticsCard>\n                    <AnalyticsCard type=\"da_thu\" value={this.state.total_da_thu} chuyen_khoan_num={this.state.total_da_thu_chuyen_khoan} tien_mat_num={this.state.total_da_thu_tien_mat}></AnalyticsCard>\n                    <AnalyticsCard type=\"con_no\" value={this.state.total_con_no}></AnalyticsCard>\n                </div>\n                <AnalyticsTable data={this.state.data}/>\n            </div>\n        )\n    }\n}\n\nexport default TotalAnalytics;","import React, {Component} from 'react';\nimport {AnalyticsCard, AnalyticsChartCard, AnalyticsChartCard2} from \"../components/Cards\";\nimport {numberWithCommas, findWithAttr} from '../functions/Global';\nimport {AnalyticsTable, SpendingTableAnalytics} from '../components/Table';\nimport {isMobile} from 'react-device-detect';\nimport {DefaultHeaderBar} from '../components/Header_bar';\nimport {LavenDatePicker} from '../components/DatePicker';\nimport {HashSpiner} from '../components/Spiners';\n\nimport {getBill, getBranch, getStaff, getSpending, APIs} from '../functions/Api';\nimport \"../styles/components/Headers.scss\";\nimport \"../styles/views/Analytics_view.scss\";\n\nclass RealtimeAnalytics extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            bill: null,\n            total_num: 0,\n            total_da_thu_chuyen_khoan: 0,\n            total_da_thu_tien_mat: 0,\n            total_spending: 0,\n            total_spending_chuyen_khoan: 0,\n            total_spending_tien_mat: 0,\n            start_date: null,\n            end_date: null,\n            data: null,\n            spending_data: null,\n            branch: null,\n            staff: null,\n            spending: null,\n            total_con_giu: 0,\n            total_con_giu_chuyen_khoan: 0,\n            total_con_giu_tien_mat: 0,\n            is_spending: true,\n            perms: null\n        }\n\n\n        getBill((res) => {\n            let data = res;\n            data = data.filter((data, i) => {\n                return !data.deleted;\n            })\n\n            this.setState({\n                bill: data\n            })\n        });\n\n        getSpending((res) => {\n            this.setState({\n                spending: res\n            })\n        })\n\n        getBranch((res) => {\n            this.setState({\n                branch: res\n            })\n        })\n\n        getStaff((res) => {\n            this.setState({\n                staff: res\n            })\n        })\n\n        APIs.post('/get_permissions', '', {}, res => {\n            this.setState({\n                perms: res.data\n            })\n        })\n    }\n\n    async handleDateTotalFilter() {\n        let startDate = this.state.fromDate.split(\"-\");\n        startDate = startDate[2] + '-' + startDate[1] + '-' + startDate[0];\n\n        let endDate = this.state.toDate.split(\"-\");\n        endDate = endDate[2] + '-' + endDate[1] + '-' + endDate[0];\n        \n        let branch = this.refs.branch.value;\n        let staff = this.refs.staff.value;\n        let bill = this.state.bill;\n        let spending = this.state.spending;\n\n        //CHUYỂN ĐỊNH DANGJ NGÀY\n        const transDate = (value) => {\n            try {\n                let date = value.split(\"-\");\n                date = date[0] + '-' + (date[1] <= 9 ? '0' + date[1] : date[1]) + '-' + date[2];\n\n                return date;\n            }catch(e) {\n\n            }\n        }\n\n        //LỌC THEO CÁC PHẦN TỪ CHI\n        spending = spending.filter((data, i) => {\n            let date = data.date.split(\"T\")[0];\n\n            //LỌC TÊN NHÂN VIÊN\n            if(staff !== \"all\") {\n                if(data.user == staff && startDate <= date && date <= endDate) {\n                    return true;\n                }else {\n                    return false;\n                }\n            }\n\n            return startDate <= date && date <= endDate\n        })\n\n        //LỌC THEO CÁC PHẦN TỬ\n        bill = await bill.filter((data, i) => {\n            let thanh_toan_l1_ho_ten = data.thanh_toan_l1_1_des ? data.thanh_toan_l1_1_des.split(\"-\")[1].replace(\" \", \"\") : \"\";\n            let thanh_toan_l2_ho_ten = data.thanh_toan_l2_1_des ? data.thanh_toan_l2_1_des.split(\"-\")[1].replace(\" \", \"\") : \"\";\n            let thanh_toan_l3_ho_ten = data.thanh_toan_l3_1_des ? data.thanh_toan_l3_1_des.split(\"-\")[1].replace(\" \", \"\") : \"\";\n            let dat_coc_ho_ten = data.dat_coc_1_des ? data.dat_coc_1_des.split(\"-\")[1].replace(\" \", \"\") : \"\";\n            let dat_coc_time = transDate(data.dat_coc_1_time);\n            let thanh_toan_l1_time = transDate(data.thanh_toan_l1_1_time);\n            let thanh_toan_l2_time = transDate(data.thanh_toan_l2_1_time);\n            let thanh_toan_l3_time = transDate(data.thanh_toan_l3_1_time);\n\n            //LỌC CHI NHÁNH\n            if(branch !== \"all\") {\n                if(data.chi_nhanh !== branch) return false;\n            }\n\n            //LỌC TÊN NHÂN VIÊN\n            if(staff !== \"all\") {\n                if(dat_coc_ho_ten == staff && startDate <= dat_coc_time && dat_coc_time <= endDate) {\n                    return true;\n                }else if(thanh_toan_l1_ho_ten == staff && startDate <= thanh_toan_l1_time && thanh_toan_l1_time <= endDate) {\n                    return true;\n                }else if(thanh_toan_l2_ho_ten == staff && startDate <= thanh_toan_l2_time && thanh_toan_l2_time <= endDate) {\n                    return true;\n                }else if(thanh_toan_l3_ho_ten == staff && startDate <= thanh_toan_l3_time && thanh_toan_l3_time <= endDate) {\n                    return true;\n                }else{\n                    return false;\n                }\n            } \n\n            //LỌC TRẠNG THÁI CHUYỂN TIỀN\n            //if(data.dat_coc_2 == \"2\" || data.thanh_toan_l1_2 == \"2\" || data.thanh_toan_l2_2 == \"2\" || data.thanh_toan_l3_3 == \"2\") return false;\n\n            return true;\n        });\n\n        //LỌC THEO NGÀY ĐẶT CỌC\n        let filter_by_dat_coc = await bill.filter((data, i) => {\n            let dat_coc_ho_ten = data.dat_coc_1_des ? data.dat_coc_1_des.split(\"-\")[1].replace(\" \", \"\") : \"\";\n            let date = transDate(data.dat_coc_1_time);\n            bill[i].thu_trong_ngay = 0;\n            \n            if(staff !== \"all\" && dat_coc_ho_ten == staff){\n                if(startDate <= date && date <= endDate) {\n                    bill[i].thu_trong_ngay = bill[i].thu_trong_ngay ? bill[i].thu_trong_ngay + data.dat_coc_1 : data.dat_coc_1 ;\n                    return true;\n                };\n            }\n\n            if(staff == \"all\" && startDate <= date && date <= endDate) {\n                bill[i].thu_trong_ngay = bill[i].thu_trong_ngay ? bill[i].thu_trong_ngay + data.dat_coc_1 : data.dat_coc_1 ;\n                return true;\n            };\n\n            return false;\n        });\n\n        //LỌC THEO NGÀY THU LẦN 1\n        let filter_by_thanh_toan_l1 = await bill.filter((data, i) => {\n            let thanh_toan_l1_ho_ten = data.thanh_toan_l1_1_des ? data.thanh_toan_l1_1_des.split(\"-\")[1].replace(\" \", \"\") : \"\";\n            let date = transDate(data.thanh_toan_l1_1_time);\n            \n            if(staff !== \"all\" && thanh_toan_l1_ho_ten == staff){\n                if(startDate <= date && date <= endDate) {\n                    bill[i].thu_trong_ngay = bill[i].thu_trong_ngay ? bill[i].thu_trong_ngay + data.thanh_toan_l1_1 : data.thanh_toan_l1_1 ;\n                    return true;\n                };\n            }\n\n            if(staff == \"all\" && startDate <= date && date <= endDate) {\n                bill[i].thu_trong_ngay = bill[i].thu_trong_ngay ? bill[i].thu_trong_ngay + data.thanh_toan_l1_1 : data.thanh_toan_l1_1 ;\n                return true;\n            };\n\n            return false;\n        });\n\n        //LỌC THEO NGÀY THU LẦN 2 \n        let filter_by_thanh_toan_l2 = await bill.filter((data, i) => {\n            let thanh_toan_l2_ho_ten = data.thanh_toan_l2_1_des ? data.thanh_toan_l2_1_des.split(\"-\")[1].replace(\" \", \"\") : \"\";\n            let date = transDate(data.thanh_toan_l2_1_time);\n            \n            if(staff !== \"all\" && thanh_toan_l2_ho_ten == staff){\n                if(startDate <= date && date <= endDate) {\n                    bill[i].thu_trong_ngay = bill[i].thu_trong_ngay ? bill[i].thu_trong_ngay + data.thanh_toan_l2_1 : data.thanh_toan_l2_1 ;\n                    return true;\n                };\n            }\n\n            if(staff == \"all\" && startDate <= date && date <= endDate) {\n                bill[i].thu_trong_ngay = bill[i].thu_trong_ngay ? bill[i].thu_trong_ngay + data.thanh_toan_l2_1 : data.thanh_toan_l2_1 ;\n                return true;\n            };\n\n            return false;\n        });\n\n        //LỌC THEO NGÀY THU LẦN 3\n        let filter_by_thanh_toan_l3 = await bill.filter((data, i) => {\n            try {\n                let date = transDate(data.thanh_toan_l3_1_time);\n                let thanh_toan_l3_ho_ten = data.thanh_toan_l3_1_des ? data.thanh_toan_l3_1_des.split(\"-\")[1].replace(\" \", \"\") : \"\";\n            \n                if(staff !== \"all\" && thanh_toan_l3_ho_ten == staff){\n                    bill[i].thu_trong_ngay = bill[i].thu_trong_ngay ? bill[i].thu_trong_ngay + data.thanh_toan_l3_1 : data.thanh_toan_l3_1 ;\n                    return true;\n                };\n    \n                if(staff == \"all\" && startDate <= date && date <= endDate) {\n                    bill[i].thu_trong_ngay = bill[i].thu_trong_ngay ? bill[i].thu_trong_ngay + data.thanh_toan_l3_1 : data.thanh_toan_l3_1   ;\n                    return true;\n                };\n    \n                return false;\n            }catch(e) {\n            }\n        });\n\n        //LỌC KẾT QUẢ TRẢ RA BẢNG\n        let filter_all = await bill.filter((data, i) => {\n            try {\n                if(startDate > transDate(data.dat_coc_1_time)) {\n                    if(startDate > transDate(data.thanh_toan_l1_1_time)) {    \n                        if(startDate > transDate(data.thanh_toan_l2_1_time)) {\n                            if(startDate > transDate(data.thanh_toan_l3_1_time)) {\n                                return false;\n                            }else if(transDate(data.thanh_toan_l3_1_time) <= endDate) return true;\n                        }else if(transDate(data.thanh_toan_l2_1_time) <= endDate) return true;\n                    }else if(transDate(data.thanh_toan_l1_1_time) <= endDate) return true;\n                }else if(transDate(data.thanh_toan_l1_1_time) <= endDate) return true;\n            }catch(e) {\n                return false;\n            }\n        })\n\n        let total_bill = 0;\n        let total_da_thu_ck = 0;\n        let total_da_thu_tm = 0;\n        let total_spending = 0;\n        let total_spending_ck = 0;\n        let total_spending_tm = 0;\n        let total_con_giu = 0;\n        let total_con_giu_ck = 0;\n        let total_con_giu_tm = 0;\n\n        //Tính tổng chi\n        for(const data of spending) {\n            total_spending += data.so_tien;\n\n            if(data.type == 0) {\n                total_spending_ck += data.so_tien\n            }else{\n                total_spending_tm += data.so_tien\n            }\n        }\n\n        //Tính tổng đặt cọc\n        for(const data of filter_by_dat_coc) {\n            total_bill += data.dat_coc_1;\n\n            if(data.dat_coc_2 == 0) {\n                total_da_thu_ck += data.dat_coc_1\n            }else{\n                total_da_thu_tm += data.dat_coc_1\n            }\n        }\n\n        //Tính tổng ngày thu lần 1\n        for(const data of filter_by_thanh_toan_l1) {\n            total_bill += data.thanh_toan_l1_1\n\n            if(data.thanh_toan_l1_2 == 0) {\n                total_da_thu_ck += data.thanh_toan_l1_1\n            }else{\n                total_da_thu_tm += data.thanh_toan_l1_1\n            }\n        }\n\n        //Tính tổng ngày thu lần 2\n        for(const data of filter_by_thanh_toan_l2) {\n            total_bill += data.thanh_toan_l2_1\n\n            if(data.thanh_toan_l2_2 == 0) {\n                total_da_thu_ck += data.thanh_toan_l2_1\n            }else{\n                total_da_thu_tm += data.thanh_toan_l2_1\n            }\n        }\n\n        //Tính tổng ngày thu lần 3\n        for(const data of filter_by_thanh_toan_l3) {\n            total_bill += data.thanh_toan_l3_1\n\n            if(data.thanh_toan_l3_2 == 0) {\n                total_da_thu_ck += data.thanh_toan_l3_1\n            }else{\n                total_da_thu_tm += data.thanh_toan_l3_1\n            }\n        }\n        //Tính còn giữ\n        total_con_giu = total_bill - total_spending;\n        total_con_giu_ck = total_da_thu_ck - total_spending_ck;\n        total_con_giu_tm = total_da_thu_tm - total_spending_tm;\n\n        this.setState({\n            total_num: numberWithCommas(total_bill),\n            total_da_thu_chuyen_khoan: numberWithCommas(total_da_thu_ck),\n            total_da_thu_tien_mat: numberWithCommas(total_da_thu_tm),\n            total_con_giu: numberWithCommas(total_con_giu),\n            total_con_giu_chuyen_khoan: numberWithCommas(total_con_giu_ck),\n            total_con_giu_tien_mat: numberWithCommas(total_con_giu_tm),\n            total_spending: numberWithCommas(total_spending),\n            total_spending_chuyen_khoan: numberWithCommas(total_spending_ck),\n            total_spending_tien_mat: numberWithCommas(total_spending_tm),\n            start_date: startDate,\n            end_date: endDate,\n            data: filter_all,\n            spending_data: spending\n        })\n    }\n\n    handleChangeFromDate = (date) => {\n        this.setState({\n          fromDate: date\n        });\n    }\n\n    handleChangeToDate = (date) => {\n        this.setState({\n          toDate: date\n        });\n    }\n\n    render() {\n        if(!this.state.bill ||   !this.state.branch || !this.state.staff || !this.state.spending || !this.state.perms) {\n            return(<HashSpiner/>)\n        }\n\n        let is_spending = this.state.is_spending;\n        const perms = this.state.perms;\n\n        return(\n            <div className=\"analytics_view\">\n                {isMobile ? <DefaultHeaderBar handleRemove={null} handleSave={null} handleEdit={null} create_btn_link={null} handleCreate={null}/> : null}\n                <div className=\"toolbar\">\n                    {isMobile ? null : <h1 className=\"view_header\" style={{marginRight: \"24px\", marginLeft: \"24px\"}}>Tổng Quát</h1>}\n                    <div className=\"group filter\">\n                        <div className=\"box\">\n                            <select ref=\"branch\" disabled={perms[findWithAttr(perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.spending_analytics[2] === \"1\" ? '' : 'disabled'}>\n                                <option value=\"all\" selected>Tất cả</option>\n                                {this.state.branch.map((data, i) => {\n                                    return(\n                                        <option value={data._id}>{data.ten_chi_nhanh}</option>\n                                    )\n                                })}\n                            </select>\n                        </div>\n                        <div className=\"box\">\n                            <select ref=\"staff\" defaultValue={perms[findWithAttr(perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.spending_analytics[2] === \"1\" ? 'all' : localStorage.getItem('ho_ten')} disabled={perms[findWithAttr(perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.spending_analytics[2] === \"1\" ? '' : 'disabled'}>\n                                <option value=\"all\" selected={perms[findWithAttr(perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.spending_analytics[2] === \"1\" ? 'selected' : ''}>Tất cả</option>\n                                {this.state.staff.map((data, i) => {\n                                    return(\n                                        <option value={data.ho_ten}>{data.ho_ten}</option>\n                                    )\n                                })}\n                            </select>\n                        </div>\n                        <h1 className=\"view_header\">Từ</h1>\n                        <div className=\"box\">\n                            <LavenDatePicker format={'DD-MM-YYYY'} date={this.state.fromDate} ref=\"fromDate\" className=\"textbox\" onChange={this.handleChangeFromDate}/>\n                        </div>\n                        <h1 className=\"view_header\">Đến</h1>\n                        <div className=\"box\">\n                            <LavenDatePicker format={'DD-MM-YYYY'} date={this.state.toDate} ref=\"toDate\" className=\"textbox\" onChange={this.handleChangeToDate}/>\n                        </div>\n                        <button className=\"btn blue\" onClick={this.handleDateTotalFilter.bind(this)}>LỌC</button>\n                    </div>\n                </div>\n                <div className=\"overview\">\n                    <AnalyticsCard onClick={() => this.setState({is_spending: false})} type=\"da_thu\" start_date={this.state.start_date} end_date={this.state.end_date} value={this.state.total_num} chuyen_khoan_num={this.state.total_da_thu_chuyen_khoan} tien_mat_num={this.state.total_da_thu_tien_mat}></AnalyticsCard>\n                    <AnalyticsCard onClick={() => this.setState({is_spending: true})} type=\"da_chi\" start_date={this.state.start_date} end_date={this.state.end_date} value={this.state.total_spending} chuyen_khoan_num={this.state.total_spending_chuyen_khoan} tien_mat_num={this.state.total_spending_tien_mat}></AnalyticsCard>\n                    <AnalyticsCard type=\"con_giu\" start_date={this.state.start_date} end_date={this.state.end_date} value={this.state.total_con_giu} chuyen_khoan_num={this.state.total_con_giu_chuyen_khoan} tien_mat_num={this.state.total_con_giu_tien_mat}></AnalyticsCard>\n                </div>\n                    {is_spending ? <SpendingTableAnalytics data={this.state.spending_data}/> : <AnalyticsTable data={this.state.data}/>}\n            </div>\n        )\n    }\n}\n\nexport default RealtimeAnalytics;","import React,{ Component } from 'react';\nimport {SettingsHeader} from '../components/Header_bar';\nimport {Link} from 'react-router-dom';\nimport { findWithAttr} from '../functions/Global';\n\nimport \"../styles/views/Settings.scss\";\n\nimport {BsPeople, BsAppIndicator, BsInboxes, BsBuilding, BsCreditCard, BsFillArchiveFill, BsPersonCheck, BsFolderCheck} from 'react-icons/bs';\n\nimport {getPermissions} from '../functions/Api';\n\nclass Settings extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            perms: null\n        } \n\n        getPermissions((res) => {\n            this.setState({\n                perms: res\n            })\n        })\n    }\n\n    render() {\n        if(!this.state.perms) {\n            return(<div></div>)\n        }\n        return(\n            <div className=\"settings_view\">\n                <SettingsHeader/>\n                <div className=\"settings_container\">\n                    <Link to=\"/settings/personnel\" className=\"setting_card\">\n                        <div className=\"icon_container\">\n                            <BsPeople className=\"icon\"/>\n                        </div>\n                        <span className=\"setting_title\">Nhân Sự</span>\n                    </Link>\n                    {this.state.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.branch[0] == \"1\" ? \n                    <Link to=\"/branch\" className=\"setting_card\">\n                        <div className=\"icon_container\">\n                            <BsBuilding className=\"icon\"/>\n                        </div>\n                        <span className=\"setting_title\">Chi Nhánh</span>\n                    </Link> : null}\n                    \n                    {this.state.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.status[0] == \"1\" ?\n                    <Link to=\"/status\" className=\"setting_card\">\n                        <div className=\"icon_container\">\n                            <BsAppIndicator className=\"icon\"/>\n                        </div>\n                        <span className=\"setting_title\">Tình Trạng</span>\n                    </Link> : null}\n                    \n                    {this.state.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.backup[0] == \"1\" ?\n                    <Link to=\"/backup\" className=\"setting_card\">\n                        <div className=\"icon_container\">\n                            <BsFillArchiveFill className=\"icon\"/>\n                        </div>\n                        <span className=\"setting_title\">Sao Lưu</span>\n                    </Link> : null}\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Settings;","import React,{Component} from 'react';\nimport {DefaultHeaderBar} from '../components/Header_bar';\nimport {StaffTable} from '../components/Table';\nimport {getPermissions, getStaff} from '../functions/Api';\nimport {removeVietnameseTones, findWithAttr} from '../functions/Global';\nimport {HashSpiner} from '../components/Spiners';\n\nclass Staff extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            perms: null,\n            data: null\n        } \n\n        getPermissions((res) => {\n            this.setState({\n                perms: res\n            })\n        })\n\n        getStaff((res) => {\n          this.setState ({\n            data: res\n          })\n        });\n    }\n\n    //THỰC HIỆN SEARCH\n    handleSearch = (search_value) => {\n        //RELOAD DATA IF SEARCH VALUE IS NULL\n        if(search_value === \"\") {\n            getStaff((res) => {\n                this.setState({\n                    data: res\n                })            \n            })\n        }\n\n        //RELOAD DATA\n        getStaff((res) => {\n            let data = res.reverse()\n  \n            //TÌM KHÁCH HÀNG OR TÊN BÉ OR SÔS ĐIỆN THOẠI\n            let filtered_data = data.filter((data, i) => {\n                if(removeVietnameseTones(data.email).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true;  \n                if(removeVietnameseTones(data.ho_ten).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true;  \n                \n                return false;\n            })\n  \n            this.setState({\n                data: filtered_data\n            })            \n        })\n    }\n\n    updateData = () => {\n        getStaff((res) => {\n        this.setState ({\n            data: res\n        })\n      })\n    }\n\n    render() {\n        if(!this.state.perms || !this.state.data) {\n            return(<div className=\"load_view\"><HashSpiner/></div>)\n        }\n        \n        return(\n            <div>\n                <DefaultHeaderBar onGoBack={() => this.props.history.goBack()} title=\"Nhân Viên\" onSearchKeyPress={this.handleSearch} handleSave={null} handleRemove={null} handleCreate={null} create_btn_link={this.state.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.staff[1] == \"1\" ? \"/staff_edit/create_new\" : null }/>\n                <StaffTable data={this.state.data} perms={this.state.perms}/>\n            </div>\n        )\n    }\n}\n\nexport default Staff","import React,{Component} from 'react';\nimport {removeStaff, createStaff, getSingleStaff, updateStaff} from '../functions/Api';\nimport {DefaultHeaderBar} from '../components/Header_bar';\nimport {StaffForm} from '../components/Forms';\nimport {Redirect} from 'react-router-dom';\nimport {getPermissions} from '../functions/Api';\nimport { findWithAttr} from '../functions/Global';\n\nclass StaffEdit extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            data: null,\n            redirect: false,\n            perms: null\n        }\n\n        if(this.props.match.params.id !== \"create_new\") {\n            getSingleStaff(this.props.match.params.id, (res) => {\n                console.log(res);\n                this.setState ({\n                    data: res\n                })\n            });\n        }\n\n        getPermissions((res) => {\n            this.setState({\n                perms: res\n            })\n        })\n    }\n\n    handleSave = () => {\n        this.refs.staff_form.handleSave();\n    }\n\n    saveStaff = (data) => {\n        if(this.props.match.params.id !== \"create_new\") {\n            let new_data = data;\n\n            data[\"date_created\"] = this.state.data.date_created;\n            \n            updateStaff(data, this.state.data._id, (res) => {\n                this.setState ({\n                    redirect: true\n                })\n            });\n        }else {\n            createStaff(data, (res) => {\n                this.setState ({\n                    redirect: true\n                })\n            });\n        }\n    }\n\n    handleRemove = () => {\n        removeStaff(this.props.match.params.id, (res) => {\n            this.setState ({\n                redirect: true\n            })\n        });\n    }\n\n    render() {\n        if(!this.state.data && this.props.match.params.id !== \"create_new\" || !this.state.perms) {\n            return(<div></div>)\n        }\n\n        if(this.state.redirect){\n            return(<Redirect to=\"/staff\"/>)\n        }\n\n        return(\n            <div className=\"view\">\n                {this.props.match.params.id !== \"create_new\" ? <DefaultHeaderBar create_btn_link={null}  onGoBack={() => this.props.history.goBack()}  handleRemove={this.state.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.staff[3] == \"1\" ? this.handleRemove : null } title=\"Nhân Viên\" handleSave={this.state.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.staff[2] == \"1\" ? this.handleSave: null}/> : <DefaultHeaderBar  onGoBack={() => this.props.history.goBack()}  title=\"Nhân Viên\" handleSave={this.handleSave}/>}\n                <StaffForm ref=\"staff_form\" data={this.state.data} onSave={this.saveStaff}/>\n            </div>\n        )\n    }\n}\n\nexport default StaffEdit;","import React, {Component} from 'react';\nimport {PermissionModal, PermissionEditModal} from '../components/Modals';\nimport {DefaultHeaderBar} from '../components/Header_bar';\nimport {getPermissions,updatePermission} from '../functions/Api';\nimport { findWithAttr} from '../functions/Global';\n\nclass TabBar extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            tab_active: this.props.tab\n        }\n    }\n\n    handleChangeTab = (tab) => {\n        this.setState({\n            tab_active: tab\n        });\n\n        this.props.onChangeTab(tab);\n    }\n\n    render() {\n\n        return(\n            <div className=\"tab_bar\">\n                {this.props.data.map((data , i) => {\n                    return(\n                        <div key={i} onClick={() => this.handleChangeTab(i)} className={this.state.tab_active === i ? \"tab active\" : \"tab\"}>\n                            <span className=\"tab_title\">{data.ten_nhom}</span>\n                        </div>\n                    )\n                })}\n            </div>\n        )\n    }\n}\n\nclass TabContentContainer extends Component {\n    constructor(props) {\n        super(props);\n        this.state =  {\n            empty: [0,0,0,0]\n        }\n    }\n    render() {\n        let data = this.props.data;\n        return(\n            <div className=\"tab_content_container\">\n                <div className=\"tab_content_header_container\">\n                    <h1 className=\"tab_content_header\">Danh sách chức năng:</h1>\n                    <div className=\"tab_header_right_item_container\">\n                        <span className=\"tab_header_item_title\">Truy cập</span>\n                        <span className=\"tab_header_item_title\">Thêm</span>\n                        <span className=\"tab_header_item_title\">Chỉnh sửa</span>\n                        <span className=\"tab_header_item_title\">Xóa</span>\n                    </div>\n                </div>\n                <div className=\"tab_content\">\n                    <div className=\"tab_side_bar\">\n                        <span className=\"tab_side_bar_title\">Công Việc</span>\n                            <span className=\"tab_side_bar_item\">Đơn Hàng</span>\n                            <span className=\"tab_side_bar_item\">Lịch</span>\n                            <span className=\"tab_side_bar_item\">Khách Hàng</span>\n                            <span className=\"tab_side_bar_item\">Chi</span>\n\n                        <span className=\"tab_side_bar_title\">Sản Phẩm</span>\n                            <span className=\"tab_side_bar_item\">Gói Chụp</span>\n                            <span className=\"tab_side_bar_item\">Dịch Vụ</span>\n                        \n                        <span className=\"tab_side_bar_title\">Báo Cáo</span>\n                            <span className=\"tab_side_bar_item\">Báo Cáo Doanh Thu</span>\n                            <span className=\"tab_side_bar_item\">Báo Cáo Thu Chi</span>\n\n                            \n                        <span className=\"tab_side_bar_title\">Hệ Thống</span>\n                            <span className=\"tab_side_bar_item\">Nhân Viên</span>\n                            <span className=\"tab_side_bar_item\">Chức Năng Truy Cập</span>\n                            <span className=\"tab_side_bar_item\">Quản Lý Chấm Công</span>\n                            <span className=\"tab_side_bar_item\">Chi Nhánh</span>\n                            <span className=\"tab_side_bar_item\">Tình Trạng</span>\n                            <span className=\"tab_side_bar_item\">Lương Nhân Viên</span>\n                            <span className=\"tab_side_bar_item\">Sao Lưu</span>\n                            <span className=\"tab_side_bar_item\">Thùng Rác</span>\n                    </div>\n                    <div className=\"tab_tick_container\">\n                        <div className=\"tab_tick\">\n                            {this.state.empty.map((result, i) => {\n                                return(\n                            <div className=\"column\" key={\"column\" + i}>\n                                <div className=\"checkbox\" key={\"bill\" + i}>\n                                    <input type=\"checkbox\" onChange={(e) => this.props.onTickBox(e, \"bill\", i)} defaultChecked={data.bill[i] == \"1\" ? \"checked\" : null}/>\n                                </div>\n                                <div className=\"checkbox\" key={\"calendar\" + i}>\n                                    <input type=\"checkbox\" onChange={(e) => this.props.onTickBox(e, \"calendar\", i)} defaultChecked={data.calendar[i] == \"1\" ? \"checked\" : null}/>\n                                </div>\n                                <div className=\"checkbox\" key={\"customers\" + i}>\n                                    <input type=\"checkbox\" onChange={(e) => this.props.onTickBox(e, \"customers\", i)} defaultChecked={data.customers[i] == \"1\" ? \"checked\" : null}/>\n                                </div>\n                                <div className=\"checkbox\" key={\"spending\" + i}>\n                                    <input type=\"checkbox\" onChange={(e) => this.props.onTickBox(e, \"spending\", i)} defaultChecked={data.spending ? data.spending[i] == \"1\" ? \"checked\" : null : null}/>\n                                </div>\n                            \n                                <div className=\"checkbox\" key={\"goi_chup\" + i}>\n                                    <input type=\"checkbox\" onChange={(e) => this.props.onTickBox(e, \"goi_chup\", i)} defaultChecked={data.goi_chup[i] == \"1\" ? \"checked\" : null}/>\n                                </div>\n                                <div className=\"checkbox\" key={\"services\" + i}>\n                                    <input type=\"checkbox\" onChange={(e) => this.props.onTickBox(e, \"services\", i)} defaultChecked={data.services[i] == \"1\" ? \"checked\" : null}/>\n                                </div>\n\n                                <div className=\"checkbox\" key={\"total_analytics\" + i}>\n                                    <input type=\"checkbox\" onChange={(e) => this.props.onTickBox(e, \"total_analytics\", i)} defaultChecked={data.total_analytics[i] == \"1\" ? \"checked\" : null}/>\n                                </div>\n                                <div className=\"checkbox\" key={\"spending_analytics\" + i}>\n                                    <input type=\"checkbox\" onChange={(e) => this.props.onTickBox(e, \"spending_analytics\", i)} defaultChecked={data.spending_analytics ? data.spending_analytics[i] == \"1\" ? \"checked\" : null : null}/>\n                                </div>\n                                    \n                                <div className=\"checkbox\" key={\"staff\" + i}>\n                                <input type=\"checkbox\" onChange={(e) => this.props.onTickBox(e, \"staff\", i)} defaultChecked={data.staff[i] == \"1\" ? \"checked\" : null}/>\n                                </div>\n                                <div className=\"checkbox\" key={\"permisisons\" + i}>\n                                    <input type=\"checkbox\" onChange={(e) => this.props.onTickBox(e, \"permisisons\", i)} defaultChecked={data.permisisons[i] == \"1\" ? \"checked\" : null}/>\n                                </div>\n                                <div className=\"checkbox\" key={\"cham_cong\" + i}>\n                                    <input type=\"checkbox\" onChange={(e) => this.props.onTickBox(e, \"cham_cong\", i)} defaultChecked={data.cham_cong ? data.cham_cong[i] == \"1\" ? \"checked\" : null : null}/>\n                                </div>\n                                <div className=\"checkbox\" key={\"branch\" + i}>\n                                    <input type=\"checkbox\" onChange={(e) => this.props.onTickBox(e, \"branch\", i)} defaultChecked={data.branch[i] == \"1\" ? \"checked\" : null}/>\n                                </div>\n                                <div className=\"checkbox\" key={\"status\" + i}>\n                                    <input type=\"checkbox\" onChange={(e) => this.props.onTickBox(e, \"status\", i)} defaultChecked={data.status[i] == \"1\" ? \"checked\" : null}/>\n                                </div>\n                                <div className=\"checkbox\" key={\"staff_salary\" + i}>\n                                    <input type=\"checkbox\" onChange={(e) => this.props.onTickBox(e, \"staff_salary\", i)} defaultChecked={data.staff_salary[i] == \"1\" ? \"checked\" : null}/>\n                                </div>\n                                <div className=\"checkbox\" key={\"backup\" + i}>\n                                    <input type=\"checkbox\" onChange={(e) => this.props.onTickBox(e, \"backup\", i)} defaultChecked={data.backup[i] == \"1\" ? \"checked\" : null}/>\n                                </div>\n                                <div className=\"checkbox\" key={\"trash\" + i}>\n                                    <input type=\"checkbox\" onChange={(e) => this.props.onTickBox(e, \"trash\", i)} defaultChecked={data.trash[i] == \"1\" ? \"checked\" : null}/>\n                                </div>\n                            </div>\n                       \n                                )\n                            }, this)}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nclass Permission extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            is_modal_open: \"false\",\n            is_edit_modal_open: \"false\",\n            permission_data: null,\n            tab_data: null,\n            tab: 0\n        }        \n\n        getPermissions((data) => {\n            this.setState({\n                permission_data: data,\n                tab_data: data[0].permisisons\n            })\n        });\n    }\n\n    onTabChange = (tab) => {   \n        this.setState ({\n            tab_data: null,\n            tab: tab\n        })     \n        getPermissions((data) => {\n            this.setState({\n                tab_data: data[tab].permisisons\n            })\n        });\n    }\n\n    handleOpenCreateModal = () => {\n        this.setState ({\n            is_modal_open: \"true\"\n        })\n    }\n\n    handleOpenEditModal = () => {\n        this.setState ({\n            is_edit_modal_open: \"true\"\n        })\n    }\n\n    handleCloseModal = () => {\n        this.setState ({\n            is_modal_open: \"false\",\n            is_edit_modal_open: \"false\"\n        })\n    }\n\n    //UPDATE PERMISSION WHEN USER CHECK ON CHECKBOX\n    handleTickBox = (event, element, location) => {\n        let data = this.state.tab_data;\n        let permission_data = this.state.permission_data;\n        permission_data = permission_data[this.state.tab];\n        permission_data.permisisons = data;\n\n        let element_data = {}\n        element_data[element] = [\"0\",\"0\",\"0\",\"0\"];\n\n        if(data[element]) {\n            data[element][location] = event.target.checked ? \"1\" : \"0\";\n        }else{ \n            element_data[element][location] = event.target.checked ? \"1\" : \"0\";\n            data = Object.assign(data, element_data);\n        }\n\n        updatePermission(permission_data, (res) => {});\n    }\n\n    //UPDATE DATA AFTER USER EDIT\n    handleUpdate = () => {\n        getPermissions((data) => {\n            this.setState({\n                permission_data: data,\n                tab: 0\n            })\n\n            this.handleCloseModal();\n        });\n    }\n\n    render() {\n        if(!this.state.permission_data || !this.state.tab_data) {\n            return (\n                <div className=\"view\">\n                    <DefaultHeaderBar  onGoBack={() => this.props.history.goBack()} title=\"Chức Năng Truy Cập\" handleCreate={this.handleUpdateData}/>\n                </div>\n            )\n        }\n        return(\n            <div className=\"view\">\n                <DefaultHeaderBar  onGoBack={() => this.props.history.goBack()} handleCreate={null} create_btn_link={null} handleSave={null} handleRemove={null} title=\"Chức Năng Truy Cập\" handleEdit={this.state.permission_data[findWithAttr(this.state.permission_data, '_id', localStorage.getItem('chuc_vu'))].permisisons.permisisons[2] == \"1\" ? this.handleOpenEditModal : null} handleCreate={this.state.permission_data[findWithAttr(this.state.permission_data, '_id', localStorage.getItem('chuc_vu'))].permisisons.permisisons[1] == \"1\" ? this.handleOpenCreateModal :null}/>\n                <TabBar onChangeTab={this.onTabChange} tab={this.state.tab} data={this.state.permission_data}/>\n                <TabContentContainer data={this.state.tab_data} tab={this.state.tab} onTickBox={this.handleTickBox}/>\n                <PermissionModal is_open={this.state.is_modal_open} handleCloseModal={this.handleCloseModal} onCreateNew={this.handleUpdate}/>\n                <PermissionEditModal is_open={this.state.is_edit_modal_open} tab={this.state.tab} handleSave={this.handleUpdate} handleRemove={this.handleUpdate} ten_nhom={this.state.permission_data[this.state.tab].ten_nhom} _id={this.state.permission_data[this.state.tab]._id} handleCloseModal={this.handleCloseModal}/>\n            </div>\n        )\n    }\n}\n\nexport default Permission;","import React, {Component} from 'react';\nimport {DefaultHeaderBar} from '../components/Header_bar';\nimport {BranchTable} from '../components/Table';\nimport {BranchModal, BranchEditModal} from '../components/Modals';\nimport {getBranch, getSingleBranch, getPermissions} from '../functions/Api';\nimport {removeVietnameseTones, findWithAttr} from '../functions/Global';\nimport {HashSpiner} from '../components/Spiners';\n\nclass Branch extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            is_modal_open: \"false\",\n            is_edit_modal_open :\"false\",\n            data: null,\n            edit_data: null,\n            edit_id: null,\n            perms:null\n        }\n\n        getBranch((res) => {\n            this.setState ({\n                data: res\n            })\n        });\n\n        getPermissions((res) => {\n            this.setState({\n                perms: res\n            })\n        })\n    }\n\n    handleOpenCreateModal = () => {\n        this.setState ({\n            is_modal_open: \"true\"\n        })\n    }\n\n    handleOpenEditModal = (id, i) => {\n        getSingleBranch(id, (res) => {\n            this.setState ({\n                edit_data: res,\n                edit_id: i,\n                is_edit_modal_open: \"true\"\n            })\n        });\n    }\n\n    handleCloseModal = () => {\n        this.setState ({\n            is_modal_open: \"false\",\n            is_edit_modal_open :\"false\",\n            edit_data: null\n        })\n    }\n\n    handleUpdateData = () => {\n        getBranch((res) => {\n            this.setState ({\n                data: res,\n                is_modal_open: \"false\",\n                is_edit_modal_open :\"false\",\n                edit_data: null\n            })\n        });\n    }\n\n    //THỰC HIỆN SEARCH\n    handleSearch = (search_value) => {\n        //RELOAD DATA IF SEARCH VALUE IS NULL\n        if(search_value === \"\") {\n            getBranch((res) => {\n                this.setState({\n                    data: res\n                })            \n            })\n        }\n\n        //RELOAD DATA\n        getBranch((res) => {\n            let data = res.reverse()\n  \n            //TÌM KHÁCH HÀNG OR TÊN BÉ OR SÔS ĐIỆN THOẠI\n            let filtered_data = data.filter((data, i) => {\n                if(removeVietnameseTones(data.ten_chi_nhanh).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true;  \n                if(removeVietnameseTones(data.dia_chi).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true;  \n                \n                return false;\n            })\n  \n            this.setState({\n                data: filtered_data\n            })            \n        })\n    }\n\n    updateData = () => {\n        getBranch((res) => {\n        this.setState ({\n            data: res\n        })\n      })\n    }\n\n    render() {\n        if(!this.state.data || !this.state.perms) {\n            return(<div className=\"load_view\"><HashSpiner/></div>)\n        }\n        \n        return(\n            <div>\n                <DefaultHeaderBar  onGoBack={() => this.props.history.goBack()} title=\"Chi Nhánh\" onSearchKeyPress={this.handleSearch} handleEdit={null} create_btn_link = {null} handleRemove={null} handleSave={null} handleCreate={this.state.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.branch[1] == \"1\" ? this.handleOpenCreateModal : null}/>\n                <BranchTable data={this.state.data} onClick={this.handleOpenEditModal}/>\n                <BranchEditModal edit_id={this.state.edit_id} handleSave={this.handleUpdateData} data={this.state.edit_data} is_open={this.state.is_edit_modal_open}  handleCloseModal={this.handleCloseModal}/>\n                <BranchModal is_open={this.state.is_modal_open} handleSave={this.handleUpdateData} handleCloseModal={this.handleCloseModal}/>\n            </div>\n        )\n    }\n}\n\nexport default Branch;","import React, {Component} from 'react';\nimport Axios from 'axios';\nimport {API, findWithAttr} from '../functions/Global';\nimport {Redirect} from 'react-router-dom';\nimport {APIs, getStatus} from '../functions/Api';\n\nclass Login extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            loginSuccess: false,\n            loginMsg: \"\"\n        }\n\n        getStatus((res) => {\n            console.log(res);\n        })\n    }\n\n    componentDidMount() {\n\n        //CHECK IF USER LOGGED IN\n        if(localStorage.getItem('user_id') !== null && localStorage.getItem('user_id') !== null) {\n            this.setState({\n                loginSuccess: true\n            })\n        }\n    }\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n\n        let data = {\n            email: this.refs.email.value,\n            password: this.refs.password.value\n        }\n\n        Axios.post(API+ '/login', {data: data}).then((response) => {\n           if(response.data.msg !== \"FAIL\") {\n                //GET PERMS\n                APIs.post('/get_permissions', '', {}, (res) => {\n                    let chuc_vu_name = res.data[findWithAttr(res.data, '_id', response.data.chuc_vu)].ten_nhom;\n                    \n                    localStorage.setItem('JWT', response.data.JWT);\n                    localStorage.setItem('user_id', response.data.user_id);\n                    localStorage.setItem('authed', true);\n                    localStorage.setItem('chuc_vu', response.data.chuc_vu);\n                    localStorage.setItem('ho_ten', response.data.ho_ten);\n                    localStorage.setItem('logged_time', response.data.logged_time);\n                    localStorage.setItem('ten_chuc_vu', chuc_vu_name.toLowerCase());\n    \n                    window.location.reload()\n    \n                    this.setState({\n                        loginSuccess: true\n                    })\n                })\n            }else{\n                this.setState({\n                    loginMsg: \"Sai tên người dùng hoặc mật khẩu\"\n                })\n            }\n        });\n    }\n\n    render() {\n        if(this.state.loginSuccess) {\n            return(\n                <Redirect to='/'/>\n            )\n        }\n\n        return(\n            <div className=\"login_view\">\n                <h1>Đăng Nhập</h1>\n                <a style={{marginBottom: \"16px\", fontSize: \"14px\", color: \"red\"}}>{this.state.loginMsg}</a>\n                <form action=\"/\" method=\"POST\" className=\"login\" onSubmit={this.handleSubmit}>\n                    <input type=\"text\" placeholder=\"Tên Người Dùng\" ref=\"email\" className=\"textbox\"/>\n                    <input type=\"password\" placeholder=\"Mật khẩu\" ref=\"password\" className=\"textbox\"/>\n                    <button className=\"btn blue\">Đăng nhập</button>\n                </form>\n            </div>\n        )\n    }\n}\n\nexport default Login;","import React, {Component} from 'react';\nimport {DefaultHeaderBar} from '../components/Header_bar';\nimport {StatusTable} from '../components/Table';\nimport {StatusModal, StatusEditModal} from '../components/Modals';\nimport {getStatus, getSingleStatus, getPermissions} from '../functions/Api';\nimport { findWithAttr} from '../functions/Global';\n\nclass Status extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            is_modal_open: \"false\",\n            is_edit_modal_open :\"false\",\n            data: null,\n            edit_data: null,\n            edit_id: null,\n            perms: null\n        }\n\n        getStatus((res) => {\n            this.setState ({\n                data: res\n            })\n        });\n        \n        getPermissions((res) => {\n            this.setState({\n                perms: res\n            })\n        });\n    }\n\n    handleOpenCreateModal = () => {\n        this.setState ({\n            is_modal_open: \"true\"\n        })\n    }\n\n    handleOpenEditModal = (id, i) => {\n        getSingleStatus(id, (res) => {\n            this.setState ({\n                edit_data: res,\n                edit_id: i,\n                is_edit_modal_open: \"true\"\n            })\n\n            this.refs.status_edit_modal.handleChangeColor(res.color);\n        });\n    }\n\n    handleCloseModal = () => {\n        getStatus((res) => {\n            this.setState ({\n                data: res,\n                is_modal_open: \"false\",\n                is_edit_modal_open :\"false\",\n                edit_data: null\n            })\n        });\n    }\n\n    render() {\n        if(!this.state.data || !this.state.perms) {\n            return(<div></div>);\n        }\n        return(\n            <div>\n                <DefaultHeaderBar  onGoBack={() => this.props.history.goBack()} title=\"Tình Trạng\"  handleCreate={this.state.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.status[1] == \"1\" ? this.handleOpenCreateModal : null}/>\n                <StatusTable data={this.state.data} onClick={this.handleOpenEditModal}/>\n                <StatusEditModal perms={this.state.perms} ref=\"status_edit_modal\"  edit_id={this.state.edit_id} data={this.state.edit_data} is_open={this.state.is_edit_modal_open}  handleCloseModal={this.handleCloseModal}/>\n                <StatusModal is_open={this.state.is_modal_open} handleCloseModal={this.handleCloseModal}/>\n            </div>\n        )\n    }\n}\n\nexport default Status;","import React, {Component} from 'react';\nimport {logout} from '../functions/Api';\nimport {Redirect} from 'react-router-dom';\n\nclass Logout extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = { \n            success: false\n        }\n        \n        logout(localStorage.getItem('user_id'), (res) => {\n            this.handleLogout();\n        });\n\n    }\n    \n    componentWillUnmount = () => {\n        window.location.reload();\n    }\n\n    handleLogout = () => {\n\n        localStorage.removeItem('JWT');\n        localStorage.removeItem('user_id');\n        localStorage.removeItem('authed');\n        localStorage.removeItem('chuc_vu');\n        localStorage.removeItem('ho_ten');\n\n        this.setState({\n            success: true\n        })\n    }\n\n    render() {\n        if(this.state.success) {\n            return(\n                <Redirect to='/login'/>\n            )\n        }\n\n        return(\n            <div></div>\n        )\n    }\n}\n\nexport default Logout;","import React, {Component} from 'react';\nimport {getStaff, getPermissions,getGoiChup, getServices, updateSalaryHistory} from '../functions/Api';\nimport {DefaultHeaderBar} from '../components/Header_bar';\nimport {SalaryTable} from '../components/Table';\nimport {removeVietnameseTones, salaryLoad, salaryCalculate, numberWithCommas, findWithAttr} from '../functions/Global';\nimport {HashSpiner} from '../components/Spiners';\n\nclass Salary extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            staff_data: null,\n            date_filter: new Date().getFullYear() + '-' + parseInt(new Date().getMonth()),\n            perms: null,\n            salary_data: [],\n            default_salary_data: []\n        }\n\n        getPermissions((res) => {\n            this.setState({\n                perms: res\n            })\n        });\n\n        getStaff((res) => {\n            this.setState ({\n              staff_data: res\n            })\n\n            let staff_data = res;\n\n            staff_data.forEach((data ,i ) => {\n                salaryCalculate(data, new Date().getFullYear(), parseInt(new Date().getMonth()), (salary_calc_data) => {\n                    let salary_data = this.state.salary_data;\n                    salary_data.push(salary_calc_data);\n\n                    this.setState({\n                        salary_data: salary_data,\n                        default_salary_data: salary_data\n                    })\n\n                    this.handleLoadBonus();\n                })\n            })\n        });\n    }\n\n    //SEARCH\n    handleSearch = (search_value) => {\n        //RELOAD DATA IF SEARCH VALUE IS NULL\n        if(search_value === \"\") {\n            this.setState({\n                salary_data: this.state.default_salary_data\n            })\n        }\n\n        let data = this.state.default_salary_data;\n  \n        //FIND STAFF NAME\n        let filtered_data = data.filter((data, i) => {\n            if(removeVietnameseTones(data.email).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true;  \n            if(removeVietnameseTones(data.ho_ten).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true;  \n            \n            return false;\n        })\n\n        this.setState({\n            salary_data: filtered_data\n        })  \n    }\n  \n    //Sự kiện thay đổi giá trị % thưởng\n    onInputChange = (e, element, id) => {\n        let salary_data = this.state.salary_data;\n        let default_salary_data = this.state.default_salary_data;\n        let staff_data = this.state.staff_data;\n        staff_data = staff_data[findWithAttr(staff_data, '_id', id)];\n\n        salary_data[findWithAttr(salary_data, '_id', id)][element] = element == 'ngay_cong' ? e.target.value >= 0 ? e.target.value : 0 : parseInt(e.target.value >= 0 ? e.target.value : 0);\n        default_salary_data[findWithAttr(salary_data, '_id', id)][element] = element == 'ngay_cong' ? e.target.value >= 0 ? e.target.value : 0: parseInt(e.target.value >= 0 ? e.target.value : 0);\n        \n        salaryCalculate(salary_data[findWithAttr(salary_data, '_id', id)], parseInt(this.state.date_filter.split(\"-\")[0]), parseInt(this.state.date_filter.split(\"-\")[1]), (salary_calc_data) => {\n            salary_data[findWithAttr(salary_data, '_id', id)] = salary_calc_data;\n            default_salary_data[findWithAttr(salary_data, '_id', id)] = salary_calc_data;\n\n            this.setState({\n                salary_data: salary_data,\n                default_salary_data: default_salary_data\n            })\n\n            this.handleLoadBonus();\n        })\n    }\n  \n\n    handleLoadBonus = async () => {\n        getGoiChup((goi_chup_data) => {\n            this.setState({\n                goi_chup: goi_chup_data\n            })\n        })\n  \n        getServices((dich_vu_data) => {\n            this.setState({\n                dich_vu: dich_vu_data\n            })\n        })\n    }\n  \n    //Lọc lịch sử bảng lương\n    handleFilter = (date) => {\n        let staff_data = this.state.staff_data;\n        let dates = date.split(\"-\");\n\n        this.setState({\n            salary_data: []\n        })\n        \n        staff_data.forEach((data ,i ) => {\n            salaryLoad(data, dates[0], parseInt(dates[1]) - 1, (salary_calc_data) => {\n                let salary_data = this.state.salary_data;\n                salary_data.push(salary_calc_data);\n\n                this.setState({\n                    salary_data: salary_data,\n                    default_salary_data: salary_data,\n                    date_filter: date\n                })\n\n                this.handleLoadBonus();\n            })\n        })\n    }\n\n    //SAVE\n    handleSave = () => {\n        let default_salary_data = this.state.default_salary_data;\n\n        default_salary_data.forEach((s_data, i) => {\n            let data = {\n                luong_co_ban: s_data.luong_co_ban,\n                ngay_cong: s_data.ngay_cong,\n                phan_tram_thuong_dich_vu_tu_van:s_data.phan_tram_thuong_dich_vu_tu_van ? parseInt(s_data.phan_tram_thuong_dich_vu_tu_van) : 0,\n                phan_tram_thuong_goi_chup_photo:s_data.phan_tram_thuong_goi_chup_photo ? parseInt(s_data.phan_tram_thuong_goi_chup_photo) : 0,\n                phan_tram_thuong_goi_chup_tu_van:s_data.phan_tram_thuong_goi_chup_tu_van ? parseInt(s_data.phan_tram_thuong_goi_chup_tu_van) : 0,  \n                phan_tram_thuong_photoshop:s_data.phan_tram_thuong_photoshop ? parseInt(s_data.phan_tram_thuong_photoshop) : 0,\n                date_created: this.state.date_filter\n            }\n\n            updateSalaryHistory(s_data._id, data, (res) => {\n                console.log(res)\n            })\n        })\n    }\n\n    render() {\n        if(!this.state.staff_data || !this.state.perms) {\n            return(<div className=\"load_view\"><HashSpiner/></div>)\n        }\n\n        return(\n            <div>\n                <DefaultHeaderBar handleSave={this.state.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.staff_salary[2] == \"1\" ? this.handleSave: null} onDropdownFilterSalaryBtnClick={this.handleFilter} handleSalaryFilter={this.handleFilter} handleEdit={null} onGoBack={() => this.props.history.goBack()} handleCreate={null} create_btn_link={null} onSearchKeyPress={this.handleSearch} handleRemove={null} title=\"Lương Nhân Viên\" back_link=\"/settings\"/>\n                <SalaryTable data={this.state.salary_data} perms={this.state.perms} onInputChange={this.onInputChange}/>\n            </div>\n        )\n    }\n}\n\nexport default Salary;","import React,{Component} from 'react';\nimport {removeStaff, createStaff, getSingleStaff, updateStaff} from '../functions/Api';\nimport {DefaultHeaderBar} from '../components/Header_bar';\nimport {StaffSalaryForm} from '../components/Forms';\nimport {Redirect} from 'react-router-dom';\nimport {getPermissions} from '../functions/Api';\nimport {salaryCalculate} from '../functions/Global';\nimport { findWithAttr} from '../functions/Global';\n\nclass StaffEdit extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            data: null,\n            redirect: false,\n            perms: null\n        }\n\n        if(this.props.match.params.id !== \"create_new\") {\n            getSingleStaff(this.props.match.params.id, (res) => {\n                this.setState ({\n                    data: res\n                })\n            });\n        }\n\n        getPermissions((res) => {\n            this.setState({\n                perms: res\n            })\n        });\n    }\n\n    handleSave = () => {\n        this.refs.staff_form.handleSave();\n    }\n\n    saveStaff = (data) => {\n        if(this.props.match.params.id !== \"create_new\") {\n            let new_data = data;\n\n            data[\"date_created\"] = this.state.data.date_created;\n            \n            updateStaff(data, this.state.data._id, (res) => {\n                this.setState ({\n                    redirect: true\n                })\n            });\n        }else {\n            createStaff(data, (res) => {\n                this.setState ({\n                    redirect: true\n                })\n            });\n        }\n    }\n\n    handleRemove = () => {\n        removeStaff(this.props.match.params.id, (res) => {\n            this.setState ({\n                redirect: true\n            })\n        });\n    }\n\n    //Lọc lịch sử bảng lương\n    handleFilter = (date) => {\n        this.refs.staff_form.handleFilter(date);\n    }\n\n    render() {\n        if(!this.state.data || !this.state.perms) {\n            return(<div></div>)\n        }\n\n        if(this.state.redirect){\n            return(<Redirect to=\"/staff_salary\"/>)\n        }\n\n        return(\n            <div className=\"view\">\n                <DefaultHeaderBar create_btn_link={null} onDropdownFilterSalaryBtnClick={this.handleFilter} handleSalaryFilter={this.handleFilter} handleRemove={ null }  onGoBack={() => this.props.history.goBack()} title=\"Lương Nhân Viên\" handleSave={this.state.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.staff_salary[2] == \"1\" ? this.handleSave: null}/>\n                <StaffSalaryForm ref=\"staff_form\" data={this.state.data} perms={this.state.perms} onSave={this.saveStaff} history={this.state.history}/>\n            </div>\n        )\n    }\n}\n\nexport default StaffEdit;","import React, {Component} from 'react';\nimport {BsBoxArrowInDown, BsFiles} from 'react-icons/bs';\nimport {DefaultHeaderBar} from '../components/Header_bar';\nimport Axios from 'axios';\nimport {API} from '../functions/Global';\nimport {Redirect} from 'react-dom';\n\nclass Backup extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n\n        }\n    }\n\n    handleRestore = (e) => {\n        var formData = new FormData();\n        var backupFile = e.target.files[0];\n\n        formData.append(\"file\", backupFile);\n\n        //POST TO SERVER\n        Axios.post(`${API}/restore`, formData, {\n            headers: {\n              'Content-Type': 'multipart/form-data'\n            }\n        }).then((res) => {\n            alert(\"Restore Dữ Liệu Thành Công!\");\n        });\n    }\n\n    render() {\n\n        return(\n            <div className=\"settings_view\">\n                {localStorage.getItem('chuc_vu') ? <DefaultHeaderBar onGoBack={() => this.props.history.goBack()} title=\"Sao Lưu\"/> : null}\n                <div className=\"settings_container\">\n                    <a className=\"setting_card\" href={`${API}/create_backup`} target=\"_download\" style={{cursor: 'pointer'}}>\n                        <div className=\"icon_container\">\n                            <BsFiles className=\"icon\"/>\n                        </div>\n                        <span className=\"setting_title\">Tạo Bản Sao Lưu</span>\n                    </a>\n\n                    <label className=\"setting_card\" htmlFor=\"backup_file\" style={{display: 'flex', cursor: \"pointer\"}}>\n                        <div className=\"icon_container\">\n                            <BsBoxArrowInDown className=\"icon\"/>\n                        </div>\n                        <span className=\"setting_title\">Nhập Dữ Liệu</span>\n                    </label>\n                    <input type=\"file\" name=\"backup_file\" id=\"backup_file\" style={{display: 'none'}} onChange={this.handleRestore}/>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Backup;","import React, {Component} from 'react';\n\nimport {HeaderBar} from '../components/Header_bar';\nimport {BillTableContainer} from '../components/Table';\nimport {getBill} from '../functions/Api';\nimport {removeVietnameseTones} from '../functions/Global';\n\nclass Trash extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            bill: null\n        }\n\n        getBill((res) => {\n          let data = res.sort((a, b) => {\n              return new Date(b.ngay_chup) - new Date(a.ngay_chup)\n            })\n            data = data.filter((data, i) => {\n                return data.deleted;\n            })\n          this.setState ({\n            bill: data\n          })\n        });\n\n        this.handleFilter = this.handleFilter.bind(this);\n    }\n    \n    //THỰC HIỆN LỌC TỪ DROPDOWN\n    handleFilter(branch, photo, support, tinh_trang) {\n        //RELOAD DATA\n        getBill((res) => {\n          let data = res.sort((a, b) => {return new Date(b.ngay_chup) - new Date(a.ngay_chup)})\n\n          //LỌC DATA\n          let filtered_data = data.filter((data, i) => {\n              //LỌC THEO CHI NHÁNH\n              if(branch !== \"all\") {\n                  if(data.chi_nhanh !== branch) return false;\n              }\n  \n              //LỌC THEO PHOTO\n              if(photo !== \"all\") {\n                  if(data.photo !== photo) return false;\n              }\n  \n              //LỌC THEO SUPPORT\n              if(support !== \"all\") {\n                  if(data.support !== support) return false;\n              }\n\n              //LỌC THEO TÌNH TRẠNG\n              if(tinh_trang !== \"all\") {\n                  if(data.tinh_trang !== tinh_trang) return false;\n              }\n\n              if(!data.deleted) {\n                  return false;\n              }\n\n              return true;\n          });\n  \n          this.setState({\n              bill: filtered_data\n          })\n        });\n    }\n\n    //THỰC HIỆN SEARCH\n    handleSearch = (search_value) => {\n        //RELOAD DATA IF SEARCH VALUE IS NULL\n        if(search_value === \"\") {\n            getBill((res) => {\n              let data = res.sort((a, b) => {return new Date(b.ngay_chup) - new Date(a.ngay_chup)})\n              \n              data = data.filter((data, i) => {\n                return data.deleted == true;\n              });\n              \n              this.setState ({\n                bill: data\n              })\n            });\n        }\n\n        //RELOAD DATA\n        getBill((res) => {\n            let data = res.sort((a, b) => {return new Date(b.ngay_chup) - new Date(a.ngay_chup)})\n  \n            //TÌM KHÁCH HÀNG OR TÊN BÉ OR SÔS ĐIỆN THOẠI\n            let filtered_data = data.filter((data, i) => {\n                if(!data.deleted) return false;\n                if(removeVietnameseTones(data.ten_khach_hang).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true; \n                if(removeVietnameseTones(data.ho_ten_be).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true; \n                if(removeVietnameseTones(data.so_dien_thoai).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true; \n                return false;\n            })\n  \n            this.setState({\n                bill: filtered_data\n            })            \n        })\n    }\n\n    render() {\n        if(!this.state.bill) {\n            return(\n                <div></div>\n            )\n        }\n\n        return(\n            <div>\n                <HeaderBar title=\"Thùng Rác\" onDropdownFilterBtnClick={this.handleFilter} onSearchKeyPress={this.handleSearch}/>\n                <BillTableContainer data={this.state.bill} type=\"0\" isDelete={true}/>\n            </div>\n        )\n    }\n}\n\nexport default Trash;","import React, {Component} from 'react';\nimport {SpendingTable} from '../components/Table';\nimport {DefaultHeaderBar} from '../components/Header_bar';\nimport {SpendingModal, SpendingEditModal} from '../components/Modals';\nimport {getSingleSpending, getSpending, getPermissions} from '../functions/Api';\nimport {removeVietnameseTones, findWithAttr} from '../functions/Global';\nimport {HashSpiner} from '../components/Spiners';\n\nclass Spending extends Component {\n    constructor(props) {\n        super(props);\n        this.state =  {\n            modal_is_open: \"false\",\n            edit_modal_is_open: \"false\",\n            edit_id: null,\n            data_spending: null,\n            perms: null,\n            date_edit: null\n        }\n\n        getPermissions((res) => {\n            this.setState({\n                perms: res\n            })\n        })\n\n        getSpending((res) => {\n          this.setState ({\n            data_spending: res.reverse()\n          })\n        })\n    }\n\n    handleCloseModal = () => {\n        this.setState({\n            modal_is_open: \"false\",\n            edit_modal_is_open: \"false\",\n            data: null\n        })\n\n        this.updateData();\n    }\n\n    handleOpenModal = () => {\n        this.setState({\n            modal_is_open: \"true\"\n        })\n    }\n\n    handleOpenEditModal = (id) => {\n        getSingleSpending(id, (res) => {\n            this.setState ({\n                data: res,\n                edit_modal_is_open: \"true\",\n                edit_id: id,\n                date_edit: res.date.split(\"T\")[0]\n            })\n        });\n    }\n\n    //THỰC HIỆN SEARCH\n    handleSearch = (search_value) => {\n        //RELOAD DATA IF SEARCH VALUE IS NULL\n        if(search_value === \"\") {\n            getSpending((res) => {\n                this.setState({\n                    data_spending: res.reverse()\n                })            \n            })\n        }\n\n        //RELOAD DATA\n        getSpending((res) => {\n            let data = res.reverse()\n  \n            //TÌM NGƯỜI CHI OR SỐ TIỀN HOẶC NỘI DUNG\n            let filtered_data = data.filter((data, i) => {\n                if(removeVietnameseTones(data.noi_dung).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true; \n                if(removeVietnameseTones(data.so_tien.toString()).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true;  \n                if(removeVietnameseTones(data.user).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true;   \n                \n                return false;\n            })\n  \n            this.setState({\n                data_spending: filtered_data\n            })            \n        })\n    }\n\n    //MODAL EDIT SỬA NGÀY CHI\n    handleChangeDate = (date) => {\n        let date_trans = date.split(\"-\");\n        date_trans = date_trans[2] + \"-\" + date_trans[1] + \"-\" + date_trans[0];\n\n        this.setState({\n            date_edit: date_trans\n        })\n    }\n\n    updateData = () => {\n        getSpending((res) => {\n        this.setState ({\n            data_spending: res.reverse()\n        })\n      })\n    }\n\n    render() {\n        if(!this.state.data_spending || !this.state.perms) {\n            return(<div className=\"load_view\"><HashSpiner/></div>)\n        }\n\n        return(\n            <div>\n                <DefaultHeaderBar title=\"Chi\" handleCreate={this.state.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.spending[1] == \"1\" ? this.handleOpenModal : null} onSearchKeyPress={this.handleSearch}/>\n                <SpendingTable data={this.state.data_spending} ref=\"table\" handleOpenModal={this.handleOpenEditModal}/>\n                <SpendingModal is_open={this.state.modal_is_open} handleCloseModal={this.handleCloseModal}/>\n                <SpendingEditModal date_edit={this.state.date_edit} onChangeDate={this.handleChangeDate} perms={this.state.perms} data={this.state.data} is_open={this.state.edit_modal_is_open} edit_id={this.state.edit_id} handleCloseModal={this.handleCloseModal}/>\n            </div>\n        )\n    }\n}\n\nexport default Spending;","import React, {Component} from 'react';\nimport {Link} from 'react-router-dom';\nimport \"../styles/components/Side_bar.scss\";\n\nimport {BsPeople, BsCalendar, BsCardList, BsCreditCard, BsInboxes, BsClipboardData, BsList, BsArrowReturnRight} from 'react-icons/bs';\nimport {FiCamera, FiSettings, FiLogOut, FiTrash2} from 'react-icons/fi';\nimport {AiOutlineRest} from 'react-icons/ai';\n\nimport {getPermissions} from '../functions/Api';\nimport { findWithAttr } from '../functions/Global';\n\nclass SideBar extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            location: window.location.pathname,\n            perms: null,\n            side_bar: false\n        }\n        \n        getPermissions((res) => {\n            this.setState({\n                perms: res\n            })\n        });\n    }\n\n    handleToggleSideBar = () => {\n        localStorage.setItem(\"side_bar_toggle\", !this.state.side_bar);\n        this.setState({\n            side_bar: !this.state.side_bar\n        })\n    }\n\n    render() {\n        if(!this.state.perms) {\n            return(\n                <div></div>\n            )\n        }\n        \n        const perms = this.state.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons;\n\n        if(!this.state.side_bar) {\n            return(\n                <div className=\"side_bar_container min\">\n                    <div className=\"side_bar\"> \n                    <div className='item avatar_container'>\n                        <button className=\"menu_btn\" onClick={this.handleToggleSideBar}><BsList className=\"icon\"/></button>\n                    </div>\n\n                    {perms.bill[0] == \"1\" ? \n                        <Link to='/' className={this.state.location === '/' ? 'item active' : 'item'} onClick={() => this.setState({location:'/', side_bar: false})}>\n                            <BsCardList className='icon'/>\n                            <p className=\"item_name\">Đơn hàng</p>\n                        </Link> : null}\n    \n                    {perms.calendar[0] == \"1\" ? \n                        <Link to='/calendar' className={this.state.location === '/calendar' ? 'item active' : 'item'} onClick={() => this.setState({location:'/calendar', side_bar: false})}>\n                            <BsCalendar className='icon'/>\n                            <p className=\"item_name\">Lịch</p>\n                        </Link> : null}\n\n                    {perms.customers[0] == \"1\" ? \n                    <Link to='/customers' className={this.state.location === '/customers' ? 'item active' : 'item'} onClick={() => this.setState({location:'/customers', side_bar: false})}>\n                        <BsPeople className='icon'/>\n                        <p className=\"item_name\">Khách hàng</p>\n                    </Link> : null}\n\n                    {perms.spending[0] == \"1\" ? \n                    <Link to='/spending' className={this.state.location === '/spending' ? 'item active' : 'item'} onClick={() => this.setState({location:'/spending', side_bar: false})}>\n                        <BsCreditCard className='icon'/>\n                        <p className=\"item_name\">Chi</p>\n                    </Link> : null}\n\n                    {perms.goi_chup[0] != \"1\" && perms.services[0] != \"1\" ? null : \n                        <div className=\"menu_header\">\n                            <hr/>\n                        </div>\n                    }\n                    {perms.goi_chup[0] == \"1\" ? \n                    <Link to='/take_picture_packages' className={this.state.location === '/take_picture_packages' ? 'item active' : 'item'} onClick={() => this.setState({location:'/take_picture_packages', side_bar: false})}>\n                        <FiCamera className='icon'/>\n                        <p className=\"item_name\">Gói chụp</p>\n                    </Link> : null}\n\n                    {perms.services[0] == \"1\" ? \n                    <Link to='/services' className={this.state.location === '/services' ? 'item active' : 'item'} onClick={() => this.setState({location:'/services', side_bar: false})}>\n                        <AiOutlineRest className='icon'/>\n                        <p className=\"item_name\">Dịch vụ</p>\n                    </Link> : null}\n\n                    {perms.total_analytics[0] != \"1\" && perms.total_analytics[0] != \"1\" ? null : \n                        <div className=\"menu_header\">\n                            <hr/>\n                        </div>\n                    }\n\n                    {perms.total_analytics[0] == \"1\" ? \n                    <Link to='/total_revenue' className={this.state.location === '/total_revenue' ? 'item active' : 'item'} onClick={() => this.setState({location:'/total_revenue', side_bar: false})}>\n                        <BsClipboardData className='icon'/>\n                        <p className=\"item_name\">Báo cáo doanh thu</p>\n                    </Link> : null}\n                    {perms.spending_analytics[0] == \"1\" ? \n                    <Link to='/realtime_revenue' className={this.state.location === '/realtime_revenue' ? 'item active' : 'item'} onClick={() => this.setState({location:'/realtime_revenue', side_bar: false})}>\n                        <BsClipboardData className='icon'/>\n                        <p className=\"item_name\">Báo cáo thu chi</p>\n                    </Link> : null}\n                    <div className=\"menu_header\">\n                            <hr/>\n                    </div>\n                    \n                    {perms.trash[0] == \"1\" ? \n                        <Link to='/trash' className={this.state.location === '/trash' ? 'item active' : 'item'} onClick={() => this.setState({location:'/trash', side_bar: false})}>\n                            <FiTrash2 className='icon'/>\n                            <p className=\"item_name\">Thùng rác</p>\n                        </Link> : null}\n                    \n                    <Link to='/settings' className={this.state.location === '/settings' ? 'item active' : 'item'} onClick={() => this.setState({location:'/settings', side_bar: false})}>\n                        <FiSettings className='icon'/>\n                        <p className=\"item_name\">Cài đặt</p>\n                    </Link>\n                    <Link to='/logout' className={this.state.location === '/logout' ? 'item active' : 'item'} onClick={() => this.setState({location:'/logout', side_bar: false})}>\n                        <FiLogOut className='icon'/>\n                        <p className=\"item_name\">Đăng xuất</p>\n                    </Link>\n                </div>\n                </div>\n            )\n        }\n\n        return(\n        <div className=\"side_bar_container\">\n            <div className=\"side_bar\">\n            <div className='item avatar_container'>\n                <button className=\"menu_btn\" onClick={this.handleToggleSideBar}><BsList className=\"icon\"/></button>\n                <p className='user_name'>{localStorage.getItem('ho_ten')}</p>\n            </div>\n\n            {perms.bill[0] != \"1\" && perms.calendar[0] != \"1\" && perms.customers[0] != \"1\" ? null : \n                <div className=\"menu_header\">\n                    <span>Công Việc</span>\n                </div>\n            }\n            \n            {perms.bill[0] == \"1\" ? \n                <Link to='/' className={this.state.location === '/' ? 'item active' : 'item'} onClick={() => this.setState({location:'/', side_bar: false})}>\n                    <BsCardList className='icon'/>\n                    <p className=\"item_name\">Đơn hàng</p>\n                </Link> : null}\n                \n            {perms.calendar[0] == \"1\" ? \n                <Link to='/calendar' className={this.state.location === '/calendar' ? 'item active' : 'item'} onClick={() => this.setState({location:'/calendar', side_bar: false})}>\n                    <BsCalendar className='icon'/>\n                    <p className=\"item_name\">Lịch</p>\n                </Link> : null}\n            \n            {perms.customers[0] == \"1\" ? \n            <Link to='/customers' className={this.state.location === '/customers' ? 'item active' : 'item'} onClick={() => this.setState({location:'/customers', side_bar: false})}>\n                <BsPeople className='icon'/>\n                <p className=\"item_name\">Khách hàng</p>\n            </Link> : null}\n\n            {perms.spending[0] == \"1\" ? \n            <Link to='/spending' className={this.state.location === '/spending' ? 'item active' : 'item'} onClick={() => this.setState({location:'/spending', side_bar: false})}>\n                <BsCreditCard className='icon'/>\n                <p className=\"item_name\">Chi</p>\n            </Link> : null}\n            \n            <br/>\n            \n            {perms.goi_chup[0] != \"1\" && perms.services[0] != \"1\" ? null : \n                <div className=\"menu_header\">\n                    <span>Sản Phẩm</span>\n                </div>\n            }\n            {perms.goi_chup[0] == \"1\" ? \n            <Link to='/take_picture_packages' className={this.state.location === '/take_picture_packages' ? 'item active' : 'item'} onClick={() => this.setState({location:'/take_picture_packages', side_bar: false})}>\n                <FiCamera className='icon'/>\n                <p className=\"item_name\">Gói chụp</p>\n            </Link> : null}\n            \n            {perms.services[0] == \"1\" ? \n            <Link to='/services' className={this.state.location === '/services' ? 'item active' : 'item'} onClick={() => this.setState({location:'/services', side_bar: false})}>\n                <AiOutlineRest className='icon'/>\n                <p className=\"item_name\">Dịch vụ</p>\n            </Link> : null}\n            \n            <br/>\n            \n            {perms.total_analytics[0] != \"1\" && perms.total_analytics[0] != \"1\" ? null : \n                <div className=\"menu_header\">\n                    <span>Báo Cáo</span>\n                </div>\n            }\n            \n            {perms.total_analytics[0] == \"1\" ? \n            <Link to='/total_revenue' className={this.state.location === '/total_revenue' ? 'item active' : 'item'} onClick={() => this.setState({location:'/total_revenue', side_bar: false})}>\n                <BsClipboardData className='icon'/>\n                <p className=\"item_name\">Báo cáo doanh thu</p>\n            </Link> : null}\n            {perms.realtime_analytics[0] == \"1\" ? \n            <Link to='/realtime_revenue' className={this.state.location === '/realtime_revenue' ? 'item active' : 'item'} onClick={() => this.setState({location:'/realtime_revenue', side_bar: false})}>\n                <BsClipboardData className='icon'/>\n                <p className=\"item_name\">Báo cáo thu chi</p>\n            </Link> : null}\n\n            <br/>\n            <div className=\"menu_header\">\n                <span>Khác</span>\n            </div>\n                    \n            {perms.trash[0] == \"1\" ? \n            <Link to='/trash' className={this.state.location === '/trash' ? 'item active' : 'item'} onClick={() => this.setState({location:'/trash', side_bar: false})}>\n                <FiTrash2 className='icon'/>\n                <p className=\"item_name\">Thùng rác</p>\n            </Link> : null}\n            \n            <Link to='/settings' className={this.state.location === '/settings' ? 'item active' : 'item'} onClick={() => this.setState({location:'/settings', side_bar: false})}>\n                <FiSettings className='icon'/>\n                <p className=\"item_name\">Cài đặt</p>\n            </Link>\n            <Link to='/logout' className={this.state.location === '/logout' ? 'item active' : 'item'} onClick={() => this.setState({location:'/logout', side_bar: false})}>\n                <FiLogOut className='icon'/>\n                <p className=\"item_name\">Đăng xuất</p>\n            </Link>\n        </div>\n        </div>\n        )\n    }\n}\n\nexport default SideBar;","import React, {Component} from 'react';\nimport {APIs} from '../functions/Api';\nimport { findWithAttr} from '../functions/Global';\n\nclass TabBar extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            tab_active: this.props.tab\n        }\n    }\n\n    handleChangeTab = (tab) => {\n        this.setState({\n            tab_active: tab\n        });\n\n        this.props.onChangeTab(tab);\n    }\n\n    render() {\n\n        return(\n            <div className=\"tab_bar\">\n                {this.props.data.map((data , i) => {\n                    //TAB LỚN HƠN THÁNG HIỆN TẠI => DISABLED\n                    if(data > (new Date().getMonth() + 1)) {\n                        return(\n                            <div key={i} className=\"tab disabled\">\n                                <span className=\"tab_title\">{data}</span>\n                            </div>\n                        )\n                    }else{\n                        return(\n                            <div key={i} onClick={() => this.handleChangeTab(i)} className={this.state.tab_active === i ? \"tab active\" : \"tab\"}>\n                                <span className=\"tab_title\">{data}</span>\n                            </div>\n                        )\n                    }\n                })}\n            </div>\n        )\n    }\n}\n\nclass ChamCongTable extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            date: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],\n            perms: null\n        }\n\n        APIs.post('/get_permissions', '', null, (res) => {\n            this.setState({\n                perms: res.data\n            })\n        })\n    }\n\n    handleChamCong = (e, type, date) => {\n        let sang = this.props.sang;\n        let chieu = this.props.chieu;\n        var counts_sang = {};\n        var counts_chieu = {};\n\n        e.target.checked ? (type == 'sang' ? sang[date - 1] = 1 : chieu[date - 1] = 1) : (type == 'sang' ? sang[date - 1] = 0 : chieu[date - 1] = 0)\n\n        for (var i = 0; i < sang.length; i++) {\n          var num = sang[i];\n          counts_sang[num] = counts_sang[num] ? counts_sang[num] + 1 : 1;\n        }\n\n        for (var i = 0; i < chieu.length; i++) {\n          var num = chieu[i];\n          counts_chieu[num] = counts_chieu[num] ? counts_chieu[num] + 1 : 1;\n        }\n\n        let ngay_cong_sang = counts_sang[1] ? counts_sang[1] / 2 : 0;\n        let ngay_cong_chieu = counts_chieu[1] ? counts_chieu[1] / 2 : 0\n\n        let data = {\n            month: this.props.months,\n            year: this.props.year,\n            sang: sang,\n            chieu: chieu,\n            tong_ngay_cong: (ngay_cong_sang + ngay_cong_chieu),\n            user_id: this.props.user_id\n        }\n\n        APIs.post('/cham_cong_table','', {data: data}, (res) => {\n            console.log(res);\n        })\n    }\n\n    render() {\n        if(!this.props.date || !this.state.perms) {\n            return <div></div>\n        }\n\n        const perms = this.state.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons;\n\n        return(\n            <div className=\"tab_content_container cham_cong_table\">\n                <div className=\"tab_content_header_container cham_cong_table\">\n                    <h1 className=\"tab_content_header\">Chấm công tháng {this.props.months} năm {this.props.year}</h1>\n                    <div className=\"tab_header_right_item_container cham_cong_table\">\n                        {this.props.date.map((data, i) => {\n                            return <span className=\"tab_header_item_title\">{data}</span>\n                        })}\n                    </div>\n                </div>\n                <div className=\"tab_content cham_cong_table\">\n                    <div className=\"tab_side_bar\">\n                        <span className=\"tab_side_bar_title\">Sáng</span>\n                        <span className=\"tab_side_bar_title\">Chiều</span>\n                    </div>\n                    <div className=\"tab_tick_container\">\n                        <div className=\"tab_tick\">\n                            {this.props.date.map((result, i) => {\n                                const today = new Date().getDate().toString();\n                                const month = this.props.months.toString();\n                                const monthNow = (new Date().getMonth() + 1).toString();\n\n                                return(\n                            <div className=\"column\" key={\"column\" + i}>\n                                <div className=\"checkbox\" key={\"bill\" + i}>\n                                    <input type=\"checkbox\" onChange={(e) => this.handleChamCong(e,'sang',result)} defaultChecked={this.props.sang[result - 1] == 1 ? \"checked\" : null} disabled={(result).toString() == today && month == monthNow ? (this.props.sang[result - 1] == 1 ? (perms.cham_cong[2] == \"1\" ? null : 'disabled') : null) : perms.cham_cong[2] == \"1\" ? null : 'disabled'}/>\n                                </div>\n                                <div className=\"checkbox\" key={\"bills\" + i}>\n                                    <input type=\"checkbox\" onChange={(e) => this.handleChamCong(e,'chieu',result)} defaultChecked={this.props.chieu[result - 1] == 1 ? \"checked\" : null} disabled={(result).toString() == today && month == monthNow ? (this.props.chieu[result - 1] == 1 ? (perms.cham_cong[2] == \"1\" ? null : 'disabled') : null) : perms.cham_cong[2] == \"1\" ? null : 'disabled'}/>\n                                </div>\n                            </div>\n                       \n                                )\n                            }, this)}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport {\n    ChamCongTable,\n    TabBar}\n;","import React, {Component} from 'react';\nimport {APIs, getPermissions} from '../functions/Api';\nimport {DefaultHeaderBar} from '../components/Header_bar';\nimport {HashSpiner} from '../components/Spiners';\nimport {ChamCongTable, TabBar} from '../components/ChamCongTable';\nimport { findWithAttr} from '../functions/Global';\n\nclass ChamCong extends Component {\n    constructor(props) {\n        super(props);\n        this.state =  {\n            modal_is_open: \"false\",\n            edit_modal_is_open: \"false\",\n            edit_id: null,\n            data_spending: null,\n            perms: null,\n            month: [1,2,3,4,5,6,7,8,9,10,11,12],\n            date: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],\n            tab: new Date().getMonth(),\n            sang: [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\n            year: new Date().getFullYear(),\n            months: new Date().getMonth() + 1,\n            chieu: [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\n        }\n\n        APIs.post('/get_cham_cong','', {user_id: localStorage.getItem('user_id'), month: new Date().getMonth() + 1, year: new Date().getFullYear()}, (res) => {\n            this.setState({\n                sang: res.sang ? res.sang : this.state.sang,\n                chieu: res.chieu ? res.chieu : this.state.chieu,\n            })\n        })\n\n        getPermissions((res) => {\n            this.setState({\n                perms: res\n            })\n        })\n    }\n\n    onTabChange = (tab) => {   \n        this.setState ({\n            tab_data: null,\n            tab: tab,\n            months: (tab + 1),\n            date: null\n        })     \n\n        APIs.post('/get_cham_cong','', {user_id: localStorage.getItem('user_id'), month: tab + 1, year: this.state.year}, (res) => {\n            this.setState({\n                sang: res.sang ? res.sang : this.state.sang,\n                chieu: res.chieu ? res.chieu : this.state.chieu,\n                date: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]\n            })\n        })\n    }\n\n    //YEAR FILTER\n    handleFilter = (date) => {\n        let year = date.split(\"-\")[0];\n        let month = new Date(date).getMonth() + 1;\n\n        this.setState ({\n            date: null\n        })  \n\n        APIs.post('/get_cham_cong','', {user_id: localStorage.getItem('user_id'), month: month, year: year}, (res) => {\n            this.setState({\n                sang: res.sang ? res.sang : [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\n                chieu: res.chieu ? res.chieu : [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\n                year: year,\n                months: month,\n                date: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]\n            })\n        })\n    }\n\n    render() {\n        if(!this.state.perms) {\n            return(<div className=\"load_view\"><HashSpiner/></div>)\n        }\n\n        return(\n            <div className=\"view\">\n                <DefaultHeaderBar type='1' onDropdownFilterSalaryBtnClick={this.handleFilter} handleSalaryFilter={this.handleFilter} title=\"Chấm Công\" onGoBack={() => this.props.history.goBack()} handleCreate={this.state.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.spending[1] == \"1\" ? this.handleOpenModal : null} onSearchKeyPress={this.handleSearch}/>\n                <ChamCongTable user_id={localStorage.getItem('user_id')} month={this.state.month} months={this.state.months} year={this.state.year} sang={this.state.sang} chieu={this.state.chieu} date={this.state.date}/>\n            </div>\n        )\n    }\n}\n\nexport default ChamCong;","import React, {Component} from 'react';\nimport {getStaff} from '../functions/Api';\nimport {DefaultHeaderBar} from '../components/Header_bar';\nimport {ChamCongTable} from '../components/Table';\nimport {removeVietnameseTones} from '../functions/Global';\nimport {HashSpiner} from '../components/Spiners';\n\nclass ChamCong extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            data: null\n        }\n\n        getStaff((res) => {\n          this.setState ({\n            data: res\n          })\n        });\n    }\n\n    //THỰC HIỆN SEARCH\n    handleSearch = (search_value) => {\n        //RELOAD DATA IF SEARCH VALUE IS NULL\n        if(search_value === \"\") {\n            getStaff((res) => {\n                this.setState({\n                    data: res\n                })            \n            })\n        }\n\n        //RELOAD DATA\n        getStaff((res) => {\n            let data = res.reverse()\n  \n            //TÌM KHÁCH HÀNG OR TÊN BÉ OR SÔS ĐIỆN THOẠI\n            let filtered_data = data.filter((data, i) => {\n                if(removeVietnameseTones(data.email).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true;  \n                if(removeVietnameseTones(data.ho_ten).toLowerCase().indexOf(removeVietnameseTones(search_value).toLowerCase()) > -1) return true;  \n                \n                return false;\n            })\n  \n            this.setState({\n                data: filtered_data\n            })            \n        })\n    }\n\n    updateData = () => {\n        getStaff((res) => {\n        this.setState ({\n            data: res\n        })\n      })\n    }\n\n    render() {\n        if(!this.state.data) {\n            return(<div className=\"load_view\"><HashSpiner/></div>)\n        }\n\n        return(\n            <div>\n                <DefaultHeaderBar handleEdit={null} onGoBack={() => this.props.history.goBack()} handleCreate={null} create_btn_link={null} onSearchKeyPress={this.handleSearch} handleSave={null} handleRemove={null} title=\"Quản Lý Chấm Công\" back_link=\"/settings\"/>\n                <ChamCongTable data={this.state.data}/>\n            </div>\n        )\n    }\n}\n\nexport default ChamCong;","import React, {Component} from 'react';\nimport {ChamCongTable, TabBar} from '../components/ChamCongTable';\nimport {APIs, getPermissions} from '../functions/Api';\nimport {DefaultHeaderBar} from '../components/Header_bar';\nimport { findWithAttr} from '../functions/Global';\n\nclass ChamCongManagement extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            month: [1,2,3,4,5,6,7,8,9,10,11,12],\n            date: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],\n            tab: new Date().getMonth(),\n            sang: [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\n            year: new Date().getFullYear(),\n            months: parseInt(new Date().getMonth()) + 1,\n            chieu: [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\n            perms: null\n        }\n\n        getPermissions((res) => {\n            this.setState({\n                perms: res\n            })\n        });\n\n        APIs.post('/get_cham_cong','', {user_id: this.props.match.params.id, month: new Date().getMonth() + 1, year: new Date().getFullYear()}, (res) => {\n            this.setState({\n                sang: res.sang ? res.sang : this.state.sang,\n                chieu: res.chieu ? res.chieu : this.state.chieu,\n            })\n        })\n    }\n\n    onTabChange = (tab) => {   \n        this.setState ({\n            tab_data: null,\n            tab: tab,\n            months: (tab + 1),\n            date: null\n        })     \n\n        APIs.post('/get_cham_cong','', {user_id: this.props.match.params.id, month: tab + 1, year: new Date().getFullYear()}, (res) => {\n            this.setState({\n                sang: res.sang ? res.sang : this.state.sang,\n                chieu: res.chieu ? res.chieu : this.state.chieu,\n                date: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]\n            })\n        })\n    }\n\n    //YEAR FILTER\n    handleFilter = (date) => {\n        let year = date.split(\"-\")[0];\n        let month = new Date(date).getMonth() + 1;\n\n        this.setState ({\n            date: null\n        })  \n\n        APIs.post('/get_cham_cong','', {user_id: this.props.match.params.id, month: month, year: year}, (res) => {\n            this.setState({\n                sang: res.sang ? res.sang : [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\n                chieu: res.chieu ? res.chieu : [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\n                year: year,\n                months: month,\n                date: [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]\n            })\n        })\n    }\n    \n    render() {\n        if(!this.state.perms) {\n            return(<div></div>)\n        }\n\n        return(\n            <div className=\"view\">\n                <DefaultHeaderBar create_btn_link={null} onDropdownFilterSalaryBtnClick={this.handleFilter} handleSalaryFilter={this.handleFilter} onDropdownFilterSalaryBtnClick={this.handleFilter} handleSalaryFilter={this.handleFilter} handleRemove={ null }  onGoBack={() => this.props.history.goBack()} title=\"Lương Nhân Viên\" handleSave={this.state.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.staff_salary[2] == \"1\" ? this.handleSave: null}/>\n                <ChamCongTable user_id={this.props.match.params.id} month={this.state.month} months={this.state.months} year={this.state.year} sang={this.state.sang} chieu={this.state.chieu} date={this.state.date}/>\n            </div>\n        )\n    }\n}\n\nexport default ChamCongManagement;","import React, {Component} from 'react';\nimport {DefaultHeaderBar} from '../components/Header_bar';\nimport {Link} from 'react-router-dom';\nimport { findWithAttr} from '../functions/Global';\n\nimport {BsPeople, BsAppIndicator, BsInboxes, BsBuilding, BsCreditCard, BsFillArchiveFill, BsPersonCheck, BsFolderCheck} from 'react-icons/bs';\n\nimport {getPermissions} from '../functions/Api';\n\nexport default class Personnel extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            perms: null\n        } \n\n        getPermissions((res) => {\n            this.setState({\n                perms: res\n            })\n        })\n    }\n\n    render() {\n        if(!this.state.perms) {\n            return(<div></div>)\n        }\n\n        return(\n            <div className=\"settings_view\">\n                {localStorage.getItem('chuc_vu') ? <DefaultHeaderBar onGoBack={() => this.props.history.goBack()} title=\"Nhân Sự\"/> : null}\n                <div className=\"settings_container\">\n                    {this.state.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.staff[0] == \"1\" ? \n                    <Link to=\"/staff\" className=\"setting_card\">\n                        <div className=\"icon_container\">\n                            <BsPeople className=\"icon\"/>\n                        </div>\n                        <span className=\"setting_title\">Nhân Viên</span>\n                    </Link> : null}\n                    \n                    {this.state.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.staff_salary[0] == \"1\" ?\n                    <Link to=\"/staff_salary\" className=\"setting_card\">\n                        <div className=\"icon_container\">\n                            <BsCreditCard className=\"icon\"/>\n                        </div>\n                        <span className=\"setting_title\">Lương Nhân Viên</span>\n                    </Link> : null}\n                    \n                    <Link to=\"/cham_cong\" className=\"setting_card\">\n                        <div className=\"icon_container\">\n                            <BsPersonCheck className=\"icon\"/>\n                        </div>\n                        <span className=\"setting_title\">Chấm Công</span>\n                    </Link>\n                    \n                    {this.state.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.permisisons[0] == \"1\" ? \n                    <Link to=\"/permission\" className=\"setting_card\">\n                        <div className=\"icon_container\">\n                            <BsInboxes className=\"icon\"/>\n                        </div>\n                        <span className=\"setting_title\">Chức Năng Truy Cập</span>\n                    </Link> : null}\n                    \n                    {this.state.perms[findWithAttr(this.state.perms, '_id', localStorage.getItem('chuc_vu'))].permisisons.cham_cong[0] == \"1\" ? \n                    <Link to=\"/cham_cong_list\" className=\"setting_card\">\n                        <div className=\"icon_container\">\n                            <BsFolderCheck className=\"icon\"/>\n                        </div>\n                        <span className=\"setting_title\">Quản Lý Chấm Công</span>\n                    </Link> : null}\n                </div>\n            </div>\n        )\n    }\n}","import React, { Component, useEffect, useState } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport {APP_VERSION_LABEL} from './functions/Global';\n\n//VIEWS\nimport Home from './views/Home';\nimport BillEdit from './views/Bill_Edit';\nimport BillPrint from './views/BillPrint';\nimport CalendarView from './views/Calendar';\nimport Customers from './views/Customers';\nimport TakePhotoPackages from './views/Take_Photo_Packages';\nimport Services from './views/Services';\nimport Products from './views/Products';\nimport TotalAnalytics from './views/TotalAnalytics';\nimport RealtimeAnalytics from './views/RealtimeAnalytics';\nimport Settings from './views/Settings';\nimport Staff from './views/Staff';\nimport StaffEdit from './views/Staff_Edit';\nimport Permission from './views/Permission';\nimport Branch from './views/Branch';\nimport Login from './views/Login';\nimport Status from './views/Status';\nimport Logout from './views/Logout';\nimport {Redirect} from 'react-router-dom';\nimport Salary from './views/Salary';\nimport SalaryEdit from './views/SalaryEdit';\nimport Backup from './views/Backup';\nimport Trash from './views/Trash';\nimport Spending from './views/Spending';\nimport SideBar from './components/Side_bar';\nimport ChamCong from './views/ChamCong';\nimport ChamCongList from './views/ChamCongList';\nimport ChamCongManagement from './views/ChamCongManagement';\nimport Personnel from './views/Personnel';\n\nconst PrivateRoute = ({ component: Component, ...rest }) => (\n  <Route {...rest} render={(props) => (\n    localStorage.getItem('authed')\n      ? <Component {...props} />\n      : <Redirect to='/login' />\n  )} />\n)\n\nconst App = () => {\n  const [auth] = useState(true);\n\n  return (\n    <div>\n      {localStorage.getItem('authed') ? <SideBar/> : null}\n      {auth ? <Main/> : null}\n      <Version/>\n    </div>\n  );\n}\n\nconst Version = () => {\n  return(\n    <div className=\"version\">\n      <a href=\"https://lavenstudio.tk/\" target=\"_blank\">{APP_VERSION_LABEL}</a>\n    </div>\n  )\n}\n\nconst Main = (props) => {\n  return (\n    <main>\n      <Switch>\n        <Route exact path='/login' component={Login}/>\n        <Route exact path='/logout' component={Logout}/>\n        <Route exact path='/backup' component={Backup}/>\n        <Route exact path='/backup/:type' component={Backup}/>\n        <PrivateRoute exact path='/' component={Home}/>\n        <PrivateRoute exact path='/cham_cong' component={ChamCong}/>\n        <PrivateRoute exact path='/cham_cong_list' component={ChamCongList}/>\n        <PrivateRoute exact path='/cham_cong_edit/:id' component={ChamCongManagement}/>\n        <PrivateRoute exact path='/spending' component={Spending}/>\n        <PrivateRoute exact path='/bill_edit/:id' component={BillEdit}/>\n        <PrivateRoute exact path='/bill_edit/:id/:date' component={BillEdit}/>\n        <PrivateRoute exact path='/bill_restore/:id' component={BillEdit}/>\n        <PrivateRoute exact path='/bill_print/:id' component={BillPrint}/>\n        <PrivateRoute exact path='/calendar' component={CalendarView}/>\n        <PrivateRoute exact path='/customers' component={Customers}/>\n        <PrivateRoute exact path='/take_picture_packages' component={TakePhotoPackages}/>\n        <PrivateRoute exact path='/services' component = {Services}/>\n        <PrivateRoute exact path='/products' component={Products}/>\n        <PrivateRoute exact path='/total_revenue' component={TotalAnalytics}/>\n        <PrivateRoute exact path='/realtime_revenue' component={RealtimeAnalytics}/>\n        <PrivateRoute exact path='/trash' component={Trash}/>\n        <PrivateRoute exact path='/settings' component={Settings}/>\n        <PrivateRoute exact path='/settings/personnel' component={Personnel}/>\n        <PrivateRoute exact path='/staff' component={Staff}/>\n        <PrivateRoute exact path='/staff_edit/:id' component={StaffEdit}/>\n        <PrivateRoute exact path='/permission' component={Permission}/>\n        <PrivateRoute exact path='/branch' component={Branch}/>\n        <PrivateRoute exact path='/status' component={Status}/>\n        <PrivateRoute exact path='/staff_salary' component={Salary}/>\n        <PrivateRoute exact path='/staff_salary_edit/:id' component={SalaryEdit}/>\n      </Switch>\n    </main>\n  )\n}\n\nexport default App;","//IMPORT\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter,HashRouter } from 'react-router-dom';\nimport * as serviceWorker from './serviceWorker';\n\n//IMPORT STYLES\nimport './styles/lavenst.scss';\n\n//IMPORT COMPONENTS\nimport App from './App';\n\nReactDOM.render(\n  <HashRouter basename='/'>\n    <App />\n  </HashRouter>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}